{"version":3,"sources":["essay/index.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","IndexController","_Controller","this","_this","getPrototypeOf","computeScrollWidth","addEventListener","categoryWidth","$","each","width","css","click","hide","$subCategoryContainer","attr","slideDown","subCategoryWidth","find","Controller","document","ready"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,4BAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,WAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GANje,GAAIW,cAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWX,WAAaW,EAAWX,aAAc,EAAOW,EAAWT,cAAe,EAAU,SAAWS,KAAYA,EAAWV,UAAW,GAAML,OAAOgB,eAAeL,EAAQI,EAAWE,IAAKF,IAAiB,MAAO,UAAUzB,EAAa4B,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBpB,EAAYS,UAAWmB,GAAiBC,GAAaT,EAAiBpB,EAAa6B,GAAqB7B,MAG1hB8B,gBAUgB,SAAUC,GAT5B,QAAAD,KAAchC,gBAAAkC,KAAAF,EAAA,IAAAG,GAAA/B,2BAAA8B,MAAAF,EAAAZ,WAAAR,OAAAwB,eAAAJ,IAAA1B,KAAA4B,MAAA,OAKVC,GAAKE,qBAILF,EAAKG,mBATKH,EAgEd,MAtDA3B,WAAUwB,EAAiBC,GAkB3BZ,aAAaW,IACTH,IAAK,qBAKLd,MAAO,WAnBP,GAAIwB,GAAgB,CACpBC,GAAE,4CAA4CC,KAAK,WAC/CF,GAAkBC,EAAEN,MAAMQ,QAAU,KAExCF,EAAE,uBAAuBG,KAAMD,MAAUH,EAAgB,UA4BzDV,IAAK,mBACLd,MAAO,WAtBPyB,EAAE,wBAAwBI,MAAM,WAC5BJ,EAAE,sBAAsBK,MACxB,IAAIC,GAAwBN,EAAE,iBAAmBA,EAAEN,MAAMa,KAAK,WAAa,YAC3ED,GAAsBE,UAAU,MAAQ,WAEpC,GAAIC,GAAmB,CACvBH,GAAsBI,KAAK,KAAKT,KAAK,WACjCQ,GAAqBT,EAAEN,MAAMQ,QAAS,KAE1CI,EAAsBI,KAAK,OAAOP,KAAMD,MAAUO,EAAmB,eA6B1EjB,GAjEmBmB,WA4C9BX,GAAEY,UAAUC,MAAM,WACd,GAAIrB","file":"index.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：essay -> index(取经频道首页)\r\n 3. 作者：赵华刚@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass IndexController extends Controller {\r\n    constructor() {\r\n        super() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给文章类别导航菜单容器以及特殊栏目卡片容器计算宽度并赋予样式，实现滚动\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/         \r\n        this.computeScrollWidth() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给dom节点绑定事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n        this.addEventListener() ;\r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    给文章类别导航菜单容器计算宽度并赋予样式，实现滚动\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    computeScrollWidth() {        \r\n        let categoryWidth = 0 ;       \r\n        $(\".essay-category a , .essay-category span\").each(function(){            \r\n            categoryWidth += ($(this).width() + 35) ;  //35是什么概念：每个菜单有15px的左右margin，一起就是30，再放5px\r\n        }) ;        \r\n        $(\".essay-category div\").css({ \"width\" : categoryWidth + \"px\" }) ; \r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    给dom节点绑定事件\r\n    1. 文章类别导航菜单中如果是span标签说明有子菜单，就要赋予点击监听\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    addEventListener() {\r\n        $(\".essay-category span\").click(function(){\r\n            $(\".essay-subcategory\").hide() ;\r\n            let $subCategoryContainer = $(\"#essayCategory\" + $(this).attr(\"data-id\") + \"ChildList\") ;\r\n            $subCategoryContainer.slideDown(\"200\" , function(){\r\n                //展开后要再计算二级类别总宽度，再赋予容器\r\n                let subCategoryWidth = 0 ;\r\n                $subCategoryContainer.find(\"a\").each(function(){                    \r\n                    subCategoryWidth += ($(this).width() +40) ;\r\n                }) ;\r\n                $subCategoryContainer.find(\"div\").css({ \"width\" : subCategoryWidth + \"px\" }) ;\r\n            }) ;\r\n        }) ;\r\n    }   \r\n}\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n    new IndexController ;\r\n}) ;\r\n"]}