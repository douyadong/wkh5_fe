{"version":3,"sources":["essay/index.min.js"],"names":["IndexController","computeScrollWidth","addEventListener","categoryWidth","$","each","width","css","click","hide","$subCategoryContainer","attr","slideDown","subCategoryWidth","find","Controller","document","ready"],"mappings":";;;;;;;;;;AAAA;;;;;IAKMA,e;;;AACF,+BAAc;AAAA;;AAEV;;;AAFU;;AAKV,cAAKC,kBAAL;AACA;;;AAGA,cAAKC,gBAAL;AATU;AAUb;;;;;AACD;;;6CAGqB;AACjB,gBAAIC,gBAAgB,CAApB;AACAC,cAAE,0CAAF,EAA8CC,IAA9C,CAAmD,YAAU;AACzDF,iCAAkBC,EAAE,IAAF,EAAQE,KAAR,KAAkB,EAApC,CADyD,CACd;AAC9C,aAFD;AAGAF,cAAE,qBAAF,EAAyBG,GAAzB,CAA6B,EAAE,SAAUJ,gBAAgB,IAA5B,EAA7B;AACH;AACD;;;;;;;2CAImB;AACfC,cAAE,sBAAF,EAA0BI,KAA1B,CAAgC,YAAU;AACtCJ,kBAAE,oBAAF,EAAwBK,IAAxB;AACA,oBAAIC,wBAAwBN,EAAE,mBAAmBA,EAAE,IAAF,EAAQO,IAAR,CAAa,SAAb,CAAnB,GAA6C,WAA/C,CAA5B;AACAD,sCAAsBE,SAAtB,CAAgC,KAAhC,EAAwC,YAAU;AAC9C;AACA,wBAAIC,mBAAmB,CAAvB;AACAH,0CAAsBI,IAAtB,CAA2B,GAA3B,EAAgCT,IAAhC,CAAqC,YAAU;AAC3CQ,4CAAqBT,EAAE,IAAF,EAAQE,KAAR,KAAiB,EAAtC;AACH,qBAFD;AAGAI,0CAAsBI,IAAtB,CAA2B,KAA3B,EAAkCP,GAAlC,CAAsC,EAAE,SAAUM,mBAAmB,IAA/B,EAAtC;AACH,iBAPD;AAQH,aAXD;AAYH;;;;EAvCyBE,U;AAyC9B;;;;;AAGAX,EAAEY,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AACzB,QAAIjB,eAAJ;AACH,CAFD","file":"index.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：essay -> index(取经频道首页)\r\n 3. 作者：赵华刚@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass IndexController extends Controller {\r\n    constructor() {\r\n        super() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给文章类别导航菜单容器以及特殊栏目卡片容器计算宽度并赋予样式，实现滚动\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/         \r\n        this.computeScrollWidth() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给dom节点绑定事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n        this.addEventListener() ;\r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    给文章类别导航菜单容器计算宽度并赋予样式，实现滚动\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    computeScrollWidth() {        \r\n        let categoryWidth = 0 ;       \r\n        $(\".essay-category a , .essay-category span\").each(function(){            \r\n            categoryWidth += ($(this).width() + 35) ;  //35是什么概念：每个菜单有15px的左右margin，一起就是30，再放5px\r\n        }) ;        \r\n        $(\".essay-category div\").css({ \"width\" : categoryWidth + \"px\" }) ; \r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    给dom节点绑定事件\r\n    1. 文章类别导航菜单中如果是span标签说明有子菜单，就要赋予点击监听\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    addEventListener() {\r\n        $(\".essay-category span\").click(function(){\r\n            $(\".essay-subcategory\").hide() ;\r\n            let $subCategoryContainer = $(\"#essayCategory\" + $(this).attr(\"data-id\") + \"ChildList\") ;\r\n            $subCategoryContainer.slideDown(\"200\" , function(){\r\n                //展开后要再计算二级类别总宽度，再赋予容器\r\n                let subCategoryWidth = 0 ;\r\n                $subCategoryContainer.find(\"a\").each(function(){                    \r\n                    subCategoryWidth += ($(this).width() +40) ;\r\n                }) ;\r\n                $subCategoryContainer.find(\"div\").css({ \"width\" : subCategoryWidth + \"px\" }) ;\r\n            }) ;\r\n        }) ;\r\n    }   \r\n}\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n    new IndexController ;\r\n}) ;\r\n"]}