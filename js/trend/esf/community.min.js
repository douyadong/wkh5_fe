"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),communityController=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=$(".echart").attr("data-echart");o&&e.echartFun(e.recombineM(JSON.parse(o))),$(".lazy").lazyload({placeholder:e.staticDomain+"/wkh5_fe/images/common/loading.jpg"});var n=e;return $(".flag>a.esf-item:gt(4)").hide(),require(["../../components/trend-search.min"],function(e){e.init(n),e.selectFun("icon-search")}),new Location({businessType:"esfTrend",cityApiUrl:e.apiUrl.common.getCityByLatLon,identical:function(e){},investmentFlag:function(e){e.investment?$("notopen-investment").show():$("notopen-investment").hide()}}),e}return _inherits(t,e),_createClass(t,[{key:"echartFun",value:function(e){var t=[],o=0,n=!0;if(e.seriesData.forEach(function(e,r){0==e?(t.push(null),o+=1,11==o&&10==r&&(n=!1)):t.push(parseFloat(e))}),!n)return void $("#estateEchart").hide();var r=e.seriesData.sort(function(e,t){return parseFloat(e)-parseFloat(t)}),i=1e3*Math.ceil(r[r.length-1]/1e3),a=[];r.forEach(function(e,t){0!=e&&a.push(e)});var s=1e3*Math.ceil(a[0]/1e3-1),l=1e3;r[r.length-1]==a[0]?(s-=2e3,l=1e3):l=(i-s)/4<1e3?1e3:1e3*Math.ceil((i-s)/4e3),s=s<0?0:s;var c=echarts.init(document.getElementById("main"),{width:"92%"}),u={tooltip:{trigger:"item",triggerOn:"click",position:"top",backgroundColor:"#4081D6",padding:4,textStyle:{color:"#fff",fontSize:"12"},formatter:function(e,t,o){var n=e.value+"元";return n}},grid:{bottom:20,left:"3%",right:"10%",containLabel:!0},xAxis:{data:e.monthList,splitLine:{show:!1},axisTick:{show:!1},position:"bottom",type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#fff"}},axisLabel:{interval:0,rotate:0,textStyle:{color:"#999",fontSize:12,fontFamily:"微软雅黑"}}},yAxis:{axisLine:{show:!1,onZero:!0},splitLine:{show:!0,lineStyle:{color:["#979797"],type:"dotted"}},axisTick:{show:!1},axisLabel:{inside:!1,textStyle:{color:"#999"},formatter:function(e,t){return 0==t?"":(e/1e4).toFixed(1)+" 万"}},boundaryGap:!1,position:"right",min:s-l>0?s-l:0,max:s-l>0?s+4*l:5*l,interval:l},series:[{name:"销量",type:"line",lineStyle:{normal:{color:"#4081D6",width:3}},itemStyle:{normal:{color:"#4081D6",borderWidth:2},emphasis:{borderColor:"#4081D6",borderWidth:2,color:"#4081D6"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:"rgba(64,129,214,0.15)"},{offset:1,color:"#fff"}],(!1))}},symbolSize:10,connectNulls:!0,data:t}]};c.setOption(u)}},{key:"recombineM",value:function(e){var t={monthList:[],seriesData:[]};return e&&e.forEach(function(e,o){var n=e.date.split("-")[1];0==n.indexOf("0")?t.monthList.push(n.charAt(1)):t.monthList.push(n),t.seriesData.push(e.unitPrice)}),t.monthList[11]="     "+t.monthList[11]+"   (月)",t}}]),t}(Controller);$(document).ready(function(){new communityController});
//# sourceMappingURL=community.min.js.map
