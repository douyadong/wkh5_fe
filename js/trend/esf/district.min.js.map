{"version":3,"sources":["trend/esf/district.min.js"],"names":["districtController","dataaa","echartFun","echartData","seriesData","forEach","item","push","parseFloat","sortArray","sort","a","b","maxPrice","Math","ceil","length","minPrice","avgPrice","myChart","echarts","init","document","getElementById","width","that","houseId","$","attr","subestateid","echartBigData","option","tooltip","trigger","triggerOn","position","backgroundColor","padding","textStyle","color","fontSize","formatter","params","ticket","callback","paramsValue","value","request","apiUrl","common","bigData","grid","bottom","left","right","containLabel","xAxis","name","nameGap","nameTextStyle","top","data","monthList","splitLine","show","axisTick","type","boundaryGap","axisLine","lineStyle","axisLabel","interval","rotate","fontFamily","yAxis","inside","index","min","max","series","normal","itemStyle","borderWidth","emphasis","borderColor","areaStyle","graphic","LinearGradient","offset","symbolSize","connectNulls","setOption","month","date","split","indexOf","charAt","unitPrice","console","log","Controller","ready"],"mappings":"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","file":"district.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：trend/esf/district(二手房价格行情)\n 3. 作者：liyang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\nclass districtController extends Controller {\n    constructor() {\n        super();\n            let dataaa = {\n                   \"monthList\":[\"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\", \"1月\", \"2月\", \"3月\"],\n                   \"seriesData\":[\"10000\", \"14000\", \"12000\", \"15000\", \"15000\", \"18000\", \"15000\", \"15000\", \"13000\", \"0\", \"15000\", \"15000\"]\n             };\n        this.echartFun(dataaa) ;\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    折线图函数异步操作\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    echartFun(echartData){\n        let seriesData=[];\n        echartData.seriesData.forEach(function(item){\n            if(item == 0){\n                seriesData.push(null);\n            }else{\n                seriesData.push(parseFloat(item));\n            }\n        });\n        let sortArray = echartData.seriesData.sort(function(a, b) {\n            return parseFloat(a) - parseFloat(b);\n        });\n        let maxPrice = Math.ceil((sortArray[sortArray.length - 1] / 1000)) * 1000;\n        let minPrice = Math.ceil((sortArray[0] / 1000) - 1) * 1000;\n        let avgPrice = 1000 ;\n        if (maxPrice == minPrice ) {\n            minPrice = maxPrice - 2000;\n            avgPrice = 1000\n        }else{\n            avgPrice = (maxPrice - minPrice)/4 < 1000 ? 1000:Math.ceil((maxPrice - minPrice)/4000)*1000;\n        }\n        minPrice =  minPrice < 0 ? 0:minPrice;\n        let myChart = echarts.init(document.getElementById('main'),{ width: '88%' });\n        let that = this;\n        // 给折线图dome增加埋点\n        let houseId =  $('#estateName').attr('data-houseid');\n        let subestateid =  $('#estateName').attr('data-subestateid') ;\n        let echartBigData = {\n            \"eventName\": \"1067014\",\n            \"eventParam\": { \"house_id\" : houseId , \"estate_id\": subestateid },\n            \"type\": 2\n        };\n        // 指定图表的配置项和数据\n        let option = {\n            tooltip: {      // 提示框\n                trigger: 'item',\n                triggerOn: 'click',\n                position: 'top',\n                backgroundColor: '#4081D6',\n                padding: 4,\n                textStyle: {\n                    color: '#fff',\n                    fontSize: '12'\n                },\n                formatter:function (params, ticket, callback) {\n                    let paramsValue =  params.value + \"元\";\n                    that.request(that.apiUrl.common.bigData , echartBigData ,function () {\n\n                    });\n                    return paramsValue;\n                }\n            },\n            grid: {\n                bottom: 20,\n                left: '3%',\n                right: '10%',\n                containLabel: true,\n            },\n            xAxis: {\n                name:\"(月)\",\n                nameGap:15,\n                nameTextStyle:{\n                    position:'relative',\n                    top:20\n                },\n                data: echartData.monthList ,  // X坐标数据\n                splitLine: {show: false}, // 控制网格线是否显示\n                axisTick: {show: false},  // 去除x轴上的刻度线\n                position: 'bottom',\n                type: 'category',\n                boundaryGap: false,\n                axisLine: {\n                    lineStyle: {\n                        color: '#fff', // x轴颜色\n                    }\n                },\n                axisLabel: {\n                    interval: 0,\n                    rotate: 0, //60度角倾斜显示\n                    textStyle: {\n                        color: '#999',\n                        fontSize: 12,\n                        fontFamily: '微软雅黑'\n                    }\n                },\n            },\n            yAxis: {\n                axisLine: {show: false},   // y轴是否显示\n                splitLine: {\n                    show: true,  // 控制网格线是否显示\n                    lineStyle: {\n                        color: ['#979797'], // y刻度颜色\n                        type:'dotted'\n                    }\n                },\n                axisTick: {show: false },  // 去除y轴上的刻度线\n                axisLabel:{\n                    inside: false,\n                    textStyle: {\n                        color: '#999',\n                    },\n                    formatter: function(value, index) {\n                        if (value == 0) {\n                            return \"\";\n                        } else {\n                            return value / 10000 + '万';\n                        }\n                    }\n                },\n                position:'right',\n                min:minPrice,\n                max:avgPrice*5,\n                interval:avgPrice,\n            },\n            series: [{\n                name: '销量',\n                type: 'line',\n                lineStyle:{\n                    normal:{\n                        color:'#4081D6', // 折线条颜色\n                        width:3\n                    }\n\n                },\n                itemStyle:{\n                    normal:{\n                        color: \"#4081D6\", //图标颜色\n                        borderWidth:2\n                    },\n                    emphasis: { //重点，强调时候的样式，即当鼠标悬停或点击上去的时候的拐点的样式\n                        borderColor: '#4081D6',\n                        borderWidth: 2,\n                        color: '#4081D6'\n                    }\n                },\n                areaStyle:{ //区域填充样式\n                    normal:{\n                        //线性渐变\n                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                            offset: 1, color: 'rgba(64,129,214,0.15)'  // 0% 处的颜色'#b1e3fe'\n                        }, {\n                            offset: 1, color: '#fff' // 100% 处的颜色\n                        }], false)\n                    }\n                },\n                symbolSize: 10,\n                connectNulls: true,\n                data: seriesData,\n            }],\n        };\n        myChart.setOption(option);\n    };\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    处理得到的数据的函数  处理月份和数据\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    recombineM(data) {\n        let echartData = {\n            monthList: [],\n            seriesData: []\n        };\n        if (data) {\n            data.forEach((item,index) => {\n                let month = item.date.split('-')[1];\n                if (month.indexOf('0') == 0) {\n                    echartData.monthList.push(month.charAt(1))\n                }   else if(index == 11) {\n                    echartData.monthList.push(month+' (月)')\n                } else {\n                    echartData.monthList.push(month)\n                }\n                echartData.seriesData.push(item.unitPrice)\n            });\n        }\n        console.log(echartData);\n        return echartData ;\n    }\n}\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n    new districtController;\n});"]}