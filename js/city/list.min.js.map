{"version":3,"sources":["city/list.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","cityListController","_Controller","this","_this","getPrototypeOf","tableClick","choseCity","$","cookie","html","hide","css","height","click","siblings","removeClass","addClass","indexP","index","show","pinyin","cityId","attr","cityName","backOrigin","url","location","search","theRequest","indexOf","str","substr","strs","split","GetRequest","window","href","path","Controller","document","ready"],"mappings":"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","file":"list.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：city/list(城市列表)\n 3. 作者：liyang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\nclass cityListController extends Controller {\n    constructor() {\n        super();\n        this.tableClick();\n        this.choseCity();\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n       根据定位是否成功显示或隐藏定位的信息\n       -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if($.cookie('location_cityName')){\n            $('.location').html( $.cookie('location_cityName'));\n           /* $('.location').attr('data-pinyin',$.cookie('location_cityPinyin'));\n            $('.location').attr('data-cityid',$.cookie('location_cityId') )*/\n        }else {\n            $('.inside-city').hide();\n        }\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        动态渲染高度 和头部的置顶\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if (!($('.table-name').length > 0)){\n        $('.dic-name').css('position','static');\n        $('.city-list').css('margin-top',0);\n        }else {\n            $('.city-list').css('margin-top',$('.dic-name').height());\n        }\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n   table点击事件\n   -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    tableClick() {\n      $(\".table-name > ul >li \").click(function () {\n          $(this).siblings().removeClass('table-active');\n          $(this).addClass('table-active');\n          let indexP = $(this).index();\n          if  (indexP == 0){\n              $('.domestic-list').show();\n              $('.oversea-list').hide();\n          }else if (indexP == 1){\n              $('.domestic-list').hide();\n              $('.oversea-list').show();\n          }\n      });\n    };\n     /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    选取城市并跳转\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    choseCity() {\n        let pinyin ='';\n        let cityId ='';\n        let self = this;\n        $('.inside-city-list >ul > li').click(function () {\n            pinyin =  $(this).attr('data-pinyin');\n            cityId =  $(this).attr('data-cityid');\n            let cityName =  $(this).html();\n            self.backOrigin(pinyin,cityId,cityName)\n        });\n\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    截取？后面的参数\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    GetRequest() {\n        let url = location.search;\n        let theRequest = {};\n        if (url.indexOf(\"?\") !== -1) {\n            let str = url.substr(1);\n            let strs = str.split(\"&\");\n            for(let i = 0; i < strs.length; i ++) {\n                theRequest[strs[i].split(\"=\")[0]] = strs[i].split(\"=\")[1];\n            }\n        }\n        return theRequest;\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    返回最终的来源   @businessType : 业务类型，可以是old (二手房) | new (新房) | rent (租房) | xfPrice (新房价格行情) | esfPrice (新房价格行情)，只当前模块是哪个业务\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    backOrigin(pinyin,cityId,cityName) {\n        if (this.GetRequest()['businessType'] == \"old\") {\n            window.location.href = '/' + pinyin + \"/esf\"\n        } else if (this.GetRequest()['businessType'] == \"new\") {\n            window.location.href = '/' + pinyin + \"/xflist\"\n        } else if (this.GetRequest()['businessType'] == \"rent\") {\n            window.location.href = '/' + pinyin + \"/rent/?channel=\"+this.GetRequest()['channel']\n        } else if(this.GetRequest()['businessType'] == \"xfPrice\") {\n            window.location.href = \"/xfPrice/price.html?regionId=\"+cityId+\"&regionType=1\"\n        }else if(this.GetRequest()['businessType'] == \"esfPrice\") {\n            window.location.href = \"/esfPrice/price.html?regionId=\"+cityId+\"&regionType=1\"\n        }\n        $.cookie('userSelectedCity',pinyin,{path: '/',});\n        $.cookie('userSelectedCityId',cityId,{path: '/',});\n        $.cookie('userSelectedCityName',cityName,{path: '/',});\n    }\n}\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    类的初始化\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function () {\n    new cityListController;\n});"]}