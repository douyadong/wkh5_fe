{"version":3,"sources":["city/list.min.js"],"names":["cityListController","tableClick","choseCity","$","cookie","html","length","css","height","click","siblings","removeClass","addClass","indexP","index","show","hide","pinyin","cityId","self","attr","cityName","backOrigin","url","window","location","href","path","Controller","document","ready"],"mappings":"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","file":"list.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：city/list(城市列表)\n 3. 作者：liyang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\nclass cityListController extends Controller {\n    constructor() {\n        super();\n        this.tableClick();\n        this.choseCity();\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n       根据定位是否成功显示或隐藏定位的信息\n       -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if($.cookie('location_cityName')){\n            $('.location').html( $.cookie('location_cityName'));\n        }else {\n            $('.location').html( \"定位失败\");\n        }\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        动态渲染高度 和头部的置顶\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if (!($('.table-name').length > 0)){\n        $('.dic-name').css('position','static');\n        $('.city-list').css('margin-top',0);\n        }else {\n            $('.city-list').css('margin-top',$('.dic-name').height());\n        }\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n   table点击事件\n   -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    tableClick() {\n      $(\".table-name > ul >li \").click(function () {\n          $(this).siblings().removeClass('table-active');\n          $(this).addClass('table-active');\n          let indexP = $(this).index();\n          if  (indexP == 0){\n              $('.domestic-list').show();\n              $('.oversea-list').hide();\n          }else if (indexP == 1){\n              $('.domestic-list').hide();\n              $('.oversea-list').show();\n          }\n      });\n    };\n     /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    选取城市并跳转\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    choseCity() {\n        let pinyin ='';\n        let cityId ='';\n        let self = this;\n        $('.inside-city-list >ul > li').click(function () {\n            pinyin =  $(this).attr('data-pinyin');\n            cityId =  $(this).attr('data-cityid');\n            let cityName =  $(this).html();\n            self.backOrigin(pinyin,cityId,cityName)\n        });\n    }\n\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    返回最终的来源   @businessType : 业务类型，可以是old (二手房) | new (新房) | rent (租房) | xfPrice,newTrend (新房价格行情) | esfPrice ,esfTrend(新房价格行情)，只当前模块是哪个业务\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    backOrigin(pinyin,cityId,cityName) {\n        if (pinyin && cityId){\n            if (url('?businessType') == \"old\") {\n                window.location.href = '/' + pinyin + \"/esf\"\n            } else if (url('?businessType') == \"new\") {\n                window.location.href = '/' + pinyin + \"/xflist\"\n            } else if (url('?businessType') == \"rent\") {\n                window.location.href = '/' + pinyin + \"/rent/?channel=\"+url('?channel')\n            } else if(url('?businessType') == \"xfPrice\") {\n                window.location.href = \"/xfPrice/price.html?regionId=\"+cityId+\"&regionType=1\"\n            }else if(url('?businessType') == \"esfPrice\") {\n                window.location.href = \"/esfPrice/price.html?regionId=\"+cityId+\"&regionType=1\"\n            } else if (url('?businessType') == \"esfTrend\"){\n                window.location.href = \"/\"+pinyin+\"/trend/esf\"\n            } else if (url('?businessType') == \"newTrend\"){\n                window.location.href = \"/\"+pinyin+\"/trend/new\"\n            }\n            $.cookie('userSelectedCity',pinyin,{path: '/',});\n            $.cookie('userSelectedCityId',cityId,{path: '/',});\n            $.cookie('userSelectedCityName',cityName,{path: '/',});\n        }\n    }\n}\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    类的初始化\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function () {\n    new cityListController;\n});"]}