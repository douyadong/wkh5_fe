{"version":3,"sources":["esf/detail.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","DetailController","_Controller","this","_this","getPrototypeOf","$","lazyload","placeholder","staticDomain","addListenerToDownloadApp","click","nativeSchema","loadSchema","schema","val","protocal","loadWaiting","failUrl","apkInfo","PKG","CATEGORY","ACTION","addListenerToAssistant","fiveLine","encryptsubestateid","attr","that","request","apiUrl","community","chart","subEstateId","successCallback","data","status","dataRes","echartData","recombineM","echartFun","require","Album","BigData","init","bigData","pageName","pageParam","house_id","boutique","channel","GetRequest","type","hide","rowNum","Math","round","height","parseFloat","css","addClass","show","removeClass","seriesData","countNum","echartShow","forEach","item","index","push","sortArray","sort","a","b","maxPrice","ceil","notZroArray","minPrice","avgPrice","colorChang","myChart","echarts","document","getElementById","width","houseId","subestateid","echartBigData","eventName","eventParam","estate_id","option","tooltip","trigger","triggerOn","position","backgroundColor","padding","textStyle","color","fontSize","formatter","params","ticket","callback","paramsValue","common","grid","bottom","left","right","containLabel","xAxis","monthList","splitLine","axisTick","boundaryGap","axisLine","lineStyle","axisLabel","interval","rotate","fontFamily","yAxis","inside","toFixed","min","max","series","name","normal","itemStyle","emphasis","borderColor","borderWidth","symbolSize","connectNulls","setOption","month","date","split","indexOf","charAt","unitPrice","console","log","url","location","search","theRequest","str","substr","strs","Controller","ready"],"mappings":"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","file":"detail.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：esf/detail(二手房-详情)\r\n 3. 作者：liyang@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass DetailController extends Controller {\r\n    constructor() {        \r\n        // 初始化\r\n        super() ;        \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        图片懒加载实例化\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/        \r\n        $(\".lazy\").lazyload({ \r\n            \"placeholder\" : this.staticDomain + \"/wkh5_fe/images/common/loading.jpg\"\r\n        }) ;  \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        downloadApp条事件绑定\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.addListenerToDownloadApp() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        打开app按钮点击处理\r\n        schemes参数规则请参照：http://confluence.wkzf/pages/viewpage.action?pageId=80329073\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".download-app .download\").click(()=> {\r\n            nativeSchema.loadSchema({               \r\n                schema : \"external_call/parameter?t=0&bt=1&houseId=\" + $(\"#houseId\").val() + \"&systemHouseType=1\"  ,  // 通过NN打开某个链接\r\n                protocal : \"wkzf\" , //schema头协议，实际情况填写\r\n                loadWaiting : \"1500\" , //发起唤醒请求后，会等待loadWaiting时间，超时则跳转到failUrl，默认3000ms                \r\n                failUrl : \"https://m.wkzf.com/download/transit?from=esfDetail\" ,  //唤起失败时的跳转链接，默认跳转到下载页\r\n                // apk信息,请根据实际情况填写\r\n                apkInfo : {\r\n                    PKG : \"com.wukong.ua\" ,\r\n                    CATEGORY : \"android.intent.category.DEFAULT\" ,\r\n                    ACTION : \"android.intent.action.VIEW\"\r\n                }\r\n            }) ;\r\n        }) ;\r\n        /*\r\n        new WakeupApp({\r\n            element : \".download-app .download\" ,\r\n            androidSchemes : \"wkzf://external_call/parameter?t=0&bt=1&houseId=\" + $(\"#houseId\").val() + \"&systemHouseType=1\" ,\r\n            isoSchemes : \"wkzf://external_call/parameter?t=0&bt=1&houseId=\" + $(\"#houseId\").val() + \"&systemHouseType=1\" ,\r\n            androidDownloadLink : \"https://m.wkzf.com/download/transit?from=esfDetail\" ,\r\n            iosDownloadLink : \"https://m.wkzf.com/download/transit?from=esfDetail\"\r\n        }) ;\r\n        */\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        底部经纪人助手条处理\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.addListenerToAssistant() ;\r\n\r\n         this.fiveLine() ;         \r\n        // 获取小区加密Id\r\n        let  encryptsubestateid = $('#estateName').attr('data-encryptsubestateid');\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        请求接口 获取折线图参数\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n         let that = this;\r\n         this.request(this.apiUrl.community.chart,{subEstateId:encryptsubestateid},{successCallback(data){\r\n             if (data.status == 1){\r\n                 let dataRes = data;\r\n                 let echartData =  that.recombineM(dataRes.data);\r\n                 that.echartFun(echartData) ;\r\n             }\r\n          }});\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        页面埋点和相册需要的模块\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        let self = this;\r\n        require([ '../components/album.min','../components/bigdata.min'],function(Album, BigData){\r\n            BigData.init(that);\r\n            BigData.bigData({\r\n                \"pageName\": \"1067\",\r\n                \"pageParam\":{\r\n                    \"house_id\": $('#estateName').attr('data-houseid'),\r\n                    \"boutique\": $('#estateName').attr('data-boutique')\r\n                },\r\n                \"channel\":self.GetRequest()['channel'] || \"\",\r\n                \"type\": 1\r\n            });\r\n        });\r\n    }        \r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    判断文本是否大于5行\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    fiveLine(){\r\n        $('.more').hide();\r\n        let rowNum=Math.round($(\".base-info\").height()/parseFloat($(\".base-info\").css('line-height')));\r\n        if(rowNum > 5){\r\n            $(\".base-info\").addClass('word-line');\r\n            $('.more').show();\r\n        }else {\r\n            $(\".base-info\").removeClass('word-line');\r\n            $('.more').hide();\r\n        }\r\n        $('.more').click(function () {\r\n            $(\".base-info\").removeClass('word-line');\r\n            $('.more').hide();\r\n        });\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    折线图函数异步操作\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    echartFun(echartData){\r\n        let seriesData=[];\r\n        let countNum = 0;\r\n        let echartShow = true;\r\n        echartData.seriesData.forEach(function(item,index){\r\n            if(item == 0){\r\n                seriesData.push(null);\r\n                countNum += 1;\r\n                if (countNum == 11 && index == 10){\r\n                    echartShow = false;\r\n                }\r\n            }else{\r\n                seriesData.push(parseFloat(item));\r\n            }\r\n        });\r\n        if (!echartShow) {\r\n            $('#estateNameEcharts').hide();\r\n            return\r\n        }\r\n        let sortArray = echartData.seriesData.sort(function(a, b) {\r\n            return parseFloat(a) - parseFloat(b);\r\n        });\r\n        /* 按照3.12需求文档走势图数据要求*/\r\n        let maxPrice = Math.ceil((sortArray[sortArray.length - 1] / 1000)) * 1000;\r\n        let notZroArray = [];\r\n        sortArray.forEach(function (item,index) {\r\n            if (item != 0){\r\n                notZroArray.push(item)\r\n            }\r\n        });\r\n        let minPrice = Math.ceil((notZroArray[0] / 1000) - 1) * 1000;\r\n        let avgPrice = 1000 ;\r\n        if (sortArray[sortArray.length - 1] == notZroArray[0] ) {\r\n            minPrice = minPrice - 2000;\r\n            avgPrice = 1000\r\n        }else{\r\n            avgPrice = ((maxPrice - minPrice)/4) < 1000 ? 1000:Math.ceil((maxPrice - minPrice)/4000)*1000;\r\n        }\r\n        minPrice =  minPrice < 0 ? 0:minPrice;\r\n        let colorChang = (minPrice-avgPrice > 0  ||  minPrice == 0)? '#979797':'#fff';\r\n        let myChart = echarts.init(document.getElementById('main'),{ width: '88%' });\r\n        let that = this;\r\n        // 给折线图dome增加埋点\r\n        let houseId =  $('#estateName').attr('data-houseid');\r\n        let subestateid =  $('#estateName').attr('data-subestateid') ;\r\n        let echartBigData = {\r\n            \"eventName\": \"1067014\",\r\n            \"eventParam\": { \"house_id\" : houseId , \"estate_id\": subestateid },\r\n            \"type\": 2\r\n        };\r\n        // 指定图表的配置项和数据\r\n        let option = {\r\n            tooltip: {      // 提示框\r\n                trigger: 'item',\r\n                triggerOn: 'click',\r\n                position: 'top',\r\n                backgroundColor: '#4081D6',\r\n                padding: 4,\r\n                textStyle: {\r\n                    color: '#fff',\r\n                    fontSize: '12'\r\n                },\r\n                formatter:function (params, ticket, callback) {\r\n                    let paramsValue =  params.value + \"元\";\r\n                    that.request(that.apiUrl.common.bigData , echartBigData ,function () {\r\n\r\n                    });\r\n                    return paramsValue;\r\n                }\r\n            },\r\n            grid: {\r\n                bottom: 20,\r\n                left: '3%',\r\n                right: '10%',\r\n                containLabel: true,\r\n            },\r\n            xAxis: {\r\n                show:true,\r\n                data: echartData.monthList ,  // X坐标数据\r\n                splitLine: {show: false}, // 控制网格线是否显示\r\n                axisTick: {show: false},  // 去除x轴上的刻度线\r\n                position: 'bottom',\r\n                type: 'category',\r\n                boundaryGap: false,\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: colorChang, // x轴颜色\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    rotate: 0, //60度角倾斜显示\r\n                    textStyle: {\r\n                        color: '#999',\r\n                        fontSize: 12,\r\n                        fontFamily: '微软雅黑'\r\n                    }\r\n                },\r\n            },\r\n            yAxis: {\r\n                axisLine: {show: false},   // y轴是否显示\r\n                splitLine: {\r\n                    show: true,  // 控制网格线是否显示\r\n                    interval: function(index, value) {\r\n\r\n                    },\r\n                    lineStyle: {\r\n                        color: ['#979797'] // y刻度颜色\r\n                    }\r\n                },\r\n                axisTick: {show: false},// 去除y轴上的刻度线\r\n                axisLabel:{\r\n                    inside: false,\r\n                    textStyle: {\r\n                        color: '#999',\r\n                    },\r\n                    formatter: function(value, index) {\r\n                        if ( index == 0) {\r\n                            return \"\";\r\n                        } else {\r\n                            return (value / 10000).toFixed(1) + ' 万';\r\n                        }\r\n                    }\r\n                },\r\n                min: minPrice - avgPrice,\r\n                max: minPrice + avgPrice * 4,\r\n             /*   min:minPrice-avgPrice > 0 ? minPrice-avgPrice : 0,\r\n                max:minPrice-avgPrice > 0 ? minPrice+ avgPrice * 4:avgPrice * 5,*/\r\n                interval: avgPrice ,\r\n            },\r\n            series: [{\r\n                name: '销量',\r\n                type: 'line',\r\n                lineStyle:{\r\n                    normal:{\r\n                        color:'#4081D6', // 折线条颜色\r\n                    }\r\n\r\n                },\r\n                itemStyle:{\r\n                    normal:{\r\n                        color: \"#4081D6\", //图标颜色\r\n                    },\r\n                    emphasis: { //重点，强调时候的样式，即当鼠标悬停或点击上去的时候的拐点的样式\r\n                        borderColor: '#4081D6',\r\n                        borderWidth: 2,\r\n                        color: '#4081D6'\r\n                    }\r\n                },\r\n                symbolSize: 5,\r\n                connectNulls: true,\r\n                data: seriesData,\r\n            }],\r\n        };\r\n        myChart.setOption(option);\r\n    };\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    处理得到的数据的函数  处理月份和数据\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    recombineM(data) {\r\n        let echartData = {\r\n            monthList: [],\r\n            seriesData: []\r\n        };\r\n        if (data) {\r\n            data.forEach((item) => {\r\n                let month = item.date.split('-')[1];\r\n                if (month.indexOf('0') == 0) {\r\n                    echartData.monthList.push(month.charAt(1)+'月')\r\n                } else {\r\n                    echartData.monthList.push(month+'月')\r\n                }\r\n                echartData.seriesData.push(item.unitPrice)\r\n            });\r\n        }\r\n        console.log(echartData);\r\n        return echartData ;\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     截取？后面的参数\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    GetRequest() {\r\n        let url = location.search;\r\n        let theRequest = {};\r\n        if (url.indexOf(\"?\") !== -1) {\r\n            let str = url.substr(1);\r\n            let strs = str.split(\"&\");\r\n            for(var i = 0; i < strs.length; i ++) {\r\n                theRequest[strs[i].split(\"=\")[0]]=strs[i].split(\"=\")[1];\r\n            }\r\n        }\r\n        // console.log(theRequest);\r\n        return theRequest;\r\n    }\r\n}\r\n\r\n\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n    new DetailController;\r\n});"]}