{"version":3,"sources":["store/index.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","IndexController","_Controller","this","_this","getPrototypeOf","$","lazyload","placeholder","staticDomain","eq","addClass","getLocation","locationPo","getHoustList","latitude","longitude","pullload","require","BigData","init","bigData","pageName","pageParam","store_id","val","type","tabs","fixedWhenScroll","effect","duration","onSwap","index","attr","find","animate","scrollTop","addEventListener","click","cookie","path","window","location","href","on","$header","$storeName","hasClass","hide","removeClass","show","modal","id","title","content","data","buttons","text","clickCallback","close","esf","aNode","document","createElement","url","bigDataParams","dlNode","append","houseImgUrl","estateName","houseTitle","houseChild","areaStr","district","town","tagNode","tagList","forEach","tag","totalPrice","unitPrice","apiUrl","store","house","queryStringObject","storeId","lon","lat","threshold","callback","each","encryptHouseId","createEsf","position","request","pageIndex","pageSize","successCallback","result","item","encodeURIComponent","JSON","stringify","eventName","eventParam","house_id","houseId","callBack","navigator","geolocation","tips","geoOpts","enableHighAccuracy","maximumAge","timeout","getCurrentPosition","coords","console","log","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","Controller","ready"],"mappings":"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","file":"index.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：store -> index(门店扫码)\r\n 3. 作者：douyadong@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass IndexController extends Controller{\r\n    constructor(){\r\n        super() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        图片懒加载实例化\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/        \r\n        $(\".lazy\").lazyload({ \r\n            \"placeholder\" : this.staticDomain + \"/wkh5_fe/images/common/loading.jpg\"\r\n        }) ;  \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给第一个tabs-handle选项添加on样式\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/         \r\n        $(\".wk-tabs .tabs-handle li\").eq(0).addClass(\"on\") ;\r\n        let self = this;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        定位加载实例化\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.getLocation((locationPo)=>{\r\n           this.getHoustList({\"latitude\":locationPo.latitude,\"longitude\":locationPo.longitude});\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             上拉加载实例化\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            this.pullload(locationPo.latitude,locationPo.longitude) ;\r\n        });\r\n\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        载入组件逻辑\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n        require([ \"../components/bigdata.min\"  ,\"../components/tabs.min\"] , (BigData)=>{\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n            pv埋点\r\n            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            BigData.init(this) ;\r\n            BigData.bigData({\r\n                \"pageName\" : \"1222\" ,\r\n                \"pageParam\" : {                    \r\n                    \"store_id\" : $(\"#storeId\").val()\r\n                } ,\r\n                \"type\" : 1\r\n            }) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n            tabs实例化,onSwap的时候要将切换到的tab的拖动加载容器requestable设置为true，其他tab拖动加载容器设置为false\r\n            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            $(\".wk-tabs\").tabs({\r\n                \"fixedWhenScroll\" : false ,\r\n                \"effect\" : \"fadeIn\" ,\r\n                \"duration\" : 200 ,\r\n                 \"onSwap\" : (index)=> {\r\n                    $(\".tabs-frame .list-container\").attr( \"data-requestable\" , \"false\" ) ;\r\n                    $(\".tabs-frame\").eq(index).find(\".list-container\").attr( \"data-requestable\" , \"true\" ) ;\r\n                    $(\"html,body\").animate({\r\n                        scrollTop : \"0px\"\r\n                    } , 100) ;\r\n                }\r\n            }) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给dom节点绑定事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.addEventListener() ;\r\n        $('#goEsf').click(function () {\r\n            $.cookie('selectedCityPinyin',$(\"#cityPinYin\").val(),{path: '/',});\r\n            $.cookie('selectedCityId',$(\"#cityId\").val(),{path: '/',});\r\n            $.cookie('selectedCityName',$(\"#cityName\").val(),{path: '/',});\r\n            if ($(this).attr('data-href')){\r\n                window.location.href= $(this).attr('data-href')\r\n            }\r\n        })\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    给dom节点绑定事件\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    addEventListener() {\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        点返回按钮要返回M站首页\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/        \r\n        $('.icon-back').on('click',function(){\r\n            window.location.href = \"/\" ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        页面滚动的时候banner条的变动\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(window).on(\"scroll\" , ()=> {\r\n            let $header = $(\"header\") ;\r\n            let $storeName = $(\"header .banner .store-name\") ;\r\n            if ($(window).scrollTop() >= 20 ) {                \r\n                if( ! $header.hasClass(\"fixed\")) $header.addClass(\"fixed\") ;\r\n                $('.market').addClass('market-small');\r\n                $(\".tabs-frame\").addClass(\"header-margin\") ;           \r\n                $storeName.hide() ;\r\n            }\r\n            else if ($(window).scrollTop() < 20) {\r\n                if( $header.hasClass(\"fixed\") ) $header.removeClass(\"fixed\") ;\r\n                $('.market').removeClass('market-small');\r\n                $(\".tabs-frame\").removeClass(\"header-margin\") ; \r\n                $storeName.show() ;\r\n            }\r\n        }) ; \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        添加微信按钮事件绑定\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".tabs-frame.agent-items .wechat\").click(function(){\r\n            $.modal({\r\n                \"id\" : \"addWechatModal\" ,\r\n                \"title\" : \"扫码加微信\" ,\r\n                \"content\" : \"<img src=\\\"\" + $(this).data(\"agentwchartqrimgurl\") + \"\\\" style=\\\"width : 12rem ; height : 12rem ; \\\"><p>微信号：\" + $(this).data(\"agentwchatid\") + \"</p>\" ,\r\n                \"buttons\" : [\r\n                    { \"text\" : \"确定\"  , \"clickCallback\" : function(){ $.modal.close(\"addWechatModal\") ; } }               \r\n                ]\r\n            }) ;            \r\n        }) ;       \r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    绘制单条房源dom节点的方法，请参照ejs模板内容\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    createEsf(esf) {\r\n        let aNode = $(document.createElement(\"A\")).attr( \"href\" , esf.url ).attr( \"data-bigdata\" , esf.bigDataParams).addClass(\"esf-item\") ;\r\n        let dlNode = $(document.createElement(\"DL\")) ;\r\n        dlNode.append( \"<dt><img src=\\\"\" + esf.houseImgUrl + \"?x-oss-process=image/resize,w_150\\\" alt=\\\"\" + esf.estateName + \"\\\" class=\\\"lazy\\\"></dt>\" ) ;\r\n        dlNode.append( \"<dd class=\\\"title\\\">\" + esf.houseTitle + \"</dd>\" ) ;\r\n        dlNode.append( \"<dd>\" + esf.houseChild +\" \" + esf.areaStr + \" | \" +  esf.district + \" \" + esf.town + \"</dd>\" ) ;              \r\n        let tagNode = $(document.createElement(\"DD\")).addClass(\"tags\") ;\r\n        esf.tagList && esf.tagList.forEach((tag) => {\r\n            if(tag == \"降价\") {\r\n                tagNode.append( `<div class=\"promotion\"><span>${ tag }</span></div>`) ;\r\n            }else if (tag == \"新上\"){\r\n                tagNode.append( `<div class=\"new\"><span>${ tag }</span></div>`) ;\r\n            }else if(tag == \"满二\" || tag == \"满五唯一\"){\r\n                tagNode.append( `<div class=\"over\"><span>${ tag }</span></div>`) ;\r\n            }else  {\r\n                tagNode.append( `<div><span>${ tag }</span></div>`) ;\r\n            }\r\n        }) ;        \r\n        dlNode.append(tagNode) ;\r\n        dlNode.append( \"<dd><span class=\\\"money\\\">\" + esf.totalPrice+ \"万</span> <span class=\\\"price\\\">\" + esf.unitPrice + \" 元/㎡</span></dd>\" ) ;  \r\n        aNode.append(dlNode) ;\r\n        return aNode ;\r\n    } ;    \r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    上拉加载实例化\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    pullload(latitude,longitude) {\r\n        let self = this ;\r\n        //二手房\r\n        $(\".tabs-frame.esf-items .list-container\").pullload({\r\n            apiUrl : this.apiUrl.store.house ,\r\n            queryStringObject : { \"storeId\" : $(\"#storeId\").val() , lon :longitude, lat :latitude} ,\r\n            threshold : 50 ,       \r\n            callback : function(data) {\r\n                if( ! data.data) return ;          \r\n                $.each(data.data , (index , esf)=> {\r\n                    esf.url = \"/\"+$(\"#cityPinYin\").val()+\"/esf/\" + esf.encryptHouseId + \".html?storeId=\"+$(\"#storeId\").val() ;\r\n                    $(\".tabs-frame.esf-items .list-container\").append(self.createEsf(esf)) ;\r\n                }) ;\r\n            }\r\n        }) ;\r\n       \r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n   请求房源数据\r\n   -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    getHoustList(position){\r\n        let self = this;\r\n        this.request(this.apiUrl.store.house,{ \"storeId\" : $(\"#storeId\").val() , \"pageIndex\" : 0 , 'pageSize' : 20 ,lon:position.longitude,lat:position.latitude},{\r\n            successCallback(result){\r\n                if (result.data && result.data.length >0){\r\n                    result.data.forEach((item,index)=>{\r\n                        item.bigDataParams = encodeURIComponent(JSON.stringify( { \"eventName\" : 1222001 , \"eventParam\" : { \"store_id\" : $(\"#storeId\").val() , \"house_id\" : item.houseId } } )) ;\r\n                        item.url = \"/\" + $(\"#cityPinYin\").val() + \"/esf/\" + item.encryptHouseId + \".html?storeId=\"+$(\"#storeId\").val() ;\r\n                        $(\".tabs-frame.esf-items .list-container\").append(self.createEsf(item)) ;\r\n                    })\r\n                }else {\r\n                    $('.nodata-store').show()\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n   定位服务\r\n   -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    getLocation(callBack){\r\n        if( ! navigator.geolocation ) {\r\n            $.tips( \"您的浏览器不支持定位地理位置\" , 3 ) ;\r\n            callBack({\"latitude\":null,\"longitude\":null});\r\n            return ;\r\n        }\r\n        let self = this;\r\n        let geoOpts = {\r\n            enableHighAccuracy : false ,\r\n            maximumAge : 0 ,\r\n            timeout : 10 * 1000\r\n        } ;\r\n        navigator.geolocation.getCurrentPosition( (position) => {\r\n            let  locationPo = {};\r\n            locationPo.latitude = position.coords.latitude;\r\n            locationPo.longitude = position.coords.longitude;\r\n            console.log('进入定位');\r\n            console.log(locationPo);\r\n            callBack(locationPo)\r\n        }, ( error ) => {\r\n            callBack({\"latitude\":null,\"longitude\":null});\r\n            switch(error.code) {\r\n                case error.PERMISSION_DENIED :  // 用户阻止了授权\r\n                    console.log(\"用户阻止了授权\");\r\n                    break ;\r\n                case error.POSITION_UNAVAILABLE :  //定位信息无效\r\n                    console.log(\"定位信息无效\");\r\n                    break ;\r\n\r\n                case error.TIMEOUT :  //定位超时\r\n                    console.log(\"定位超时\");\r\n                    break ;\r\n\r\n                case error.UNKNOWN_ERROR :  //其他不可预知的错误\r\n                    console.log(\"其他不可预知的错误\");\r\n                    break ;\r\n            }\r\n        } , geoOpts );\r\n    }\r\n}\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n    new IndexController ;\r\n}) ;"]}