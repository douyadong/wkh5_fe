{"version":3,"sources":["store/index.min.js"],"names":["IndexController","$","first","addClass","require","BigData","tabs","addEventListener","window","on","scrollTop","hasClass","hide","removeClass","show","esf","aNode","document","createElement","attr","url","bigDataParams","dlNode","append","houseImgUrl","estateName","houseTitle","houseChild","areaStr","totalPrice","district","town","unitPrice","tagNode","isTopHouse","isStorePush","commAgent","fullYears","onlyOne","isSubwayHouse","isSchoolHouse","isNewOnStore","orientation","agent","telNode","wechatNode","dtNode","agentHeadImgUrl","agentName","serviceYears","Controller","ready"],"mappings":"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","file":"index.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：store -> index(门店扫码)\n 3. 作者：douyadong@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\nclass IndexController extends Controller{\n    constructor(){\n        super() ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        给第一个tabs-handle选项添加on样式\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/         \n        $(\".wk-tabs .tabs-handle li\").first().addClass(\"on\") ;        \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        载入组件逻辑\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \n        require([ \"../components/bigdata.min\"  ,\"../components/tabs.min\"] , (BigData)=>{\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n            tabs实例化\n            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n            $(\".wk-tabs\").tabs({\n                \"fixedWhenScroll\" : false ,\n                \"effect\" : \"fadeIn\" ,\n                \"duration\" : 200\n            }) ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        给dom节点绑定事件\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.addEventListener() ;\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    给dom节点绑定事件\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    addEventListener() {\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        页面滚动的时候banner条的变动\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(window).on(\"scroll\" , ()=> {            \n            if ($(window).scrollTop() >= 20 ) {                \n                if( ! $(\"header\").hasClass(\"fixed\")) $(\"header\").addClass(\"fixed\") ;                \n                $(\"header .banner .store-name\").hide() ;\n            }\n            else if ($(window).scrollTop() < 20) {\n                if($(\"header\").hasClass(\"fixed\")) $(\"header\").removeClass(\"fixed\") ;\n                $(\"header .banner .store-name\").show() ;\n            }\n        }) ;        \n    } ;\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    绘制单条房源dom节点的方法，请参照ejs模板内容\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    createEsf(esf) {\n        let aNode = $(document.createElement(\"A\")).attr( \"href\" , esf.url ).attr( \"data-bigdata\" , esf.bigDataParams).addClass(\"esf-item\") ;\n        let dlNode = $(document.createElement(\"DL\")) ;\n        dlNode.append( \"<dt><img src=\\\"\" + esf.houseImgUrl + \"?x-oss-process=image/resize,w_150\\\" alt=\\\"\" + esf.estateName + \"\\\" class=\\\"lazy\\\"></dt>\" ) ;\n        dlNode.append( \"<dd class=\\\"title\\\">\" + esf.houseTitle + \"</dd>\" ) ;\n        dlNode.append( \"<dd><span class=\\\"layout\\\">\" + esf.houseChild +\" \" + esf.areaStr + \"</span><span class=\\\"money\\\">\" + esf.totalPrice + \" 万</span></dd>\" ) ;\n        dlNode.append( \"<dd><span class=\\\"location\\\">\" +  esf.district + \" \" + esf.town + \"</span><span class=\\\"price\\\">\" + esf.unitPrice  +\" 元/㎡</span></dd>\" ) ;\n        let tagNode = $(document.createElement(\"DD\")) ;\n        if(esf.isTopHouse >1) tagNode.append( \"<span class=\\\"selected\\\">精选</span>\" ) ;\n        else if(esf.isStorePush === 1) tagNode.append( \"<span>店长推荐</span>\" ) ;\n        else if(esf.commAgent > 0) tagNode.append( \"<span>急售</span>\" ) ;\n        if(esf.fullYears >= 5 && esf.onlyOne == 1)  tagNode.append( \"<span>满五唯一</span>\" ) ;\n        if(esf.fullYears >= 2) tagNode.append( \"<span>满二</span>\" ) ;\n        if(esf.isSubwayHouse === 1)  tagNode.append( \"<span>地铁</span>\" ) ;\n        if(esf.isSchoolHouse === 1) tagNode.append( \"<span>近学校</span>\" ) ;\n        if(esf.isNewOnStore === 1) tagNode.append( \"<span>新上</span>\" ) ;\n        if(esf.orientation === 9) tagNode.append( \"<span>南北通透</span>\" ) ;\n        dlNode.append(tagNode) ;\n        aNode.append(dlNode) ;\n        return aNode ;\n    } ;\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    绘制单条经纪人dom节点的方法，请参照ejs模板内容\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    createAgent(agent) {\n        let dlNode = $(document.createElement(\"DL\")).addClass(\"agent\") ;\n        let telNode = $(document.createElement(\"DD\")).addClass(\"tel\").append(\"<span><i class=\\\"iconfont icon-tel\\\"></i></span><span class=\\\"memo\\\">电话咨询</span>\") ;\n        let wechatNode = $(document.createElement(\"DD\")).addClass(\"wechat\").append(\"<span><i class=\\\"iconfont icon-wechat\\\"></i></span><span class=\\\"memo\\\">添加微信</span>\") ;\n        let dtNode = $(document.createElement(\"DT\")).append(\"<a href=\\\"#\\\"><img src=\\\"\" + agent.agentHeadImgUrl + \"?x-oss-process=image/resize,w_120\\\" class=\\\"lazy\\\"><div class=\\\"summary\\\"><p class=\\\"name\\\">\" + agent.agentName + \"</p><p class=\\\"seniority\\\">加入悟空：\" + agent.serviceYears + \"</p></div></a>\") ;\n        dlNode.append(telNode).append(wechatNode).append(dtNode) ;\n        return dlNode ;\n    } ;\n}\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n    new IndexController ;\n}) ;"]}