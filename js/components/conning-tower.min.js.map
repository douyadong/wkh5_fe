{"version":3,"sources":["components/conning-tower.min.js"],"names":["ConningTower","apiUrl","addEventListener","$","click","document","body","css","fadeIn","animate","right","fadeOut","history","back","show","hide","val","empty","nativeSchema","loadSchema","schema","protocal","loadWaiting","failUrl","apkInfo","PKG","CATEGORY","ACTION","$input","keyup","ajax","url","data","trim","dataType","error","e","console","log","success","status","toString","message","name"],"mappings":";;;;;;AAAA;;;;;IAKOA,Y;AACF,gCAAwB;AAAA,YAAVC,MAAU,QAAVA,MAAU;;AAAA;;AACpB,aAAKA,MAAL,GAAcA,MAAd,CADoB,CACI;AACxB,aAAKC,gBAAL;AACH;;;;2CACkB;AAAA;;AACf;;;AAGDC,cAAE,8BAAF,EAAkCC,KAAlC,CAAwC,YAAM;AAC1CD,kBAAEE,SAASC,IAAX,EAAiBC,GAAjB,CAAqB,EAAE,cAAe,QAAjB,EAArB,EAD0C,CACW;AACrDJ,kBAAE,iBAAF,EAAqBK,MAArB,CAA4B,GAA5B;AACAL,kBAAE,gBAAF,EAAoBM,OAApB,CAA6B;AACzBC,2BAAQ;AADiB,iBAA7B,EAEI,GAFJ;AAGH,aAND;AAOA;;;AAGAP,cAAE,iBAAF,EAAqBC,KAArB,CAA2B,YAAM;AAC7BD,kBAAEE,SAASC,IAAX,EAAiBC,GAAjB,CAAqB,EAAE,cAAe,MAAjB,EAArB,EAD6B,CACsB;AACnDJ,kBAAE,iBAAF,EAAqBQ,OAArB,CAA6B,GAA7B;AACAR,kBAAE,gBAAF,EAAoBM,OAApB,CAA6B;AACzBC,2BAAQ;AADiB,iBAA7B,EAEI,GAFJ;AAGH,aAND;AAOA;;;AAGAP,cAAE,sBAAF,EAA0BC,KAA1B,CAAgC,YAAM;AAClCQ,wBAAQC,IAAR;AACH,aAFD;AAGA;;;AAGAV,cAAE,sBAAF,EAA0BC,KAA1B,CAAgC,YAAM;AAClCD,kBAAE,kBAAF,EAAsBW,IAAtB,CAA2B,EAA3B;AACH,aAFD;AAGA;;;AAGAX,cAAE,2CAAF,EAA+CC,KAA/C,CAAqD,YAAM;AACvDD,kBAAE,kBAAF,EAAsBY,IAAtB,CAA2B,EAA3B;AACH,aAFD;AAGA;;;AAGAZ,cAAE,gEAAF,EAAoEC,KAApE,CAA0E,YAAM;AAC5ED,kBAAE,0DAAF,EAA8Da,GAA9D,CAAkE,EAAlE;AACAb,kBAAE,wBAAF,EAA4Bc,KAA5B;AACH,aAHD;AAIA;;;AAGAd,cAAE,8BAAF,EAAkCC,KAAlC,CAAwC,YAAM;AAC1Cc,6BAAaC,UAAb,CAAwB;AACpBC,4BAAS,eADW,EACS;AAC7BC,8BAAW,MAFS,EAEA;AACpBC,iCAAc,MAHM,EAGG;AACvBC,6BAAU,kDAJU,EAI4C;AAChE;AACAC,6BAAU;AACNC,6BAAM,eADA;AAENC,kCAAW,iCAFL;AAGNC,gCAAS;AAHH;AANU,iBAAxB;AAYH,aAbD;AAcA;;;AAGA,gBAAIC,SAASzB,EAAE,0DAAF,CAAb;AACAyB,mBAAOC,KAAP,CAAa,YAAM;AACf,oBAAI;AACA1B,sBAAE2B,IAAF,CAAO;AACHC,6BAAM,MAAK9B,MADR;AAEH+B,8BAAO,EAAE,WAAY7B,EAAE8B,IAAF,CAAOL,OAAOZ,GAAP,EAAP,CAAd,EAFJ;AAGHkB,kCAAW,MAHR;AAIHC,+BAAQ,eAASC,CAAT,EAAY;AAChBC,oCAAQC,GAAR,CAAY,qBAAZ;AACH,yBANE;AAOHC,iCAAU,iBAASP,IAAT,EAAe;AACrB,gCAAIA,KAAKQ,MAAL,CAAYC,QAAZ,OAA2B,GAA/B,EAAqC;AACjC;AACH,6BAFD,MAGKJ,QAAQC,GAAR,CAAYN,KAAKU,OAAjB;AACR;AAZE,qBAAP;AAcH,iBAfD,CAgBA,OAAMN,CAAN,EAAS;AACLC,4BAAQC,GAAR,CAAa,UAAUF,EAAEO,IAAZ,GAAmB,SAAnB,GAA+BP,EAAEM,OAA9C;AACH;AACJ,aApBD;AAqBF","file":"conning-tower.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：components -> conning-tower(列表页司令塔，包括返回、搜索、汉堡菜单等信息)\r\n 3. 作者：zhaohuagang@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n class ConningTower {\r\n     constructor({ apiUrl }) {         \r\n         this.apiUrl = apiUrl ;  //搜索用的接口地址\r\n         this.addEventListener() ;  \r\n     }\r\n     addEventListener() {\r\n         /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        点击汉堡菜单弹出子菜单\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".conning-tower .hamburg-menu\").click(() => {\r\n            $(document.body).css({ \"overflow-y\" : \"hidden\" }) ;  //滚动条隐藏\r\n            $(\".navigator-mask\").fadeIn(100) ;\r\n            $(\".navigator-pop\").animate( {\r\n                right : 0\r\n            } , 100 ) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        点击子菜单遮罩关闭子菜单\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".navigator-mask\").click(() => {\r\n            $(document.body).css({ \"overflow-y\" : \"auto\" }) ;  //如果有滚动条就显示  \r\n            $(\".navigator-mask\").fadeOut(100) ;\r\n            $(\".navigator-pop\").animate( {\r\n                right : \"-200px\"\r\n            } , 100 ) ;              \r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        点击子菜单遮罩关闭子菜单\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".conning-tower .back\").click(() => {\r\n            history.back() ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        点击假的搜索区域出现真的搜索\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".conning-tower dl dd\").click(() => {\r\n            $(\".substitute-mask\").show(50) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        真搜索区域返回按钮事件监听\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".substitute-mask .search-substitute .back\").click(() => {\r\n            $(\".substitute-mask\").hide(50) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        真搜索区域清除输入图标事件监听\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".substitute-mask .search-substitute .input-section .icon-close\").click(() => {\r\n            $(\".substitute-mask .search-substitute .input-section input\").val(\"\") ;\r\n            $(\".substitute-mask .list\").empty() ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        pop菜单中的下载APP菜单事件监听\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".navigator-pop .app-download\").click(() => {\r\n            nativeSchema.loadSchema({               \r\n                schema : \"external_call\"  ,  // 通过NN打开某个链接\r\n                protocal : \"wkzf\" , //schema头协议，实际情况填写\r\n                loadWaiting : \"1500\" , //发起唤醒请求后，会等待loadWaiting时间，超时则跳转到failUrl，默认3000ms                \r\n                failUrl : \"https://m.wkzf.com/download/transit?from=esfList\" ,  //唤起失败时的跳转链接，默认跳转到下载页\r\n                // apk信息,请根据实际情况填写\r\n                apkInfo : {\r\n                    PKG : \"com.wukong.ua\" ,\r\n                    CATEGORY : \"android.intent.category.DEFAULT\" ,\r\n                    ACTION : \"android.intent.action.VIEW\"\r\n                }\r\n            }) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        真搜索区域输入监听\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        let $input = $(\".substitute-mask .search-substitute .input-section input\") ;\r\n        $input.keyup(() => {                    \r\n            try {\r\n                $.ajax({\r\n                    url : this.apiUrl ,                    \r\n                    data : { \"keyword\" : $.trim($input.val()) } ,\r\n                    dataType : \"json\" ,                            \r\n                    error : function(e) {\r\n                        console.log(\"调用数据接口失败！请测试您的数据接口！\") ;                                   \r\n                    } ,\r\n                    success : function(data) {                \r\n                        if (data.status.toString() === \"1\")  {\r\n                            //获取到接口数据，进行绘制\r\n                        }\r\n                        else console.log(data.message) ;\r\n                    }\r\n                }) ;\r\n            }\r\n            catch(e) {\r\n                console.log( \"错误名称：\" + e.name + \"\\n错误描述：\" + e.message ) ;\r\n            }\r\n        }) ;\r\n     }\r\n }\r\n"]}