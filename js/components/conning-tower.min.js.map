{"version":3,"sources":["components/conning-tower.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","ConningTower","_ref","apiUrl","this","addEventListener","value","_this","$","click","document","body","css","overflow-y","fadeIn","animate","right","fadeOut","history","back","show","hide","val","empty","nativeSchema","loadSchema","schema","protocal","loadWaiting","failUrl","apkInfo","PKG","CATEGORY","ACTION","$input","keyup","ajax","url","data","keyword","trim","dataType","error","e","console","log","success","status","toString","message","name"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,MAGzhBkB,aAMY,WALd,QAAAA,GAAAC,GAAwB,GAAVC,GAAUD,EAAVC,MAAUtB,iBAAAuB,KAAAH,GACpBG,KAAKD,OAASA,EACdC,KAAKC,mBA0GV,MA7FApB,cAAagB,IACTJ,IAAK,mBACLS,MAAO,WAbS,GAAAC,GAAAH,IAIhBI,GAAE,gCAAgCC,MAAM,WACpCD,EAAEE,SAASC,MAAMC,KAAMC,aAAe,WACtCL,EAAE,mBAAmBM,OAAO,KAC5BN,EAAE,kBAAkBO,SAChBC,MAAQ,GACR,OAKRR,EAAE,mBAAmBC,MAAM,WACvBD,EAAEE,SAASC,MAAMC,KAAMC,aAAe,SACtCL,EAAE,mBAAmBS,QAAQ,KAC7BT,EAAE,kBAAkBO,SAChBC,MAAQ,UACR,OAKRR,EAAE,wBAAwBC,MAAM,WAC5BS,QAAQC,SAKZX,EAAE,wBAAwBC,MAAM,WAC5BD,EAAE,oBAAoBY,KAAK,MAK/BZ,EAAE,6CAA6CC,MAAM,WACjDD,EAAE,oBAAoBa,KAAK,MAK/Bb,EAAE,kEAAkEC,MAAM,WACtED,EAAE,4DAA4Dc,IAAI,IAClEd,EAAE,0BAA0Be,UAKhCf,EAAE,gCAAgCC,MAAM,WACpCe,aAAaC,YACTC,OAAS,gBACTC,SAAW,OACXC,YAAc,OACdC,QAAU,mDAEVC,SACIC,IAAM,gBACNC,SAAW,kCACXC,OAAS,iCAOrB,IAAIC,GAAS1B,EAAE,2DACf0B,GAAOC,MAAM,WACT,IACI3B,EAAE4B,MACEC,IAAM9B,EAAKJ,OACXmC,MAASC,QAAY/B,EAAEgC,KAAKN,EAAOZ,QACnCmB,SAAW,OACXC,MAAQ,SAASC,GACbC,QAAQC,IAAI,wBAEhBC,QAAU,SAASR,GACgB,MAA3BA,EAAKS,OAAOC,YAGXJ,QAAQC,IAAIP,EAAKW,YAIlC,MAAMN,GACFC,QAAQC,IAAK,QAAUF,EAAEO,KAAO,UAAYP,EAAEM,gBAmBnDhD","file":"conning-tower.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：components -> conning-tower(列表页司令塔，包括返回、搜索、汉堡菜单等信息)\n 3. 作者：zhaohuagang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n class ConningTower {\n     constructor({ apiUrl }) {         \n         this.apiUrl = apiUrl ;  //搜索用的接口地址\n         this.addEventListener() ;  \n     }\n     addEventListener() {\n         /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        点击汉堡菜单弹出子菜单\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".conning-tower .hamburg-menu\").click(() => {\n            $(document.body).css({ \"overflow-y\" : \"hidden\" }) ;  //滚动条隐藏\n            $(\".navigator-mask\").fadeIn(100) ;\n            $(\".navigator-pop\").animate( {\n                right : 0\n            } , 100 ) ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        点击子菜单遮罩关闭子菜单\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".navigator-mask\").click(() => {\n            $(document.body).css({ \"overflow-y\" : \"auto\" }) ;  //如果有滚动条就显示  \n            $(\".navigator-mask\").fadeOut(100) ;\n            $(\".navigator-pop\").animate( {\n                right : \"-200px\"\n            } , 100 ) ;              \n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        点击子菜单遮罩关闭子菜单\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".conning-tower .back\").click(() => {\n            history.back() ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        点击假的搜索区域出现真的搜索\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".conning-tower dl dd\").click(() => {\n            $(\".substitute-mask\").show(50) ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        真搜索区域返回按钮事件监听\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".substitute-mask .search-substitute .back\").click(() => {\n            $(\".substitute-mask\").hide(50) ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        真搜索区域清除输入图标事件监听\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".substitute-mask .search-substitute .input-section .icon-close\").click(() => {\n            $(\".substitute-mask .search-substitute .input-section input\").val(\"\") ;\n            $(\".substitute-mask .list\").empty() ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        pop菜单中的下载APP菜单事件监听\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".navigator-pop .app-download\").click(() => {\n            nativeSchema.loadSchema({               \n                schema : \"external_call\"  ,  // 通过NN打开某个链接\n                protocal : \"wkzf\" , //schema头协议，实际情况填写\n                loadWaiting : \"1500\" , //发起唤醒请求后，会等待loadWaiting时间，超时则跳转到failUrl，默认3000ms                \n                failUrl : \"https://m.wkzf.com/download/transit?from=esfList\" ,  //唤起失败时的跳转链接，默认跳转到下载页\n                // apk信息,请根据实际情况填写\n                apkInfo : {\n                    PKG : \"com.wukong.ua\" ,\n                    CATEGORY : \"android.intent.category.DEFAULT\" ,\n                    ACTION : \"android.intent.action.VIEW\"\n                }\n            }) ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        真搜索区域输入监听\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        let $input = $(\".substitute-mask .search-substitute .input-section input\") ;\n        $input.keyup(() => {                    \n            try {\n                $.ajax({\n                    url : this.apiUrl ,                    \n                    data : { \"keyword\" : $.trim($input.val()) } ,\n                    dataType : \"json\" ,                            \n                    error : function(e) {\n                        console.log(\"调用数据接口失败！请测试您的数据接口！\") ;                                   \n                    } ,\n                    success : function(data) {                \n                        if (data.status.toString() === \"1\")  {\n                            //获取到接口数据，进行绘制\n                        }\n                        else console.log(data.message) ;\n                    }\n                }) ;\n            }\n            catch(e) {\n                console.log( \"错误名称：\" + e.name + \"\\n错误描述：\" + e.message ) ;\n            }\n        }) ;\n     }\n }\n"]}