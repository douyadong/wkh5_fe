{"version":3,"sources":["components/list-search.min.js"],"names":["define","that","searchInputClick","channelFlag","conditionObject","url","areasLineSting","cityId","acWordHouseList","valueSearch","$","click","siblings","addClass","show","hide","val","GetRequest","css","background-color","width","JSON","parse","localStorage","getItem","searchHistory","reverse","listSearchHistory","bigdata","encodeURIComponent","stringify","eventName","channel","type","forEach","item","index","id","key","address","empty","append","saveLocalStorage","singleData","this","attr","splice","push","setItem","conditionString","objectToString","typeS","window","location","href","checkType","on","event","sendData","pageName","request","apiUrl","rent","list","acWord","successCallback","data","renthouselistData","secondHouseList","titleName","addreName","searchaAcWord","estateDesc","replace","markname","value","length","saveLocal","keyCode","haveNot","firtName","box-shadow","removeClass","cookie","path","removeItem","submit","preventDefault","typeSearch","search","theRequest","indexOf","str","substr","strs","split","i","init","c"],"mappings":"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","file":"list-search.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：components -> listSearch（搜索框的组件）\n 3. 作者：liyang@lifang.com\n    参数说明：\n    channelFlag      频道来源标识的值\n    conditionObject  符合SEO要求的字符串转成的对象\n    url              完整路径的URL（不包含query参数）\n    areasLineSting   query参数（?）包含检索当中的区域与地铁的互斥\n    cityId           城市的ID\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n\ndefine(function(){\n    let that;\n    let searchInputClick = function (channelFlag,conditionObject,url,areasLineSting,cityId) {\n        let acWordHouseList = '';  // 联想词\n        let valueSearch =''; // 检索搜索框的value值\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        搜索框的点击：\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n\n        $('#searchInput').click(function () {\n            $('.rent-search').siblings('ul').addClass('on-hide');\n            $('.all-control').addClass('on-hide');\n            $('.search-result').show();\n            $('.show-result').hide();\n            $('.icon-hanbao').hide();\n            if ($('#searchInput').val()){\n                $('.conone').show();\n            }else {\n                $('.conone').hide();\n            }\n            if (GetRequest()['channel']){\n                $('.rent-search').addClass('active-search-channel');\n                $('.cancel-channel').show();\n                $('.location-all').hide();\n                $('#searchInput').css({\"background-color\":\"#F8F8F8\",'width':\"100%\"});\n            }else {\n                $('.input-kw-form').css({\"background-color\":\"#f0f0f0\"});\n                $('.rent-search').addClass('active-search');\n                $('.back').hide();\n                $('.fanhui').show();\n                $('.contwo').hide();\n            }\n\n            if (JSON.parse(localStorage.getItem('searchHistory')) && !acWordHouseList) {  // Storage取值渲染\n                $('body').css('background-color','#F0F0F0');\n                $('.have-result').show();\n                let searchHistory = JSON.parse(localStorage.getItem('searchHistory')).reverse();\n                let listSearchHistory = '';\n                /* 埋点的参数*/\n                let bigdata =encodeURIComponent(JSON.stringify({\n                    eventName: '1203005',\n                    channel:channelFlag ,\n                    type: 2\n                }));\n                searchHistory.forEach(function (item,index) {\n                    if (index == 0){\n                        listSearchHistory = `<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.id}\" data-name=\"${item.key}\" data-address=\"${item.address}\"><p>${item.key}</p><span>${item.address}</span></li>`\n                    }else {\n                        listSearchHistory = listSearchHistory + `<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.id}\" data-name=\"${item.key}\" data-address=\"${item.address}\"><p>${item.key}</p><span>${item.address}</span></li>`\n                    }\n                });\n                $('#resultHistory').empty().append(listSearchHistory);\n                // 历史搜索点击\n                $('#resultHistory >li').click(function () {\n                    let saveLocalStorage =[];\n                    JSON.parse( localStorage.getItem('searchHistory')) ?  saveLocalStorage = JSON.parse( localStorage.getItem('searchHistory')) : saveLocalStorage = [];\n                    let ind =$(this).index();\n                    let singleData = {\n                        \"key\":$(this).attr('data-name'),\n                        \"id\": $(this).attr('data-value'),\n                        \"address\": $(this).attr('data-address'),\n                        \"type\":$(this).attr('data-type'),\n\n                    };\n                    saveLocalStorage.forEach(function (item,index) {\n                        if (item.id == singleData.id){\n                            saveLocalStorage.splice(index,1)\n                        }\n                    });\n                    saveLocalStorage.push(singleData);\n                    localStorage.setItem(\"searchHistory\",JSON.stringify(saveLocalStorage));\n                    delete (conditionObject['di']); delete (conditionObject['to']);\n                    delete (conditionObject['li']); delete (conditionObject['st']);\n                    let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                    let valueSearch = $(this).attr('data-value');\n                    let typeS = $(this).attr('data-type');\n                    window.location.href = url + conditionString + checkType(typeS,valueSearch);\n                });\n            }else {\n                $('.show-result').show();\n                $('.have-result').hide();\n                $('body').css('background-color','#FFF');\n            }\n        });\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        搜索 联想词\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('#searchInput').on('keyup input',function (event) {\n            if ($(this).val()) {\n                $('.conone').show();\n                $('.have-result').hide();\n                let saveLocalStorage = [];\n                let sendData={\n                    key:$(this).val(),\n                    cityId:cityId,\n                    pageName:\"renthouselist\"\n                };\n                /* 埋点的参数*/\n                let bigdata =encodeURIComponent(JSON.stringify({\n                    eventName: '1203004',\n                    channel:channelFlag ,\n                    type: 2\n                }));\n                that.request(that.apiUrl.rent.list.acWord,sendData,{successCallback(data){\n                        let renthouselistData = data.data;\n                        acWordHouseList = renthouselistData.secondHouseList;\n                        if (renthouselistData.secondHouseList) {\n                            $('.show-result').show();\n                            $('.no-result').hide();\n                            $('.search-result').show();\n                            let titleName ='';\n                            let addreName = '';\n                            let searchaAcWord = '';\n                            renthouselistData.secondHouseList.forEach(function (item,index) {  // 循环出搜索结果\n                                titleName = item.estateDesc.replace(item.markname,`<span>${item.markname}</span>`);\n                                addreName = item.address.replace(item.markname,`<span>${item.markname}</span>`);\n                                if (index == 0){\n                                    searchaAcWord = `<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.value}\" data-name=\"${item.estateDesc}\" data-address=\"${item.address}\"><p>${titleName}</p><span>${addreName}</span></li>`\n                                }else {\n                                    searchaAcWord = searchaAcWord +`<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.value}\" data-name=\"${item.estateDesc}\" data-address=\"${item.address}\"><p>${titleName}</p><span>${addreName}</span></li>`\n                                }\n                            }) ;\n                            $('#showResult').empty();\n                            $('#showResult').append(searchaAcWord);\n                            $('body').css('background-color','#F0F0F0');\n                        } else {\n                            $('.no-result').show();\n                            $('.show-result').hide();\n                            $('body').css('background-color','#FFF');\n                        }\n                        // 搜索条目点击跳转 和储存\n                        $('#showResult >li').click(function () {\n                            JSON.parse( localStorage.getItem('searchHistory')) ?  saveLocalStorage = JSON.parse( localStorage.getItem('searchHistory')) : saveLocalStorage = [];\n                            let singleData={\n                                \"key\":$(this).attr('data-name'),\n                                \"id\": $(this).attr('data-value'),\n                                \"address\": $(this).attr('data-address'),\n                                \"type\":$(this).attr('data-type'),\n                            };\n                            if (saveLocalStorage.length >4){\n                                saveLocalStorage.reverse().splice(4)\n                            }\n                            saveLocalStorage.forEach(function (item,index) {\n                                if (item.id == singleData.id){\n                                    saveLocalStorage.splice(index,1)\n                                }\n                            });\n                            let saveLocal= saveLocalStorage.reverse();\n                            saveLocal.push(singleData);\n                            localStorage.setItem(\"searchHistory\",JSON.stringify(saveLocal));\n                            delete (conditionObject['di']); delete (conditionObject['to']);\n                            delete (conditionObject['li']); delete (conditionObject['st']);\n                            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                            valueSearch = $(this).attr('data-value');\n                            let typeS = $(this).attr('data-type');\n                            window.location.href = url + conditionString + checkType(typeS,valueSearch);\n                        });\n                    }});\n                if (acWordHouseList){\n                    if (event.keyCode == 13){ //enter存值  ta-0-ta-0-ta-0-ta-0-la-0\n                        JSON.parse( localStorage.getItem('searchHistory')) ?  saveLocalStorage = JSON.parse( localStorage.getItem('searchHistory')) : saveLocalStorage = [];\n                        let singleData={\n                            \"key\":$('#showResult>li:eq(0)').attr('data-name'),\n                            \"id\": $('#showResult>li:eq(0)').attr('data-value'),\n                            \"address\": $('#showResult>li:eq(0)').attr('data-address'),\n                            \"type\":$('#showResult>li:eq(0)').attr('data-type'),\n                        };\n                        if (saveLocalStorage.length >4){\n                            saveLocalStorage.reverse().splice(4)\n                        }\n                        let saveLocal= saveLocalStorage.reverse();\n                        saveLocal.push(singleData);\n                        localStorage.setItem(\"searchHistory\",JSON.stringify(saveLocal));\n                        delete (conditionObject['di']); delete (conditionObject['to']);\n                        delete (conditionObject['li']); delete (conditionObject['st']);\n                        let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                        valueSearch = $('#showResult>li:eq(0)').attr('data-value');\n                        let typeS = $('#showResult>li:eq(0)').attr('data-type');\n                        window.location.href = url + conditionString + checkType(typeS,valueSearch);\n                    }\n                }\n\n            }\n        });\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        搜索框是否有值的初步渲染\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if (JSON.parse(localStorage.getItem('searchHistory')) && haveNot() ) {\n            let firtName = JSON.parse(localStorage.getItem('searchHistory')).reverse()[0].key;\n            $('#searchInput').val(firtName);\n            $('.contwo').show();\n        }\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n         删除搜索框并跳转\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('.contwo').click(function () {\n            $('#searchInput').val('');\n            $('.icon-close').hide();\n            $('#showResult').empty();\n            $('.no-result').hide();\n            $('.have-result').hide();\n            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n            window.location.href = url + conditionString + areasLineSting\n        });\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n         删除罩层搜索框值不跳转\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('.conone').click(function () {\n            $('#searchInput').val('');\n            $('.icon-close').hide();\n            $('#showResult').empty();\n            $('.no-result').hide();\n            if (JSON.parse(localStorage.getItem('searchHistory'))) {  // Storage取值渲染\n                $('.have-result').show();\n                $('body').css('background-color','#F0F0F0');\n            }else {\n                $('.have-result').hide();\n                $('body').css('background-color','#FFF');\n            }\n        });\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n         判断是否为今日头条等频道\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if (GetRequest()['channel']){\n            $('.rent-list').css({\"box-shadow\":\" 0 0 0 0 rgba(0,0,0,.15)\",\"background-color\":\"#fff\"});\n            $('.search-input').css('width',\"96%\");\n            $('.history-name').hide();\n            $('.icon-fanhui').hide();\n            $('.sort').hide();\n            if ($('#searchInput').val()){\n                $('.conone').show();\n            }else {\n                $('.conone').hide();\n            }\n            $('.cancel-channel').click(function () {\n                $(this).hide();\n                $('.contwo').hide();\n                $('.conone').hide();\n                $('.all-control').removeClass('on-hide');\n                $('.search-result').hide();\n                $('.no-result').hide();\n                $('.back').hide();\n                $('.show-result').hide();\n                $('#searchInput').val('');\n                $('.location-all').show();\n                $('#searchInput').css({\"background-color\":\"#F8F8F8\",'width':\"52%\"});\n                $('.rent-search').siblings('ul').removeClass('on-hide');\n                $('.rent-search').removeClass('active-search-channel');\n                $('body').css('background-color','#F0F0F0');\n            });\n            $('.location-all').click(function () {\n                $.cookie('citySelectionOpen', 1 ,{path: '/',});\n            })\n        }else {\n            $('.input-kw-form').css({\"background-color\":\"#FFF\"});\n            $('.location-all').hide();\n            $('.sort').show();\n            $('.icon-hanbao').show();\n        }\n    };\n    /*返回到首页*/\n    $('.back').click(function () {\n        window.location.href = \"/\"\n    });\n    /*返回到列表页*/\n    $('.fanhui').click(function () {\n        $('.input-kw-form').css({\"background-color\":\"#fff\"});\n        $('.rent-search').removeClass('active-search');\n        $('.all-control').removeClass('on-hide');\n        $('.rent-search').siblings('ul').removeClass('on-hide');\n        $('.search-result').hide();\n        $('.no-result').hide();\n        $('.back').show();\n        $('.icon-hanbao').show();\n        $(this).hide();\n        $('.contwo').hide();\n        $('.show-result').hide();\n        $('#searchInput').val('');\n        $('.conone').hide();\n    });\n    /*清楚搜索历史*/\n    $('#clearHistory').click(function () {\n        localStorage.removeItem('searchHistory');\n        $('body').css('background-color','#FFF');\n        $('.have-result').hide();\n    });\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    阻止表单的默认行为：\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    $('.input-kw-form').submit(function(event){\n        event.preventDefault();\n    });\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    判断search板块？后面的参数是什么\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    let checkType = function(type,value){\n        let typeSearch = '';\n        if (type == 1){\n            typeSearch = \"?districtId=\" + value;\n        }else if (type == 2){\n            typeSearch = \"?townId=\"+value;\n        }else if (type == 3){\n            typeSearch = \"?subwayLine=\"+value;\n        }else if (type == 4){\n            typeSearch = \"?subwayStation=\"+value;\n        }else if (type == 5){\n            typeSearch = \"?subEstateId=\"+value;\n        }\n        if (GetRequest()['channel'] && typeSearch){\n            typeSearch = typeSearch+\"&channel=\"+ GetRequest()['channel']\n        }else if (GetRequest()['channel'] && !typeSearch){\n            typeSearch = \"?channel=\"+GetRequest()['channel']\n        }else if (!GetRequest()['channel'] && typeSearch){\n            typeSearch = typeSearch\n        }\n        return typeSearch\n\n    };\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     查询？后面 是否包含搜索的参数\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    let haveNot = function(){\n        if(GetRequest()['districtId'] || GetRequest()['townId'] || GetRequest()['subwayLine'] || GetRequest()['subwayStation'] || GetRequest()['subEstateId']){\n            return true\n        }else {\n            return false\n        }\n    };\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     截取？后面的参数\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    let  GetRequest = function() {\n        let url = location.search;\n        let theRequest = {};\n        if (url.indexOf(\"?\") !== -1) {\n            let str = url.substr(1);\n            let strs = str.split(\"&\");\n            for(var i = 0; i < strs.length; i ++) {\n                theRequest[strs[i].split(\"=\")[0]]=strs[i].split(\"=\")[1];\n            }\n        }\n        // console.log(theRequest);\n        return theRequest;\n    };\n\n   return {\n       init: function(c){\n           that = c;\n       },\n       searchInputClick:searchInputClick\n   }\n});"]}