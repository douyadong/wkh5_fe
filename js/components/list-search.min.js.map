{"version":3,"sources":["components/list-search.min.js"],"names":["define","that","searchInputClick","channelFlag","conditionObject","url","areasLineSting","cityId","acWordHouseList","valueSearch","$","click","siblings","addClass","show","hide","val","GetRequest","css","background-color","width","JSON","parse","localStorage","getItem","searchHistory","reverse","listSearchHistory","bigdata","encodeURIComponent","stringify","eventName","channel","type","forEach","item","index","id","key","address","empty","append","saveLocalStorage","singleData","this","attr","splice","push","setItem","conditionString","objectToString","typeS","window","location","href","checkType","on","event","sendData","pageName","request","apiUrl","common","acWord","successCallback","data","renthouselistData","secondHouseList","titleName","addreName","searchaAcWord","estateDesc","replace","markname","value","length","saveLocal","keyCode","haveNot","firtName","box-shadow","removeClass","cookie","path","removeItem","submit","preventDefault","typeSearch","search","theRequest","indexOf","str","substr","strs","split","i","init","c"],"mappings":"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","file":"list-search.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：components -> listSearch（搜索框的组件）\r\n 3. 作者：liyang@lifang.com\r\n    参数说明：\r\n    channelFlag      频道来源标识的值\r\n    conditionObject  符合SEO要求的字符串转成的对象\r\n    url              完整路径的URL（不包含query参数）\r\n    areasLineSting   query参数（?）包含检索当中的区域与地铁的互斥\r\n    cityId           城市的ID\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n\r\ndefine(function(){\r\n    let that;\r\n    let searchInputClick = function (channelFlag,conditionObject,url,areasLineSting,cityId) {\r\n        let acWordHouseList = '';  // 联想词\r\n        let valueSearch =''; // 检索搜索框的value值\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        搜索框的点击：\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n\r\n        $('#searchInput').click(function () {\r\n            $('.rent-search').siblings('ul').addClass('on-hide');\r\n            $('.all-control').addClass('on-hide');\r\n            $('.search-result').show();\r\n            $('.show-result').hide();\r\n            $('.icon-hanbao').hide();\r\n            if ($('#searchInput').val()){\r\n                $('.conone').show();\r\n            }else {\r\n                $('.conone').hide();\r\n            }\r\n            if (GetRequest()['channel']){\r\n                $('.rent-search').addClass('active-search-channel');\r\n                $('.cancel-channel').show();\r\n                $('.location-all').hide();\r\n                $('#searchInput').css({\"background-color\":\"#F8F8F8\",'width':\"100%\"});\r\n            }else {\r\n                $('.input-kw-form').css({\"background-color\":\"#f0f0f0\"});\r\n                $('.rent-search').addClass('active-search');\r\n                $('.back').hide();\r\n                $('.fanhui').show();\r\n                $('.contwo').hide();\r\n            }\r\n\r\n            if (JSON.parse(localStorage.getItem('searchHistory')) && !acWordHouseList) {  // Storage取值渲染\r\n                $('body').css('background-color','#F0F0F0');\r\n                $('.have-result').show();\r\n                let searchHistory = JSON.parse(localStorage.getItem('searchHistory')).reverse();\r\n                let listSearchHistory = '';\r\n                /* 埋点的参数*/\r\n                let bigdata =encodeURIComponent(JSON.stringify({\r\n                    eventName: '1203005',\r\n                    channel:channelFlag ,\r\n                    type: 2\r\n                }));\r\n                searchHistory.forEach(function (item,index) {\r\n                    if (index == 0){\r\n                        listSearchHistory = `<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.id}\" data-name=\"${item.key}\" data-address=\"${item.address}\"><p>${item.key}</p><span>${item.address}</span></li>`\r\n                    }else {\r\n                        listSearchHistory = listSearchHistory + `<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.id}\" data-name=\"${item.key}\" data-address=\"${item.address}\"><p>${item.key}</p><span>${item.address}</span></li>`\r\n                    }\r\n                });\r\n                $('#resultHistory').empty().append(listSearchHistory);\r\n                // 历史搜索点击\r\n                $('#resultHistory >li').click(function () {\r\n                    let saveLocalStorage =[];\r\n                    JSON.parse( localStorage.getItem('searchHistory')) ?  saveLocalStorage = JSON.parse( localStorage.getItem('searchHistory')) : saveLocalStorage = [];\r\n                    let ind =$(this).index();\r\n                    let singleData = {\r\n                        \"key\":$(this).attr('data-name'),\r\n                        \"id\": $(this).attr('data-value'),\r\n                        \"address\": $(this).attr('data-address'),\r\n                        \"type\":$(this).attr('data-type'),\r\n                    };\r\n                    saveLocalStorage.forEach(function (item,index) {\r\n                        if (item.id == singleData.id && item.type == singleData.type){\r\n                            saveLocalStorage.splice(index,1)\r\n                        }\r\n                    });\r\n                    saveLocalStorage.push(singleData);\r\n                    localStorage.setItem(\"searchHistory\",JSON.stringify(saveLocalStorage));\r\n                    delete (conditionObject['di']); delete (conditionObject['to']);\r\n                    delete (conditionObject['li']); delete (conditionObject['st']);\r\n                    delete(conditionObject['ne']);  // 删除附近\r\n                    let conditionString = that.objectToString(conditionObject); // 转换成字符串\r\n                    let valueSearch = $(this).attr('data-value');\r\n                    let typeS = $(this).attr('data-type');\r\n                    window.location.href = url + conditionString + checkType(typeS,valueSearch);\r\n                });\r\n            }else {\r\n                $('.show-result').show();\r\n                $('.have-result').hide();\r\n                $('body').css('background-color','#FFF');\r\n            }\r\n        });\r\n\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        搜索 联想词\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $('#searchInput').on('keyup input',function (event) {\r\n            if ($(this).val()) {\r\n                $('.conone').show();\r\n                $('.have-result').hide();\r\n                let saveLocalStorage = [];\r\n                let sendData={\r\n                    key:$(this).val(),\r\n                    cityId:cityId,\r\n                    pageName:\"renthouselist\"\r\n                };\r\n                /* 埋点的参数*/\r\n                let bigdata =encodeURIComponent(JSON.stringify({\r\n                    eventName: '1203004',\r\n                    channel:channelFlag ,\r\n                    type: 2\r\n                }));\r\n                that.request(that.apiUrl.common.acWord,sendData,{successCallback(data){\r\n                        let renthouselistData = data.data;\r\n                        acWordHouseList = renthouselistData.secondHouseList;\r\n                        if (renthouselistData.secondHouseList) {\r\n                            $('.show-result').show();\r\n                            $('.no-result').hide();\r\n                            $('.search-result').show();\r\n                            let titleName ='';\r\n                            let addreName = '';\r\n                            let searchaAcWord = '';\r\n                            renthouselistData.secondHouseList.forEach(function (item,index) {  // 循环出搜索结果\r\n                                titleName = item.estateDesc.replace(item.markname,`<span>${item.markname}</span>`);\r\n                                addreName = item.address.replace(item.markname,`<span>${item.markname}</span>`);\r\n                                searchaAcWord += `<li data-bigdata=\"${bigdata} \" data-type=\"${item.type}\" data-value=\"${item.value}\" data-name=\"${item.estateDesc}\" data-address=\"${item.address}\"><p>${titleName}</p><span>${addreName}</span></li>`\r\n                            }) ;\r\n                            $('#showResult').empty().append(searchaAcWord);\r\n                            $('body').css('background-color','#F0F0F0');\r\n                        } else {\r\n                            $('.no-result').show();\r\n                            $('.have-result').hide();\r\n                            $('.show-result').hide();\r\n                            $('body').css('background-color','#FFF');\r\n                        }\r\n                        // 搜索条目点击跳转 和储存\r\n                        $('#showResult >li').click(function () {\r\n                            JSON.parse( localStorage.getItem('searchHistory')) ?  saveLocalStorage = JSON.parse( localStorage.getItem('searchHistory')) : saveLocalStorage = [];\r\n                            let singleData = {\r\n                                \"key\":$(this).attr('data-name'),\r\n                                \"id\": $(this).attr('data-value'),\r\n                                \"address\": $(this).attr('data-address'),\r\n                                \"type\":$(this).attr('data-type'),\r\n                            };\r\n                            if (saveLocalStorage.length >4){\r\n                                saveLocalStorage.reverse().splice(4)\r\n                            }\r\n                            saveLocalStorage.forEach(function (item,index) {\r\n                                if (item.id == singleData.id && item.type == singleData.type){\r\n                                    saveLocalStorage.splice(index,1)\r\n                                }\r\n                            });\r\n                            let saveLocal= saveLocalStorage.reverse();\r\n                            saveLocal.push(singleData);\r\n                            localStorage.setItem(\"searchHistory\",JSON.stringify(saveLocal));\r\n                            delete (conditionObject['di']); delete (conditionObject['to']);\r\n                            delete (conditionObject['li']); delete (conditionObject['st']);\r\n                            delete(conditionObject['ne']);  // 删除附近\r\n                            let conditionString = that.objectToString(conditionObject); // 转换成字符串\r\n                            valueSearch = $(this).attr('data-value');\r\n                            let typeS = $(this).attr('data-type');\r\n                            window.location.href = url + conditionString + checkType(typeS,valueSearch);\r\n                        });\r\n                    }});\r\n                if (acWordHouseList){\r\n                    if (event.keyCode == 13){ //enter存值  ta-0-ta-0-ta-0-ta-0-la-0\r\n                        JSON.parse( localStorage.getItem('searchHistory')) ?  saveLocalStorage = JSON.parse( localStorage.getItem('searchHistory')) : saveLocalStorage = [];\r\n                        let singleData={\r\n                            \"key\":$('#showResult>li:eq(0)').attr('data-name'),\r\n                            \"id\": $('#showResult>li:eq(0)').attr('data-value'),\r\n                            \"address\": $('#showResult>li:eq(0)').attr('data-address'),\r\n                            \"type\":$('#showResult>li:eq(0)').attr('data-type'),\r\n                        };\r\n                        if (saveLocalStorage.length >4){\r\n                            saveLocalStorage.reverse().splice(4)\r\n                        }\r\n                        let saveLocal= saveLocalStorage.reverse();\r\n                        saveLocal.push(singleData);\r\n                        localStorage.setItem(\"searchHistory\",JSON.stringify(saveLocal));\r\n                        delete (conditionObject['di']); delete (conditionObject['to']);\r\n                        delete (conditionObject['li']); delete (conditionObject['st']);\r\n                        delete(conditionObject['ne']);  // 删除附近\r\n                        let conditionString = that.objectToString(conditionObject); // 转换成字符串\r\n                        valueSearch = $('#showResult>li:eq(0)').attr('data-value');\r\n                        let typeS = $('#showResult>li:eq(0)').attr('data-type');\r\n                        window.location.href = url + conditionString + checkType(typeS,valueSearch);\r\n                    }\r\n                }\r\n            }else {\r\n                $('.show-result').hide();\r\n                localStorage.getItem('searchHistory') ? $('.have-result').show(): $('.have-result').hide();\r\n                $('#showResult').empty();\r\n            }\r\n        });\r\n\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        搜索框是否有值的初步渲染\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        if (JSON.parse(localStorage.getItem('searchHistory')) && haveNot() ) {\r\n            let firtName = JSON.parse(localStorage.getItem('searchHistory')).reverse()[0].key;\r\n            $('#searchInput').val(firtName);\r\n            $('.contwo').show();\r\n        }\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         删除搜索框并跳转\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $('.contwo').click(function () {\r\n            $('#searchInput').val('');\r\n            $('.icon-close').hide();\r\n            $('#showResult').empty();\r\n            $('.no-result').hide();\r\n            $('.have-result').hide();\r\n            let conditionString = that.objectToString(conditionObject); // 转换成字符串\r\n            window.location.href = url + conditionString + areasLineSting\r\n        });\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         删除罩层搜索框值不跳转\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $('.conone').click(function () {\r\n            $('#searchInput').val('');\r\n            $('.icon-close').hide();\r\n            $('#showResult').empty();\r\n            $('.no-result').hide();\r\n            if (JSON.parse(localStorage.getItem('searchHistory'))) {  // Storage取值渲染\r\n                $('.have-result').show();\r\n                $('body').css('background-color','#F0F0F0');\r\n            }else {\r\n                $('.have-result').hide();\r\n                $('body').css('background-color','#FFF');\r\n            }\r\n        });\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         判断是否为今日头条等频道\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        if (GetRequest()['channel']){\r\n            $('.rent-list').css({\"box-shadow\":\" 0 0 0 0 rgba(0,0,0,.15)\",\"background-color\":\"#fff\"});\r\n            $('.search-input').css('width',\"96%\");\r\n            $('.history-name').hide();\r\n            $('.icon-fanhui').hide();\r\n            $('.sort').hide();\r\n            if ($('#searchInput').val()){\r\n                $('.conone').show();\r\n            }else {\r\n                $('.conone').hide();\r\n            }\r\n            $('.cancel-channel').click(function () {\r\n                $(this).hide();\r\n                $('.contwo').hide();\r\n                $('.conone').hide();\r\n                $('.all-control').removeClass('on-hide');\r\n                $('.search-result').hide();\r\n                $('.no-result').hide();\r\n                $('.back').hide();\r\n                $('.show-result').hide();\r\n                $('#showResult').empty();\r\n                $('#searchInput').val('');\r\n                $('.location-all').show();\r\n                $('#searchInput').css({\"background-color\":\"#F8F8F8\",'width':\"52%\"});\r\n                $('.rent-search').siblings('ul').removeClass('on-hide');\r\n                $('.rent-search').removeClass('active-search-channel');\r\n                $('body').css('background-color','#F0F0F0');\r\n            });\r\n            $('.location-all').click(function () {\r\n                $.cookie('citySelectionOpen', 1 ,{path: '/',});\r\n            })\r\n        }else {\r\n            $('.input-kw-form').css({\"background-color\":\"#FFF\"});\r\n            $('.location-all').hide();\r\n            $('.sort').show();\r\n            $('.icon-hanbao').show();\r\n        }\r\n    };\r\n    /*返回到首页*/\r\n    $('.back').click(function () {\r\n        window.location.href = \"/\"\r\n    });\r\n    /*返回到列表页*/\r\n    $('.fanhui').click(function () {\r\n        $('.input-kw-form').css({\"background-color\":\"#fff\"});\r\n        $('.rent-search').removeClass('active-search');\r\n        $('.all-control').removeClass('on-hide');\r\n        $('.rent-search').siblings('ul').removeClass('on-hide');\r\n        $('.search-result').hide();\r\n        $('.no-result').hide();\r\n        $('.back').show();\r\n        $('.icon-hanbao').show();\r\n        $(this).hide();\r\n        $('.contwo').hide();\r\n        $('.show-result').hide();\r\n        $('#searchInput').val('');\r\n        $('.conone').hide();\r\n    });\r\n    /*清楚搜索历史*/\r\n    $('#clearHistory').click(function () {\r\n        localStorage.removeItem('searchHistory');\r\n        $('body').css('background-color','#FFF');\r\n        $('.have-result').hide();\r\n    });\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    阻止表单的默认行为：\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    $('.input-kw-form').submit(function(event){\r\n        event.preventDefault();\r\n    });\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    判断search板块？后面的参数是什么\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    let checkType = function(type,value){\r\n        let typeSearch = '';\r\n        if (type == 1){\r\n            typeSearch = \"?districtId=\" + value;\r\n        }else if (type == 2){\r\n            typeSearch = \"?townId=\"+value;\r\n        }else if (type == 3){\r\n            typeSearch = \"?subwayLine=\"+value;\r\n        }else if (type == 4){\r\n            typeSearch = \"?subwayStation=\"+value;\r\n        }else if (type == 5){\r\n            typeSearch = \"?subEstateId=\"+value;\r\n        }\r\n        if (GetRequest()['channel'] && typeSearch){\r\n            typeSearch = typeSearch+\"&channel=\"+ GetRequest()['channel']\r\n        }else if (GetRequest()['channel'] && !typeSearch){\r\n            typeSearch = \"?channel=\"+GetRequest()['channel']\r\n        }else if (!GetRequest()['channel'] && typeSearch){\r\n            typeSearch = typeSearch\r\n        }\r\n        return typeSearch\r\n\r\n    };\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     查询？后面 是否包含搜索的参数\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    let haveNot = function(){\r\n        if(GetRequest()['districtId'] || GetRequest()['townId'] || GetRequest()['subwayLine'] || GetRequest()['subwayStation'] || GetRequest()['subEstateId']){\r\n            return true\r\n        }else {\r\n            return false\r\n        }\r\n    };\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     截取？后面的参数\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    let  GetRequest = function() {\r\n        let url = location.search;\r\n        let theRequest = {};\r\n        if (url.indexOf(\"?\") !== -1) {\r\n            let str = url.substr(1);\r\n            let strs = str.split(\"&\");\r\n            for(var i = 0; i < strs.length; i ++) {\r\n                theRequest[strs[i].split(\"=\")[0]]=strs[i].split(\"=\")[1];\r\n            }\r\n        }\r\n        // console.log(theRequest);\r\n        return theRequest;\r\n    };\r\n\r\n   return {\r\n       init: function(c){\r\n           that = c;\r\n       },\r\n       searchInputClick:searchInputClick\r\n   }\r\n});"]}