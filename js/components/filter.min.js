"use strict";var templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},noMatch=/(.)^/,escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(t){return"\\"+escapes[t]},_template=function(t,e,i){!e&&i&&(e=i),e=$.extend({},e,templateSettings);var a=RegExp([(e.escape||noMatch).source,(e.interpolate||noMatch).source,(e.evaluate||noMatch).source].join("|")+"|$","g"),s=0,n="__p+='";t.replace(a,function(e,i,a,r,o){return n+=t.slice(s,o).replace(escaper,escapeChar),s=o+e.length,i?n+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":a?n+="'+\n((__t=("+a+"))==null?'':__t)+\n'":r&&(n+="';\n"+r+"\n__p+='"),e}),n+="';\n",e.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var r=new Function(e.variable||"obj","_",n)}catch(o){throw o.source=n,o}var l=function(t){return r.call(this,t)},c=e.variable||"obj";return l.source="function("+c+"){\n"+n+"}",l};define([],function(){function t(t){var e='<div class="total-price">                                <ul>                                <%for(var i = 0; i < prices.length; i++){%>                                    <li data-value="<%=prices[i].id%>"><%=prices[i].text%></li>                                <%}%>                                </ul>                                <div>                                    <div>                                        <input type="number" placeholder="最低价格">                                    </div>                                    <div class="normal">-</div>                                    <div>                                        <input placeholder="最高价格" type="number">                                    </div>                                    <div class="normal"></div>                                    <div>                                        <button type="button">确定</button>                                    </div>                                </div>                            </div>',i=_template(e)({prices:t});return i}function e(t,e){var i='<div class="house-type">                            <div class="house-type-inner">                                <% var c = count || 4;%>                                <%for(var i = 0; i < houseTypes.length; i++){%>                                    <div class="house-type-section" data-key="<%= houseTypes[i].name%>">                                        <h4><%= houseTypes[i].title%></h4>                                        <%var r = Math.ceil(houseTypes[i].items.length/c);%>                                        <%for(var j = 0; j < r; j++){%>                                            <ul>                                            <%for(var k = 0; k < c; k++){%>                                              <%var item = houseTypes[i].items[j*c +k];%>                                              <%if(item){%>                                              <li data-value="<%= item.id%>" data-exclusive="<%= item.exclusive?1:0%>" <%= item.bigDataParam?("data-bigdata=\'" + item.bigDataParam + "\'"):""%> ><%= item.text %></li>                                              <%}else{%>                                                <li class="placeholder"></li>                                              <%}%>                                            <%}%>                                            </ul>                                        <%}%>                                    </div>                                    <%}%></div>                                    <ul class="operation">                                        <li class="reset" <%=bigDataParams && bigDataParams.houseTypes && bigDataParams.houseTypes.clickReset? ("data-bigdata=\'" + bigDataParams.houseTypes.clickReset +"\'") : "" %> >重置</li>                                        <li class="confirm" <%=bigDataParams && bigDataParams.houseTypes && bigDataParams.houseTypes.clickConfirm? ("data-bigdata=\'" + bigDataParams.houseTypes.clickConfirm +"\'") : "" %> >确定</li>                                    </ul>                            </div>',a=_template(i)({houseTypes:t,count:4,bigDataParams:e});return a}function i(t){var e='<div class="sort">                                <ul>                                <%for(var i = 0; i < sorts.length; i++){%>                                    <li <%= sorts[i].bigDataParam? ("data-bigdata=\'" + sorts[i].bigDataParam + "\'") : "" %> data-value="<%= sorts[i].id%>"><%= sorts[i].text%></li>                                <%}%>                                </ul>                            </div>',i=_template(e)({sorts:t});return i}function a(t){var e='<div class="district-metro"><ul><li class="active" <%= bigDataParams && bigDataParams.districtAndMetero && bigDataParams.districtAndMetro.clickDistrictSection? ("data-bigdata=\'" + bigDataParams.districtAndMetro.clickDistrictSection + "\'"):""%> >区域</li><li <%= bigDataParams && bigDataParams.districtAndMetero && bigDataParams.districtAndMetro.clickMetroSection? ("data-bigdata=\'" + bigDataParams.districtAndMetro.clickMetroSection + "\'"):""%> >地铁</li></ul><div class="district district-metro-item">                                <div class="district-inner">                                    <ul class="parent">                                        <%if(near){%>                                            <%if(locationSuccessful == null){%>                                            <li data-value="near" class="near">定位中...</li>                                            <%}%>                                            <%if(locationSuccessful === true){%>                                            <li data-value="near" class="near">附近</li>                                            <%}%>                                            <%if(locationSuccessful === false){%>                                            <li data-value="near" class="near">定位失败</li>                                            <%}%>                                        <%}%>                                        <li>不限</li>                                        <%for(var i = 0; i< districts.length; i++){%>                                        <li data-value="<%= districts[i].id%>"><%= districts[i].name%></li>                                        <%}%>                                    </ul>                                    <div class="child">                                    <%if(near){%>                                        <ul data-value="near" class="near">                                            <%for(var i = 0; distances && i < distances.length; i++){%>                                                <li class="near" data-value="<%=distances[i].value%>"><%= distances[i].text%></li>                                            <%}%>                                        </ul>                                        <%}%>                                    <%for(var i = 0; i < districts.length; i++){%>                                        <ul data-value="<%= districts[i].id%>" data-text="<%= districts[i].name%>">                                            <li data-pinyin="<%=districts[i].pinyin%>">不限</li>                                            <%for(var j = 0; j < districts[i].townList.length; j++){%>                                                <li data-pinyin="<%=districts[i].pinyin%>-<%=districts[i].townList[j].pinyin%>" data-value="<%= districts[i].townList[j].id%>"><%= districts[i].townList[j].name%></li>                                            <%}%>                                        </ul>                                    <%}%>                                    </div>                                </div>                            </div>                            <div class="metro district-metro-item">                            <div class="metro-inner">                                <ul class="parent">                                    <li>不限</li>                                    <%for(var i = 0; i< metros.length; i++){%>                                    <li data-value="<%= metros[i].id%>"><%= metros[i].name%></li>                                    <%}%>                                </ul>                                <div class="child">                                <%for(var i = 0; i < metros.length; i++){%>                                    <ul data-value="<%= metros[i].id%>" data-text="<%= metros[i].name%>">                                        <li data-pinyin="<%=metros[i].key%>">不限</li>                                        <%for(var j = 0; j < metros[i].subList.length; j++){%>                                            <li data-pinyin="<%=metros[i].key%><%=metros[i].subList[j].key%>" data-value="<%= metros[i].subList[j].id%>"><%= metros[i].subList[j].name%></li>                                        <%}%>                                    </ul>                                <%}%>                            </div>                        </div>                        </div></div>',i=_template(e)({districts:t.districts,metros:t.metros,longitude:t.longitude,latitude:t.latitude,distances:t.distances,near:t.near,bigDataParams:t.bigDataParams,locationSuccessful:this.locationSuccessful});return console.log(t.distances),i}function s(){var s=this.options;return'<ul class="filter-items"><li><span class="label" '+(s.bigDataParams&&s.bigDataParams.districtAndMetro&&s.bigDataParams.districtAndMetro.clickTab?'data-bigdata="'+s.bigDataParams.districtAndMetro.clickTab+'"':"")+' >区域</span><span class="triangle"></span></li><li><span class="label" '+(s.bigDataParams&&s.bigDataParams.price&&s.bigDataParams.price.clickTab?'data-bigdata="'+s.bigDataParams.price.clickTab+'"':"")+' >总价</span><span class="triangle"></span></li><li><span class="label" '+(s.bigDataParams&&s.bigDataParams.houseTypes&&s.bigDataParams.houseTypes.clickTab?'data-bigdata="'+s.bigDataParams.houseTypes.clickTab+'"':"")+' >户型</span><span class="triangle"></span></li><li><span class="label" '+(s.bigDataParams&&s.bigDataParams.sort&&s.bigDataParams.sort.clickTab?'data-bigdata="'+s.bigDataParams.sort.clickTab+'"':"")+' >排序</span><span class="triangle"></span></li></ul><div class="content"><div class="content-inner">'+a.call(this,s)+t(s.prices)+e(s.houseTypes,s.bigDataParams)+i(s.sorts)+"</div></div>"}function n(){var t={},e=this;delete this.result.sort,$(".sort .active").each(function(){$(this).data("value")&&(t.sort=$(this).data("value"))}),$(".total-price .active").each(function(){$(this).data("value")&&(t.price=$(this).data("value"),e.result&&delete e.result.price)}),$(".house-type-section").each(function(){var i=$(this).data("key");t[i]=[],e.result&&delete e.result[i],$(this).find(".active").each(function(){var e=$(this).data("value");null!=e&&void 0!=e&&""!=e&&t[i].push(e)}),0==t[i].length&&delete t[i]}),this.result.longitude&&(this.result.longitude=this.options.longitude),this.result.latitude&&(this.result.latitude=this.options.latitude),t=$.extend({},this.result,t),this.options.filterChanged&&this.options.filterChanged(t)}function r(){function t(){i.$content.hide(),$(".filter .filter-items li").removeClass("open"),i.$body.removeClass("noscroll"),i.scrollTop&&$(window).scrollTop(i.scrollTop)}function e(t){switch(i.$districtMetro.hide(),i.$price.hide(),i.$houseType.hide(),i.$sort.hide(),$(".filter-items li").removeClass("open"),i.$content.show(),t){case 0:i.$districtMetro.slideDown(),i.$districtLabel.parent().addClass("open");break;case 1:i.$price.slideDown(),i.$priceLabel.parent().addClass("open");break;case 2:i.$houseType.slideDown(),i.$houseTypeLabel.parent().addClass("open");break;case 3:i.$sort.slideDown(),i.$sortLabel.parent().addClass("open")}i.$body.addClass("noscroll");var e=i.$content.position().top,a=$(window).height();i.$content.height(a-e),i.scrollTop=$(window).scrollTop()}var i=this;$(window).on("scroll.filter",function(t){var e=$(window).scrollTop();e>42?($(".filter").addClass("fixed"),$("#list").addClass("has-margin")):($(".filter").removeClass("fixed"),$("#list").removeClass("has-margin"))}),$(".filter-items li").click(function(){if($(this).hasClass("open"))t();else{var i=$(".filter-items li").index(this);e(i)}}),$(".filter .sort li").click(function(){i.$sort.find("li").removeClass("active"),$(this).addClass("active"),t(),n.apply(i);var e=$(this).data("value");e?i.$sortLabel.text($(this).text()).parent().addClass("active"):i.$sortLabel.text("排序").parent().removeClass("active")}),$(".filter .total-price li").click(function(){i.$price.find("li").removeClass("active"),$(this).addClass("active"),t();var e=$(this).data("value");e?i.$priceLabel.text($(this).text()).parent().addClass("active"):i.$priceLabel.text("总价").parent().removeClass("active"),i.$minPrice.val(""),i.$maxPrice.val(""),delete i.result.price,n.apply(i)}),$(".filter .total-price button").click(function(){var e=$.trim(i.$minPrice.val()),a=$.trim(i.$maxPrice.val()),s=parseInt(e)||0,r=parseInt(a)||0;if(!(s!=e&&e||r!=a&&a||s>r)){i.result.price=(s||0)+"to"+(r||0),"0to0"==i.result.price&&delete i.result.price;var o="";!s&&r?o=r+"万以下":s&&!r?o=s+"万以上":s&&r&&(o=s+"-"+r+"万"),o?i.$priceLabel.text(o).parent().addClass("active"):i.$priceLabel.text("总价").parent().removeClass("active"),i.$price.find("li").removeClass("active"),t(),n.apply(i),i.options.bigDataParams&&i.options.bigDataParams.price&&i.options.bigDataParams.price.clickButton&&i.BigData.bigData({eventName:i.options.bigDataParams.price.clickButton,price_range:o})}}),$(".filter .house-type-section li:not(.placeholder)").click(function(){var t=$(this);if(t.hasClass("active"))t.removeClass("active");else{var e=t.closest(".house-type-section"),i=e.find("li:not(.placeholder)");t.data("exclusive")?i.removeClass("active"):i.filter("[data-exclusive=1]").removeClass("active"),t.addClass("active")}}),i.$houseTypeResetBtn.click(function(){i.$houseType.find(".house-type-section li:not(.placeholder)").removeClass("active")}),i.$houseTypeConfirmBtn.click(function(){i.$houseType.find(".active").length>0?i.$houseTypeLabel.parent().addClass("active"):i.$houseTypeLabel.parent().removeClass("active"),t(),n.apply(i)}),$(".filter .district-metro >ul li").click(function(){var t=$(".filter .district-metro >ul li").index(this);0==t?(i.$metro.hide(),i.$district.show()):(i.$metro.show(),i.$district.hide()),$(this).siblings().removeClass("active"),$(this).addClass("active")}),$(".filter .district .parent li").click(function(){var e=$(this),a=e.data("value");if("near"!=a||i.locationSuccessful){e.siblings().removeClass("active"),e.addClass("active");var s=e.parent();s.siblings(".child").find("ul").hide().filter("[data-value="+a+"]").show(),a||(delete i.result.district,delete i.result.town,delete i.result.metro,delete i.result.station,delete i.result.districtPinyin,delete i.result.metroKey,t(),n.apply(i),i.$districtLabel.text("区域").parent().removeClass("active")),a&&i.options.bigDataParams&&i.options.bigDataParams.districtAndMetro&&i.options.bigDataParams.districtAndMetro.clickDistrict&&i.BigData.bigData({eventName:i.options.bigDataParams.districtAndMetro.clickDistrict,region_id:a})}}),$(".filter .metro .parent li").click(function(){var e=$(this),a=e.data("value");e.siblings().removeClass("active"),e.addClass("active");var s=e.parent();s.siblings(".child").find("ul").hide().filter("[data-value="+a+"]").show(),a||(delete i.result.district,delete i.result.town,delete i.result.metro,delete i.result.station,delete i.result.districtPinyin,delete i.result.metroKey,t(),n.apply(i),i.$districtLabel.text("区域").parent().removeClass("active")),a&&i.options.bigDataParams&&i.options.bigDataParams.districtAndMetro&&i.options.bigDataParams.districtAndMetro.clickMetro&&i.BigData.bigData({eventName:i.options.bigDataParams.districtAndMetro.clickMetro,subway_id:a})}),$(".filter .district .child li").click(function(){var e=$(this);$(".district-metro .child li").removeClass("active"),e.addClass("active"),delete i.result.metro,delete i.result.station,delete i.result.metroKey,delete i.result.district,delete i.result.town,delete i.result.districtPinyin,delete i.result.longitude,delete i.result.latitude,delete i.result.meter;var a="";e.hasClass("near")?(i.result.longitude=i.options.longitude,i.result.latitude=i.options.latitude,i.result.meter=e.data("value"),a=e.text(),a.indexOf("不限")>-1&&(a="附近")):(i.result.district=e.parent().data("value"),i.result.town=e.data("value"),i.result.districtPinyin=e.data("pinyin"),i.result.town?(a=e.text(),i.options.bigDataParams&&i.options.bigDataParams.districtAndMetro&&i.options.bigDataParams.districtAndMetro.clickItem&&i.BigData.bigData({eventName:i.options.bigDataParams.districtAndMetro.clickItem,region_id:i.result.district,town_id:i.result.town})):(a=e.parent().data("text"),i.options.bigDataParams&&i.options.bigDataParams.districtAndMetro&&i.options.bigDataParams.districtAndMetro.clickItem&&i.BigData.bigData({eventName:i.options.bigDataParams.districtAndMetro.clickItem,region_id:i.result.district}))),n.apply(i),t(),i.$districtLabel.text(a).parent().addClass("active")}),$(".filter .metro .child li").click(function(){var e=$(this);$(".district-metro .child li").removeClass("active"),e.addClass("active"),delete i.result.district,delete i.result.town,delete i.result.districtPinyin,delete i.result.longitude,delete i.result.latitude,delete i.result.meter,i.result.metro=e.parent().data("value"),i.result.station=e.data("value"),i.result.metroKey=e.data("pinyin"),n.apply(i),t();var a="";i.result.station?(a=e.text(),i.options.bigDataParams&&i.options.bigDataParams.districtAndMetro&&i.options.bigDataParams.districtAndMetro.clickItem&&i.BigData.bigData({eventName:i.options.bigDataParams.districtAndMetro.clickItem,subway_id:i.result.metro,station_id:i.result.station})):(a=e.parent().data("text"),i.options.bigDataParams&&i.options.bigDataParams.districtAndMetro&&i.options.bigDataParams.districtAndMetro.clickItem&&i.BigData.bigData({eventName:i.options.bigDataParams.districtAndMetro.clickItem,subway_id:i.result.metro})),i.$districtLabel.text(a).parent().addClass("active")}),$(".content").click(function(e){this==e.target&&t()})}function o(){var t=$(window).height()-80;this.$districtMetro.find(".parent,.child").css("max-height",.7*t+"px"),this.$price.css("max-height",.8*t+"px"),this.$price.find("ul").css("max-height",.8*t-84+"px"),this.$houseType.find(".house-type-inner").css("max-height",.7*t+"px"),this.$sort.css("max-height",.7*t+"px"),this.$content.height(t)}function l(t,e,i){p=0;var a=this;this.controller.request(this.controller.apiUrl.rent.list.cityAreas,{houseType:this.options.houseType,cityId:this.options.cityId},{successCallback:function(t){a.options.districts=t.data,c.apply(a)},errorCallback:function(){a.options.districts=[],c.apply(a)},exceptionCallback:function(){a.options.districts=[],c.apply(a)}}),this.controller.request(this.controller.apiUrl.rent.list.citySubway,{cityId:this.options.cityId},{successCallback:function(t){a.options.metros=t.data,c.apply(a)},errorCallback:function(){a.options.metros=[],c.apply(a)},exceptionCallback:function(){a.options.metros=[],c.apply(a)}})}function c(){var t=this;if(p++,2==p){this.$el.html(s.apply(this)),this.$content=this.$el.find(".content"),this.$body=$("body"),this.$districtLabel=this.$el.find(".filter-items li:eq(0) .label"),this.$priceLabel=this.$el.find(".filter-items li:eq(1) .label"),this.$houseTypeLabel=this.$el.find(".filter-items li:eq(2) .label"),this.$sortLabel=this.$el.find(".filter-items li:eq(3) .label"),this.$districtMetro=this.$el.find(".district-metro"),this.$price=this.$el.find(".total-price"),this.$houseType=this.$el.find(".house-type"),this.$sort=this.$el.find(".sort"),this.$district=this.$districtMetro.find(".district"),this.$metro=this.$districtMetro.find(".metro"),this.$minPrice=this.$price.find("input:eq(0)"),this.$maxPrice=this.$price.find("input:eq(1)"),this.$priceConfirmBtn=this.$price.find("button"),this.$houseTypeResetBtn=this.$houseType.find(".reset"),this.$houseTypeConfirmBtn=this.$houseType.find(".confirm"),this.initValue={};var e=location.origin+location.pathname;e=e.replace("//","");var i=e.split("/");if(i[3]){var a=ParamGenerator.queryString2Object(i[3]);a&&(this.initValue=ParamGenerator.convert2FilterParam(a))}if(0==this.$el.length)throw"挂载点不存在";this.setValue(this.initValue),r.apply(this),o.apply(this);var n=navigator.userAgent,l=n.indexOf("Android")>-1||n.indexOf("Linux")>-1;l&&$(window).on("resize",function(){o.apply(t)})}}function d(t){this.options=$.extend({},m,t),this.BigData=this.options.BigData,this.$el=$(t.el),this.controller=t.controller,l.apply(this)}var m={el:"",filterChanged:function(t){},prices:[{id:"",text:"不限"},{id:"1",text:"100万以下"},{id:"2",text:"100-150万"},{id:"3",text:"150-200万"},{id:"4",text:"200-250万"},{id:"5",text:"250-300万"},{id:"6",text:"300-500万"},{id:"7",text:"500-1000万"},{id:"8",text:"1000-2000万"},{id:"9",text:"2000万以上"}],houseTypes:[{name:"types",title:"户型",items:[{id:"",text:"不限",exclusive:!0,bigDataParam:encodeURIComponent('{"eventName": "1050018", "room": "0"}')},{id:"1",text:"一室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1050018", "room": "1"}')},{id:"2",text:"二室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1050018", "room": "2"}')},{id:"3",text:"三室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1050018", "room": "3"}')},{id:"4",text:"四室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1050018", "room": "4"}')},{id:"5",text:"五室及以上",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1050018", "room": "5"}')}]},{name:"features",title:"特色",items:[{id:"f1",text:"近地铁",bigDataParam:encodeURIComponent('{"eventName": "1050041", "feature": "3"}')},{id:"s1",text:"即将开盘",bigDataParam:encodeURIComponent('{"eventName": "1050041", "feature": "9"}')},{id:"s2",text:"在售楼盘",bigDataParam:encodeURIComponent('{"eventName": "1050041", "feature": "10"}')},{id:"f0",text:"有优惠",bigDataParam:encodeURIComponent('{"eventName": "1050041", "feature": "11"}')},{id:"f2",text:"有视频",bigDataParam:encodeURIComponent('{"eventName": "1050041", "feature": "5"}')}]},{name:"propertyTypes",title:"物业类型",items:[{id:"1",text:"住宅",bigDataParam:encodeURIComponent('{"eventName": "1050040", "estate_type": "1"}')},{id:"2",text:"别墅",bigDataParam:encodeURIComponent('{"eventName": "1050040", "estate_type": "3"}')},{id:"3",text:"商用",bigDataParam:encodeURIComponent('{"eventName": "1050040", "estate_type": "2"}')}]},{name:"decorations",title:"装修",items:[{id:"1",text:"毛坯",bigDataParam:encodeURIComponent('{"eventName": "1050045", "fitment": "1"}')},{id:"2",text:"精装",bigDataParam:encodeURIComponent('{"eventName": "1050045", "fitment": "4"}')},{id:"3",text:"豪装",bigDataParam:encodeURIComponent('{"eventName": "1050045", "fitment": "5"}')}]}],sorts:[{text:"综合排序",bigDataParam:encodeURIComponent('{"eventName": "1050004"}')},{id:"1",text:"均价从低到高",bigDataParam:encodeURIComponent('{"eventName": "1050005"}')},{id:"2",text:"均价从高到低",bigDataParam:encodeURIComponent('{"eventName": "1050006"}')},{id:"3",text:"面积从小到大",bigDataParam:encodeURIComponent('{"eventName": "1050008"}')},{id:"4",text:"面积从大到小",bigDataParam:encodeURIComponent('{"eventName": "1050007"}')}],near:!0},p=0;return d.prototype.setValue=function(t){var e="";if(this.result={},void 0!=t.district||void 0!=t.town?(void 0!=t.district&&(e=this.$district.find(".parent li[data-value="+t.district+"]").addClass("active").text(),this.$district.find(".child ul[data-value="+t.district+"]").show(),this.result.district=t.district,this.result.districtPinyin=this.$district.find(".child ul[data-value="+t.district+"] li:eq(0)").data("pinyin")),void 0!=t.town&&(e=this.$district.find(".child li[data-value="+t.town+"]").addClass("active").text(),this.result.town=t.town,this.result.districtPinyin=this.$district.find(".child li[data-value="+t.town+"]").data("pinyin"))):void 0!=t.metro||void 0!=t.station?(void 0!=t.metro&&(e=this.$metro.find(".parent li[data-value="+t.metro+"]").addClass("active").text(),this.$metro.find(".child ul[data-value="+t.metro+"]").show(),this.result.metro=t.metro,this.result.metroKey=this.$metro.find(".child ul[data-value="+t.metro+"] li:eq(0)").data("pinyin")),void 0!=t.station&&(e=this.$metro.find(".child li[data-value="+t.station+"]").addClass("active").text(),this.result.station=t.station,this.result.metroKey=this.$metro.find(".child li[data-value="+t.station+"]").data("pinyin")),$(".filter .district-metro >ul li").removeClass("active").filter(":eq(1)").addClass("active"),this.$district.hide(),this.$metro.show()):t.longitude||t.latitude?(e="附近",this.$district.find(".parent .near").addClass("active"),this.$district.find(".child ul.near").show(),t.meter?(e=t.meter+"米",this.$district.find(".child li.near").removeClass("active").filter("[data-value="+t.meter+"]").addClass("active")):void 0!=t.meter&&this.$district.find(".child li.near:eq(0)").addClass("active")):(this.$districtMetro.find("ul, li").removeClass("active"),this.$districtMetro.find(".child ul").hide(),this.$districtLabel.text("区域").parent().removeClass("active"),this.$district.show(),this.$metro.hide(),this.$districtMetro.find(">ul li:eq(0)").addClass("active")),e&&this.$districtLabel.text(e).parent().addClass("active"),t.price){this.$price.find("li").removeClass("active");var i=this.$price.find("[data-value="+t.price+"]");if(0==i.length){var a=t.price.split("to"),s=a[0],n=a[1];this.$minPrice.val(s||""),this.$maxPrice.val(n||""),this.result.price=t.price,e=s?s?s+"-"+n+"万":s+"万以上":n+"万以下"}else i.addClass("active"),this.result.price=t.price,e=i.text();this.$priceLabel.text(e).parent().addClass("active")}else this.$price.find("li").removeClass("active"),this.$maxPrice.val(""),this.$minPrice.val(""),this.$priceLabel.text("总价").parent().removeClass("active");if(this.$houseType.find("li").removeClass("active"),this.$houseTypeLabel.text("户型").parent().removeClass("active"),t.houseTypes){for(var r in t.houseTypes)for(var o=0;o<t.houseTypes[r].length;o++)this.$houseType.find("[data-key="+r+"] [data-value="+t.houseTypes[r][o]+"]").addClass("active"),this.result[r]||(this.result[r]=[]),this.result[r].push(t.houseTypes[r][o]);this.$houseTypeLabel.parent().addClass("active")}if(t.sort){var e=this.$sort.find("li[data-value="+t.sort+"]").addClass("active").text();e&&this.$sortLabel.text(e).parent().addClass("active"),this.result.sort=t.sort}else this.$sort.find("li").removeClass("active"),this.$sortLabel.text("排序").parent().removeClass("active");t.longitude&&(this.options.longitude=t.longitude),t.latitude&&(this.options.latitude=t.latitude)},d.prototype.clear=function(){this.setValue({}),n.apply(this)},d.prototype.clearDistrictAndMetro=function(){this.$districtMetro.find(".parent li").removeClass("active"),this.$districtMetro.find(".child li").removeClass("active"),this.$districtLabel.text("区域").parent().removeClass("active"),delete this.result.district,delete this.result.town,delete this.result.metro,delete this.result.station,delete this.result.districtPinyin,delete this.result.metroKey,delete this.result.meter,delete this.result.longitude,delete this.result.latitude},d.prototype.getResult=function(){return this.result},d.prototype.setLocationInfo=function(t){t?(this.locationSuccessful=!0,this.$el.find(".district .parent .near").text("附近"),this.options.longitude=t.longitude,this.options.latitude=t.latitude):(this.$el.find(".district .parent .near").text("定位失败"),this.locationSuccessful=!1)},d.XFDEFAULT={bigDataParams:{sort:{clickTab:encodeURIComponent('{"eventName": "1050003"}')},districtAndMetro:{clickItem:"1050016",clickDistrict:"1050032",clickTown:"1050033",clickMetro:"1050034",clickStation:"1050035",clickDistrictSection:encodeURIComponent('{"eventName": "1050043"}'),clickMetroSection:encodeURIComponent('{"eventName": "1050044"}')},price:{clickButton:"1050017"},houseTypes:{clickConfirm:encodeURIComponent('{"eventName: "1050019"}')}}},d.ESFDEFAULT={distances:[{value:"",text:"不限（智能范围）"},{value:"500",text:"500米"},{value:"1000",text:"1000米"},{value:"2000",text:"2000米"},{value:"5000",text:"5000米"}],sorts:[{text:"默认排序",bigDataParam:encodeURIComponent('{"eventName": "1068007"}')},{id:"1",text:"单价从低到高",bigDataParam:encodeURIComponent('{"eventName": "1068002"}')},{id:"2",text:"单价从高到低",bigDataParam:encodeURIComponent('{"eventName": "1068003"}')},{id:"3",text:"总价从低到高",bigDataParam:encodeURIComponent('{"eventName": "1068008"}')},{id:"4",text:"总价从高到低",bigDataParam:encodeURIComponent('{"eventName": "1068009"}')},{id:"6",text:"面积从小到大",bigDataParam:encodeURIComponent('{"eventName": "1068010"}')},{id:"5",text:"面积从大到小",bigDataParam:encodeURIComponent('{"eventName": "1068011"}')},{id:"7",text:"发布时间从近到远",bigDataParam:encodeURIComponent('{"eventName": "1068001"}')}],houseTypes:[{name:"types",title:"户型",items:[{text:"不限",exclusive:!0,bigDataParam:encodeURIComponent('{"eventName": "1068020", room: 0}')},{id:"1",text:"一室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1068020", room: 1}')},{id:"2",text:"二室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1068020", room: 2}')},{id:"3",text:"三室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1068020", room: 3}')},{id:"4",text:"四室",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1068020", room: 4}')},{id:"5",text:"五室及以上",exclusive:!1,bigDataParam:encodeURIComponent('{"eventName": "1068020", room: 5}')}]},{name:"features",title:"特色",items:[{id:"fd",text:"降价",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "6"}')},{id:"n",text:"新上",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "7"}')},{id:"m2",text:"满二",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "1"}')},{id:"m5",text:"满五唯一",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "2"}')},{id:"f1",text:"地铁房",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "3"}')},{id:"s",text:"近学校",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "4"}')},{id:"f2",text:"有视频",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "5"}')},{id:"ns",text:"南北通透",bigDataParam:encodeURIComponent('{"eventName": "1068049", feature: "8"}')}]},{name:"areas",title:"面积",items:[{id:"1",text:"50以下",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "0-50"}')},{id:"2",text:"50-70",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "50-70"}')},{id:"3",text:"70-90",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "70-90"}')},{id:"4",text:"90-110",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "90-110"}')},{id:"5",text:"110-130",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "110-130"}')},{id:"6",text:"130-150",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "130-150"}')},{id:"7",text:"150-200",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "150-200"}')},{id:"8",text:"200-300",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "200-300"}')},{id:"9",text:"300以上",bigDataParam:encodeURIComponent('{"eventName": "1068047", area_range: "300"}')}]},{name:"houseTypes",title:"房屋类型",items:[{id:"1",text:"公寓",bigDataParam:encodeURIComponent('{"eventName": "1068050", feature: "1"}')},{id:"2",text:"别墅",bigDataParam:encodeURIComponent('{"eventName": "1068050", feature: "2"}')}]},{name:"decorations",title:"装修",items:[{id:"1",text:"毛坯",bigDataParam:encodeURIComponent('{"eventName": "1068054", feature: "1"}')},{id:"2",text:"简装",bigDataParam:encodeURIComponent('{"eventName": "1068054", feature: "2"}')},{id:"3",text:"中装",bigDataParam:encodeURIComponent('{"eventName": "1068054", feature: "3"}')},{id:"4",text:"精装",bigDataParam:encodeURIComponent('{"eventName": "1068054", feature: "4"}')},{id:"5",text:"豪装",bigDataParam:encodeURIComponent('{"eventName": "1068054", feature: "5"}')}]},{name:"ages",title:"房龄",items:[{id:"1",text:"5年以内",bigDataParam:encodeURIComponent('{"eventName": "1068051", feature: "1"}')
},{id:"2",text:"5-10年",bigDataParam:encodeURIComponent('{"eventName": "1068051", feature: "2"}')},{id:"3",text:"10-20年",bigDataParam:encodeURIComponent('{"eventName": "1068051", feature: "3"}')},{id:"4",text:"20年以上",bigDataParam:encodeURIComponent('{"eventName": "1068051", feature: "4"}')}]}],bigDataParams:{sort:{clickTab:encodeURIComponent('{"eventName": "1068006"}')},districtAndMetro:{clickTab:encodeURIComponent('{"eventName":"1068029"}'),clickItem:"1068018",clickDistrict:"1068041",clickTown:"1068042",clickMetro:"1068043",clickStation:"1068044",clickDistrictSection:encodeURIComponent('{"eventName":"1068055"}'),clickMetroSection:encodeURIComponent('{"eventName": "1068056"}')},price:{clickButton:"1068019",clickItem:"",clickTab:encodeURIComponent('{"eventName":"1068030"}')},houseTypes:{clickConfirm:encodeURIComponent('{"eventName":"1068021"}'),clickReset:encodeURIComponent('{"eventName": "1068004"}'),clickTab:encodeURIComponent('{"eventName": "1068031"}')}}},d.LOWPRICES={prices:[{id:"",text:"不限"},{id:"21",text:"50万以下"},{id:"22",text:"50-80万"},{id:"23",text:"80-100万"},{id:"24",text:"100-150万"},{id:"25",text:"150-200万"},{id:"26",text:"200-300万"},{id:"27",text:"300-500万"},{id:"28",text:"500万以上"}]},d});
//# sourceMappingURL=filter.min.js.map
