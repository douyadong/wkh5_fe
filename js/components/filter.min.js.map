{"version":3,"sources":["components/filter.min.js"],"names":["define","template","outline","districtMetro","total","houseType","sort","DEFAULT","el","filterChanged","condition","prices","id","text","houseTypes","name","title","items","exclusive","sorts","createPriceSection","map","price","join","createHouseTypeSection","createUl","count","result","appendCount","length","i","push","times","item","j","createSortSection","createDistrctAndMetroSection","options","district","metro","districts","townList","town","metros","subList","station","create","bindEvent","self","calcCondition","$","each","data","key","find","value","undefined","extend","console","log","hide","$content","removeClass","$body","show","index","$districtMetro","$price","$houseType","$sort","slideDown","$districtLabel","parent","addClass","$priceLabel","$houseTypeLabel","$sortLabel","click","hasClass","apply","$minPrice","val","$maxPrice","minText","trim","maxText","min","parseInt","max","str","$this","$parent","closest","$items","filter","$houseTypeResetBtn","$houseTypeConfirmBtn","$metro","$district","siblings","event","target","setMaxHeight","winHeight","window","height","css","getDistrictAndMetro","cityId","cb","initCount","controller","request","apiUrl","rent","list","cityAreas","successCallback","init","errorCallback","exceptionCallback","citySubway","$el","html","$priceConfirmBtn","initValue","JSON","parse","decodeURIComponent","setValue","Filter","prototype","$pr","strs","split"],"mappings":"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","file":"filter.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：components -> filter(筛选条件)\r\n 3. 作者：tangxuyang@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n /**\r\n  * options: {\r\n      el: \"\", //挂载点\r\n      houseType: \"\",//查询区域板块用的\r\n      cityId: \"\",//查询区域板块和地铁用的\r\n      filterChanged: function(condition){},//查询条件变化回调\r\n      prices:[{\r\n          id: \"\",\r\n          text: \"不限\"          \r\n      },{\r\n          id: \"1\",\r\n          text: \"100万以下\"\r\n      }],\r\n      houseTypes:[{\r\n          name: \"types\",//用来作为返回查询条件的key\r\n          title: \"户型\",\r\n          items: [{\r\n              id: \"\",\r\n              text: \"不限\",\r\n              exclusive: true,//互斥\r\n          }]\r\n      },{\r\n          name: \"features\",\r\n          title: \"特色\",\r\n          items: [{\r\n              id: \"\",\r\n              text: \"进地铁\"\r\n          }]\r\n      },{\r\n          name: \"propertyTypes\",\r\n          title: \"物业类型\",\r\n          items: [{\r\n              id: \"\",\r\n              text: \"住宅\"\r\n          }]\r\n      },{\r\n          name: \"decorations\",\r\n          title: \"装修\",\r\n          items: [{\r\n              id: \"\",\r\n              text: \"毛坯\"\r\n          }]\r\n      }],\r\n      sorts:[{\r\n          id: \"\",\r\n          text: \"综合排序\"\r\n      }]\r\n  }\r\n  */\r\n\r\ndefine([],function(){\r\n    let template = {\r\n        outline: ``,\r\n        districtMetro: ``,\r\n        total: ``,\r\n        houseType: ``,\r\n        sort:`<ul></ul>`\r\n    };\r\n\r\n    const DEFAULT =  {\r\n        el: \"\", //挂载点\r\n        filterChanged: function(condition){},//查询条件变化回调\r\n        prices:[{\r\n            id: \"\",\r\n            text: \"不限\"          \r\n        },{\r\n            id: \"1\",\r\n            text: \"100万以下\"\r\n        },{\r\n            id: \"2\",\r\n            text: \"100-150万\"\r\n        },{\r\n            id: \"3\",\r\n            text: \"150-200万\"\r\n        },{\r\n            id: \"4\",\r\n            text: \"200-250万\"\r\n        },{\r\n            id: \"5\",\r\n            text: \"250-300万\"\r\n        },{\r\n            id: \"6\",\r\n            text: \"300-500万\"\r\n        },{\r\n            id: \"7\",\r\n            text: \"500-1000万\"\r\n        },{\r\n            id: \"8\",\r\n            text: \"1000-2000万\"\r\n        },{\r\n            id: \"9\",\r\n            text: \"2000万以上\"\r\n        }],\r\n        houseTypes:[{\r\n            name: \"types\",//用来作为返回查询条件的key\r\n            title: \"户型\",\r\n            items: [{\r\n                id: \"\",\r\n                text: \"不限\",\r\n                exclusive: true,//互斥\r\n            },{\r\n                id: \"1\",\r\n                text: \"一室\",\r\n                exclusive: false,//互斥\r\n            },{\r\n                id: \"2\",\r\n                text: \"二室\",\r\n                exclusive: false,//互斥\r\n            },{\r\n                id: \"3\",\r\n                text: \"三室\",\r\n                exclusive: false,//互斥\r\n            },{\r\n                id: \"4\",\r\n                text: \"四室\",\r\n                exclusive: false,//互斥\r\n            },{\r\n                id: \"5\",\r\n                text: \"五室及以上\",\r\n                exclusive: false,//互斥\r\n            }]\r\n        },{\r\n            name: \"features\",\r\n            title: \"特色\",\r\n            items: [{\r\n                id: \"1\",\r\n                text: \"进地铁\"\r\n            },{\r\n                id: \"2\",\r\n                text: \"即将开盘\"\r\n            },{\r\n                id: \"3\",\r\n                text: \"在售楼盘\"\r\n            },{\r\n                id: \"4\",\r\n                text: \"有优惠\"\r\n            },{\r\n                id: \"5\",\r\n                text: \"有视频\"\r\n            }]\r\n        },{\r\n            name: \"propertyTypes\",\r\n            title: \"物业类型\",\r\n            items: [{\r\n                id: \"1\",\r\n                text: \"住宅\"\r\n            },{\r\n                id: \"2\",\r\n                text: \"别墅\"\r\n            },{\r\n                id: \"3\",\r\n                text: \"商用\"\r\n            }]\r\n        },{\r\n            name: \"decorations\",\r\n            title: \"装修\",\r\n            items: [{\r\n                id: \"1\",\r\n                text: \"毛坯\"\r\n            },{\r\n                id: \"2\",\r\n                text: \"简装\"\r\n            },{\r\n                id: \"3\",\r\n                text: \"中装\"\r\n            },{\r\n                id: \"4\",\r\n                text: \"精装\"\r\n            },{\r\n                id: \"5\",\r\n                text: \"豪装\"\r\n            }]\r\n        }],\r\n        sorts:[{\r\n            id: \"1\",\r\n            text: \"综合排序\"\r\n        },{\r\n            id: \"2\",\r\n            text: \"均价从低到高\"\r\n        },{\r\n            id: \"3\",\r\n            text: \"均价从高到低\"\r\n        },{\r\n            id: \"4\",\r\n            text: \"面积从小到大\"\r\n        },{\r\n            id: \"5\",\r\n            text: \"面积从大到小\"\r\n        }]\r\n    };\r\n\r\n    //没有模板库，先自己写函数吧\r\n    function createPriceSection(prices){// 价格\r\n        return '<div class=\"total-price\"><ul>' + prices.map(function(price){\r\n            return '<li data-value=\"'+price.id+'\">'+price.text+'</li>';\r\n        }).join('') + '</ul>' + '<div><div><input type=\"numeric\" placeholder=\"最低价格\"></div><div class=\"normal\">-</div><div><input placeholder=\"最高价格\" type=\"numeric\"></div><div class=\"normal\"></div><div><button type=\"button\">确定</button></div></div></div>';\r\n    }\r\n\r\n    function createHouseTypeSection(houseTypes){// 户型\r\n        function createUl(items, count){\r\n            count = count || 4;//默认四个作为一个ul\r\n            var result = \"\";\r\n\r\n            var appendCount = count - items.length%count;\r\n            if(appendCount){\r\n                for(var i = 0; i < appendCount; i++) {\r\n                    items.push({id: \"\", text: \"\"});\r\n                }\r\n            }\r\n\r\n            var times = items.length / count;\r\n            var item = null;\r\n            for(var i = 0; i < times; i++){\r\n                result += \"<ul>\";\r\n                for(var j = 0; j < count; j++){\r\n                    item = items[i*count + j];\r\n                    if(item.text){\r\n                        result += '<li data-value=\"'+item.id+'\" '+(item.exclusive?'data-exclusive=\"1\"':'')+'>'+item.text+'</li>';\r\n                    }else{\r\n                        result += '<li class=\"placeholder\"></li>';\r\n                    }                    \r\n                }\r\n                result += \"</ul>\";\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        return '<div class=\"house-type\"><div class=\"house-type-inner\">' + houseTypes.map(function(houseType){\r\n            return '<div class=\"house-type-section\" data-key=\"'+ houseType.name +'\"><h4>'+houseType.title+'</h4>' + createUl(houseType.items) + '</div>';\r\n        }).join('') + '</div><ul class=\"operation\"><li class=\"reset\">重置</li><li class=\"confirm\">确定</li></ul></div>';\r\n    }\r\n\r\n    function createSortSection(sorts){// 排序\r\n        return '<div class=\"sort\"><ul>'+ sorts.map(function(sort){\r\n            return '<li data-value=\"'+ sort.id +'\">'+ sort.text +'</li>';\r\n        }).join('') +'</ul></div>';\r\n    }\r\n\r\n    function createDistrctAndMetroSection(options){// 区域（包括区域和地铁）\r\n        \r\n\r\n        var district = \"\";\r\n        var metro = \"\";\r\n\r\n        if(options.districts){// 区域\r\n            district += '<div class=\"district district-metro-item\"><div class=\"district-inner\">';\r\n            district += '<ul class=\"parent\"><li>不限</li>'+ (options.districts && options.districts.map(function(district){\r\n                return '<li data-value=\"'+district.id+'\">' + district.name + '</li>';\r\n            }).join('') || '') +'</ul>';\r\n\r\n            district +='<div class=\"child\">' + (options.districts && options.districts.map(function(district){\r\n                return '<ul data-value=\"'+district.id+'\" data-text=\"'+district.name+'\"><li>不限</li>'+ (district.townList && district.townList.map(function(town){\r\n                    return '<li data-value=\"'+town.id+'\">'+town.name+'</li>';\r\n                }).join('') || '') +'</ul>';\r\n            }).join('') || '') + '</div>';\r\n\r\n            district += '</div></div>';\r\n        }\r\n\r\n        if(options.metros){// 板块\r\n            metro += '<div class=\"metro district-metro-item\"><div class=\"metro-inner\">';\r\n            metro += '<ul class=\"parent\"><li>不限</li>'+ (options.metros && options.metros.map(function(metro){\r\n                return '<li data-value=\"'+metro.id+'\">' + metro.name + '</li>';\r\n            }).join('') || '') +'</ul>';\r\n\r\n            metro += '<div class=\"child\">' + (options.metros && options.metros.map(function(metro){\r\n                return '<ul data-value=\"'+metro.id+'\" data-text=\"'+metro.name+'\"><li>不限</li>'+ (metro.subList && metro.subList.map(function(station){\r\n                    return '<li data-value=\"'+station.id+'\">'+station.name+'</li>';\r\n                }).join('') || '') +'</ul>';\r\n            }).join('') || '') + '</div>';\r\n\r\n            metro += '</div></div>';\r\n        }\r\n        return '<div class=\"district-metro\"><ul><li class=\"active\">区域</li><li>地铁</li></ul>'+district + metro+'</div>';\r\n    }\r\n\r\n    function create(){\r\n        var options = this.options;\r\n        return '<ul class=\"filter-items\"><li><span class=\"label\">区域</span><span class=\"triangle\"></span></li><li><span class=\"label\">总价</span><span class=\"triangle\"></span></li><li><span class=\"label\">户型</span><span class=\"triangle\"></span></li><li><span class=\"label\">排序</span><span class=\"triangle\"></span></li></ul><div class=\"content\"><div class=\"content-inner\">'+createDistrctAndMetroSection({districts: options.districts, metros: options.metros})+createPriceSection(options.prices)+createHouseTypeSection(options.houseTypes)+createSortSection(options.sorts)+'</div></div>';\r\n    }\r\n\r\n    function bindEvent() {\r\n        var self = this;\r\n        // 计算查询提交，并调用filterChange回调\r\n        function calcCondition() {\r\n            var result = {};\r\n            // 排序\r\n            $('.sort .active').each(function(){\r\n                result.sort = $(this).data('value');\r\n            });\r\n\r\n            // 总价\r\n            $('.total-price .active').each(function(){\r\n                result.price = $(this).data('value');\r\n            });\r\n            // TODO:读取自定义总价\r\n\r\n            // 户型\r\n            $('.house-type-section').each(function(){\r\n                var key = $(this).data('key');\r\n                result[key] = [];\r\n                $(this).find('.active').each(function(){\r\n                    var value = $(this).data('value');\r\n                    if(value != null && value != undefined && value != ''){\r\n                        result[key].push(value);\r\n                    }                    \r\n                });\r\n                if(result[key].length == 0){// 没选中则删除\r\n                    delete result[key];\r\n                }\r\n            });\r\n\r\n            // 区域地铁\r\n            /*\r\n            $('.district .parent li.active').each(function(){\r\n                result.district = $(this).data('value');\r\n            });\r\n            $('.district .child li.active').each(function(){\r\n                result.town = $(this).data('value');\r\n            });\r\n            $('.metro .parent li.active').each(function(){\r\n                result.metro = $(this).data('value');\r\n            });\r\n            $('.metro .child li.active').each(function(){\r\n                result.station = $(this).data('value');\r\n            });*/\r\n            // 区域地铁的有点复杂，还是在点击选中时直接复制给this.result\r\n            \r\n            result = $.extend({}, this.result, result);\r\n            console.log(result);\r\n        }\r\n\r\n        // 关闭筛选弹层\r\n        function hide(){            \r\n            self.$content.hide();\r\n            $('.filter .filter-items li').removeClass('open');\r\n            self.$body.removeClass('noscroll');\r\n        }\r\n\r\n        // 打开筛选弹层\r\n        function show(index){\r\n            // 先隐藏\r\n            self.$districtMetro.hide();\r\n            self.$price.hide();\r\n            self.$houseType.hide();\r\n            self.$sort.hide();\r\n\r\n            $('.filter-items li').removeClass('open');            \r\n\r\n            self.$content.show();\r\n            switch(index){\r\n                case 0:\r\n                    self.$districtMetro.slideDown();\r\n                    self.$districtLabel.parent().addClass('open');\r\n                break;\r\n                case 1:\r\n                    self.$price.slideDown();\r\n                    self.$priceLabel.parent().addClass('open');\r\n                break;\r\n                case 2:\r\n                    self.$houseType.slideDown();\r\n                    self.$houseTypeLabel.parent().addClass('open');\r\n                break;\r\n                case 3:\r\n                    self.$sort.slideDown();\r\n                    self.$sortLabel.parent().addClass('open');\r\n                break;\r\n            }\r\n            self.$body.addClass('noscroll');\r\n        }\r\n\r\n        // 点击区域、总价、户型、排序，展示详情筛选条件\r\n        $('.filter-items li').click(function(){\r\n            if($(this).hasClass('open')){//当前筛选条件已经显示了，则关闭                \r\n                hide();\r\n            }else{\r\n                var index = $('.filter-items li').index(this);                                        \r\n                show(index);                \r\n            }\r\n        });\r\n\r\n        // 点击排序中的选项\r\n        $('.filter .sort li').click(function(){            \r\n            self.$sort.find('li').removeClass('active');\r\n            $(this).addClass('active');\r\n            hide();\r\n            calcCondition.apply(self);\r\n            var id = $(this).data('value');\r\n            if(id){\r\n                self.$sortLabel.text($(this).text()).parent().addClass('active');\r\n            } else {\r\n                self.$sortLabel.text(\"排序\").parent().removeClass('active');\r\n            }\r\n        });\r\n\r\n        // 点击总价中的选项\r\n        $('.filter .total-price li').click(function(){            \r\n            self.$price.find('li').removeClass('active');\r\n            $(this).addClass('active');\r\n            hide();\r\n            var id = $(this).data('value');\r\n            if(id) {\r\n                self.$priceLabel.text($(this).text()).parent().addClass('active');;\r\n            } else {\r\n                self.$priceLabel.text(\"总价\").parent().removeClass('active');\r\n            }\r\n            self.$minPrice.val('');\r\n            self.$maxPrice.val('');\r\n            calcCondition.apply(self);\r\n        });\r\n\r\n        // 自定义价格区间确定按钮\r\n        $('.filter .total-price button').click(function(){\r\n            // 校验输入，并做相应处理\r\n            var minText = $.trim(self.$minPrice.val());\r\n            var maxText = $.trim(self.$maxPrice.val());\r\n            var min = parseInt(minText) || 0;\r\n            var max = parseInt(maxText) || 0;\r\n\r\n            if(min != minText && minText || max != maxText && maxText || min > max) {\r\n                // TODO:提示价格区间有误，请从新输入\r\n\r\n                return;\r\n            }\r\n            self.result.price = (min || 0) + \"to\" + (max || 0);\r\n            var str = \"\";\r\n            if(!min && max){\r\n                str = max + \"万以下\";\r\n            } else if (min && !max) {\r\n                str = min + \"万以上\";\r\n            } else if (min && max) {\r\n                str = min + \"-\" + max + \"万\";\r\n            }\r\n            if(str) {\r\n                self.$priceLabel.text(str).parent().addClass('active');\r\n            }else{\r\n                self.$priceLabel.text(\"总价\").parent().removeClass('active');\r\n            }\r\n            self.$price.find('li').removeClass('active');\r\n            hide();\r\n            calcCondition.apply(self);\r\n        });\r\n\r\n        // 户型中选项\r\n        $('.filter .house-type-section li:not(.placeholder)').click(function(){\r\n            var $this = $(this);\r\n            if($this.hasClass('active')){// 已经选中了，则去除选中\r\n                $this.removeClass('active');\r\n            }else{                \r\n                // 互斥处理\r\n                var $parent = $this.closest('.house-type-section');\r\n                var $items = $parent.find('li:not(.placeholder)');\r\n                if($this.data('exclusive')){//互斥\r\n                    $items.removeClass('active');\r\n                }else{// 不互斥\r\n                    $items.filter('[data-exclusive=1]').removeClass('active');\r\n                } \r\n                $this.addClass('active');               \r\n            }                        \r\n        });\r\n\r\n        // 户型中重置和确定按钮\r\n        self.$houseTypeResetBtn.click(function(){\r\n            self.$houseType.find('.house-type-section li:not(.placeholder)').removeClass('active');\r\n            //$('.filter .house-type-section li:not(.placeholder)').removeClass('active');\r\n        });\r\n        self.$houseTypeConfirmBtn.click(function(){\r\n            if(self.$houseType.find('.active').length > 0){\r\n                self.$houseTypeLabel.parent().addClass('active');\r\n            }else{\r\n                self.$houseTypeLabel.parent().removeClass('active');\r\n            }\r\n            hide();\r\n            calcCondition.apply(self);\r\n        });\r\n\r\n        //区域中，区域地铁单击\r\n        $('.filter .district-metro >ul li').click(function(){\r\n            var index = $('.filter .district-metro >ul li').index(this);\r\n            if(index == 0){// 点击的区域                                \r\n                self.$metro.hide();\r\n                self.$district.show();\r\n            } else {// 地铁                \r\n                self.$metro.show();\r\n                self.$district.hide();\r\n            }\r\n            $(this).siblings().removeClass('active');\r\n            $(this).addClass('active');\r\n        });\r\n\r\n        // 区域、地铁\r\n        $('.filter .parent li').click(function(){\r\n            var $this = $(this);\r\n            var id = $this.data('value');            \r\n            $this.siblings().removeClass('active');\r\n            $this.addClass('active');\r\n            var $parent = $this.parent();\r\n            $parent.siblings('.child').find('ul').hide().filter('[data-value='+id+']').show();\r\n            if(!id){// 不限\r\n                delete self.result.district;\r\n                delete self.result.town;\r\n                delete self.result.metro;\r\n                delete self.result.station; \r\n                hide();\r\n                calcCondition.apply(self);    \r\n                self.$districtLabel.text(\"区域\").parent().removeClass('active');           \r\n            }\r\n        });\r\n\r\n        // 板块、地铁站\r\n        $('.filter .district .child li').click(function(){\r\n            var $this = $(this);\r\n            $('.district-metro .child li').removeClass('active');\r\n            $this.addClass('active');\r\n            delete self.result.metro;\r\n            delete self.result.station;\r\n            self.result.district = $this.parent().data('value');\r\n            self.result.town = $this.data('value');\r\n            calcCondition.apply(self);\r\n            hide();\r\n            var str = \"\";\r\n            if(!self.result.town){// 不限\r\n                str = $this.parent().data('text');\r\n            } else {\r\n                str = $this.text();\r\n            }\r\n            self.$districtLabel.text(str).parent().addClass('active');\r\n        });\r\n        $('.filter .metro .child li').click(function(){\r\n            var $this = $(this);\r\n            $('.district-metro .child li').removeClass('active');\r\n            $this.addClass('active');\r\n            delete self.result.district;\r\n            delete self.result.town;\r\n            self.result.metro = $this.parent().data('value');\r\n            self.result.station = $this.data('value');\r\n            calcCondition.apply(self);\r\n            hide();\r\n            var str = \"\";\r\n            if(!self.result.station) {// 不限\r\n                str = $this.parent().data('text');\r\n            } else {\r\n                str = $this.text();\r\n            }\r\n            self.$districtLabel.text(str).parent().addClass('active');\r\n        });\r\n\r\n        // 点击遮罩关闭筛选条件\r\n        $('.content').click(function(event){\r\n            if(this == event.target) {\r\n                hide();\r\n            }\r\n        });\r\n    }\r\n\r\n    // 设置弹层的高度\r\n    function setMaxHeight(){\r\n        var winHeight = $(window).height();\r\n        this.$districtMetro.find('.parent,.child').css('max-height', winHeight * .7 + \"px\");\r\n        this.$price.find('ul').css('max-height', winHeight * .7 + \"px\");\r\n        this.$houseType.find('.house-type-inner').css('max-height', winHeight * .7 + \"px\");\r\n        this.$sort.css('max-height', winHeight * .7 + \"px\");\r\n        this.$content.height(winHeight);\r\n    }\r\n\r\n    function getDistrictAndMetro(houseType, cityId, cb){\r\n        initCount = 0;\r\n        // 查询区域板块\r\n        var self = this;\r\n        this.controller.request(this.controller.apiUrl.rent.list.cityAreas,{\r\n            houseType: this.options.houseType,\r\n            cityId: this.options.cityId\r\n        },{\r\n            successCallback: function(data){\r\n                self.options.districts = data.data;\r\n                init.apply(self);\r\n                console.log('area: success');\r\n            },\r\n            errorCallback: function(){\r\n                self.options.districts = [];\r\n                init.apply(self);\r\n                console.log('area: error');\r\n            },\r\n            exceptionCallback: function(){\r\n                self.options.districts = [];\r\n                init.apply(self);\r\n                console.log('area: exception');\r\n            }\r\n        });\r\n\r\n        // 查询地铁\r\n        this.controller.request(this.controller.apiUrl.rent.list.citySubway,{            \r\n            cityId: this.options.cityId\r\n        },{\r\n            successCallback: function(data){\r\n                self.options.metros = data.data;\r\n                init.apply(self);\r\n                console.log('subway: success');\r\n            },\r\n            errorCallback: function(){\r\n                self.options.metros = [];\r\n                init.apply(self);\r\n                console.log('subway: error');\r\n            },\r\n            exceptionCallback: function(){\r\n                self.options.metros = [];\r\n                init.apply(self);\r\n                console.log('subway: exception');\r\n            }\r\n        });\r\n    }\r\n\r\n    var initCount = 0;\r\n    function init(){\r\n        initCount++;\r\n        console.log(initCount);\r\n        if(initCount!=2){\r\n            return;\r\n        }\r\n        this.$el.html(create.apply(this));\r\n        this.$content = this.$el.find('.content');\r\n        this.$body = $('body');\r\n        // 筛选条中的内容\r\n        this.$districtLabel = this.$el.find('.filter-items li:eq(0) .label');\r\n        this.$priceLabel = this.$el.find('.filter-items li:eq(1) .label');\r\n        this.$houseTypeLabel = this.$el.find('.filter-items li:eq(2) .label');\r\n        this.$sortLabel = this.$el.find('.filter-items li:eq(3) .label');\r\n        // 各个筛选条件的内容\r\n        this.$districtMetro = this.$el.find('.district-metro');\r\n        this.$price = this.$el.find('.total-price');\r\n        this.$houseType = this.$el.find('.house-type');\r\n        this.$sort = this.$el.find('.sort');\r\n        // \r\n        this.$district = this.$districtMetro.find('.district');\r\n        this.$metro = this.$districtMetro.find('.metro');\r\n        this.$minPrice = this.$price.find('input:eq(0)');\r\n        this.$maxPrice = this.$price.find('input:eq(1)');\r\n        this.$priceConfirmBtn = this.$price.find('button');\r\n        this.$houseTypeResetBtn = this.$houseType.find('.reset');\r\n        this.$houseTypeConfirmBtn = this.$houseType.find('.confirm');\r\n\r\n        \r\n        this.result = {};\r\n        this.initValue = this.$el.data('init');\r\n        if(this.initValue){\r\n            this.initValue = JSON.parse(decodeURIComponent(this.initValue));\r\n        }\r\n        if(this.$el.length == 0) {\r\n            throw \"挂载点不存在\";\r\n        }\r\n        \r\n        this.setValue(this.initValue);\r\n        bindEvent.apply(this);\r\n        setMaxHeight.apply(this);\r\n    }\r\n\r\n    function Filter(options) {        \r\n        this.options = $.extend({},DEFAULT, options);  \r\n        //this.options = options;                      \r\n        this.$el = $(options.el);\r\n        this.controller = options.controller;        \r\n\r\n        getDistrictAndMetro.apply(this);\r\n\r\n\r\n        //init.apply(this);        \r\n    }\r\n\r\n    // 根据指定的值设置控件中各个筛选条件选中值\r\n    Filter.prototype.setValue = function(value){\r\n        /**\r\n         * {\r\n         *  district: \"\",\r\n         *  town: \"\",\r\n         *  metro: \"\",\r\n         *  station: \"\",\r\n         * \r\n         *  price: \"\",\r\n         *  houseTypes:{\r\n         *      key: []...\r\n         *  },\r\n         *  sort: \"\"\r\n         * }\r\n         */        \r\n        // 区域/地铁\r\n        var str = \"\";        \r\n        if(value.district != undefined || value.town != undefined){            \r\n            if(value.district != undefined) {\r\n                str = this.$district.find('.parent li[data-value='+value.district+']').addClass('active').text();\r\n                this.$district.find('.child ul[data-value='+value.district+']').show();\r\n                this.result.district = value.district;\r\n            }\r\n            if(value.town != undefined) {\r\n                str = this.$district.find('.child li[data-value='+value.town+']').addClass('active').text();\r\n                this.result.town = value.town;\r\n            }                    \r\n        } else if(value.metro != undefined || value.station != undefined){        \r\n            if(value.metro != undefined) {\r\n                str = this.$metro.find('.parent li[data-value='+value.metro+']').addClass('active').text();\r\n                this.$metro.find('.child ul[data-value='+value.metro+']').show();\r\n                this.result.metro = value.metro;\r\n            }\r\n            if(value.station != undefined) {\r\n                str = this.$metro.find('.child li[data-value='+value.station+']').addClass('active').text();\r\n                this.result.station = value.station;\r\n            }\r\n\r\n            $('.filter .district-metro >ul li').removeClass('active').filter(':eq(1)').addClass('active');\r\n                       \r\n            this.$district.hide();\r\n            this.$metro.show();\r\n        }\r\n        if(str){// 设置选中区域或地铁站到区域内容中\r\n            this.$districtLabel.text(str).parent().addClass('active');\r\n        }\r\n\r\n        // 总价\r\n        if(value.price) {\r\n            this.$price.find('li').removeClass('active');\r\n            var $pr = this.$price.find('[data-value='+value.price+']');\r\n            if($pr.length == 0){// 不是选项而是自定义价格\r\n                var strs = value.price.split('to');\r\n                var min = strs[0];\r\n                var max = strs[1];\r\n                this.$minPrice.val(min||\"\");\r\n                this.$maxPrice.val(max||\"\");\r\n                this.result.price = value.price;\r\n                if(!min){\r\n                    str = max + \"万以下\";\r\n                } else if(!min){\r\n                    str = min + \"万以上\";\r\n                } else {\r\n                    str = min + \"-\" + max + \"万\";\r\n                }\r\n            } else {// 选项                \r\n                $pr.addClass('active');\r\n                this.result.price = value.price;\r\n                str = $pr.text();\r\n            }\r\n            this.$priceLabel.text(str).parent().addClass('active');\r\n        }\r\n\r\n        // 户型\r\n        if(value.houseTypes){\r\n            for(var key in value.houseTypes) {\r\n                for(var i = 0; i < value.houseTypes[key].length; i++){\r\n                    this.$houseType.find('[data-key='+key+'] [data-value='+value.houseTypes[key][i]+']').addClass('active');\r\n                }                \r\n            }\r\n\r\n            this.$houseTypeLabel.parent().addClass('active');\r\n        }\r\n\r\n        // 排序\r\n        if(value.sort){            \r\n            var str = this.$sort.find('li[data-value='+value.sort+']').addClass('active').text();\r\n            if(str){\r\n                this.$sortLabel.text(str).parent().addClass('active');\r\n            }\r\n            this.result.sort = value.sort;\r\n        }\r\n    }\r\n\r\n    return Filter;\r\n});"]}