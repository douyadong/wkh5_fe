{"version":3,"sources":["xf/ads.min.js"],"names":["XfAds","consts","$","require","pictAds","Swiper","autoplay","pagination","paginationClickable","textAds","direction","length","hide","evaluateAdsStatus","$adsContainer","slideDown","duration","$conningTower","css","$xfItemsContainer","animate","paddingTop","slideUp","window","scrollTop","st","is","open","close","condition","val","on","swapAdsWithScrollTop","document","ready"],"mappings":";;;;;;AAAA;;;;;IAKOA,K;AACH,qBAAc;AAAA;;AACV;;;AAGA,aAAKC,MAAL,GAAc;AACV,6BAAkBC,EAAE,SAAF,CADR;AAEV,iCAAsBA,EAAE,YAAF,CAFZ;AAGV,6BAAkBA,EAAE,gBAAF,CAHR;AAIV,wBAAa;AAJH,SAAd;AAMA;;;AAGAC,gBAAQ,CAAC,uCAAD,CAAR,EAAoD,YAAM;AACtD,gBAAIC,UAAU,IAAIC,MAAJ,CAAY,mBAAZ,EAAkC;AAC5CC,0BAAW,IADiC;AAE5CC,4BAAa,oBAF+B;AAG5CC,qCAAsB;AAHsB,aAAlC,CAAd;AAKA,gBAAIC,UAAU,IAAIJ,MAAJ,CAAY,0BAAZ,EAAyC;AACnDC,0BAAW,IADwC;AAEnDI,2BAAY;AAFuC,aAAzC,CAAd;AAIH,SAVD;AAWA;;;AAGA,YAAIR,EAAE,iDAAF,EAAqDS,MAArD,IAA+D,CAAnE,EAAuET,EAAE,sCAAF,EAA0CU,IAA1C;AACvE;;;AAGA,aAAKC,iBAAL;AACH;AACD;;;;;;;+BAGO;AACH,iBAAKZ,MAAL,CAAYa,aAAZ,CAA0BC,SAA1B,CAAoC,KAAKd,MAAL,CAAYe,QAAhD;AACA,iBAAKf,MAAL,CAAYgB,aAAZ,CAA0BC,GAA1B,CAA8B,EAAE,kBAAmB,MAArB,EAA9B;AACA,iBAAKjB,MAAL,CAAYkB,iBAAZ,CAA8BC,OAA9B,CAAuC,EAAEC,YAAa,OAAf,EAAvC,EAAkE,KAAKpB,MAAL,CAAYe,QAA9E;AACH;AACD;;;;;;gCAGQ;AACJ,iBAAKf,MAAL,CAAYa,aAAZ,CAA0BQ,OAA1B,CAAkC,KAAKrB,MAAL,CAAYe,QAA9C;AACA,iBAAKf,MAAL,CAAYgB,aAAZ,CAA0BC,GAA1B,CAA8B,EAAE,kBAAmB,CAArB,EAA9B;AACA,iBAAKjB,MAAL,CAAYkB,iBAAZ,CAA8BC,OAA9B,CAAuC,EAAEC,YAAe,KAAKnB,EAAEqB,MAAF,EAAUC,SAAV,EAAP,GAAgC,IAA/C,EAAvC,EAA+F,KAAKvB,MAAL,CAAYe,QAA3G;AACH;AACD;;;;;;+CAGuB;AACnB,gBAAIS,KAAKvB,EAAEqB,MAAF,EAAUC,SAAV,EAAT;AACA,gBAAIC,MAAM,EAAN,IAAY,CAAE,KAAKxB,MAAL,CAAYa,aAAZ,CAA0BY,EAA1B,CAA6B,UAA7B,CAAlB,EAA4D,KAAKC,IAAL,GAA5D,KACK,IAAGF,KAAK,EAAL,IAAW,KAAKxB,MAAL,CAAYa,aAAZ,CAA0BY,EAA1B,CAA6B,UAA7B,CAAd,EAAwD,KAAKE,KAAL;AAChE;;AAED;;;;;;;;4CAKoB;AAAA;;AAChB,gBAAIC,YAAY3B,EAAE,wBAAF,EAA4B4B,GAA5B,EAAhB;AACA,gBAAGD,SAAH,EAAc;AACd3B,cAAEqB,MAAF,EAAUQ,EAAV,CAAa,QAAb,EAAwB,YAAM;AAC1B,sBAAKC,oBAAL;AACH,aAFD;AAGA,iBAAKA,oBAAL;AACH;;;;;;AAIL;;;;;AAGA9B,EAAE+B,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AAC1B,QAAIlC,KAAJ;AACF,CAFD","file":"ads.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：xf/ads(新房-广告)\n 3. 作者：zhaohuagang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n class XfAds  {\n    constructor() {        \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        定义常量\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.consts = {\n            \"$adsContainer\" : $(\".xf-ads\") ,\n            \"$xfItemsContainer\" : $(\".container\") ,\n            \"$conningTower\" : $(\".conning-tower\") ,\n            \"duration\" : 100\n        } ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        实例化swiper\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        require([\"../components/swiper-3.4.2.jquery.min\"] , () => {            \n            let pictAds = new Swiper( \".xf-ads .pict-ads\" , {\n                autoplay : 4000 ,\n                pagination : \".swiper-pagination\" ,\n                paginationClickable : true\n            }) ;\n            let textAds = new Swiper( \".xf-ads .text-ads .items\" , {\n                autoplay : 3000 ,\n                direction : \"vertical\"\n            }) ;\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        图片广告如果只有一个，就不显示圆点导航\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if( $(\".xf-ads .pict-ads .swiper-wrapper .swiper-slide\").length <= 1 ) $(\".xf-ads .pict-ads .swiper-pagination\").hide() ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        根据隐藏域routerConditionParams是否有值来决定广告的显示隐藏\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.evaluateAdsStatus() ;\n    }  \n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    展示广告\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    open() {\n        this.consts.$adsContainer.slideDown(this.consts.duration) ;\n        this.consts.$conningTower.css({ \"padding-bottom\" : \"10px\" }) ;\n        this.consts.$xfItemsContainer.animate( { paddingTop : \"313px\" } , this.consts.duration ) ;\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    关闭广告\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    close() {\n        this.consts.$adsContainer.slideUp(this.consts.duration) ;\n        this.consts.$conningTower.css({ \"padding-bottom\" : 0 }) ;\n        this.consts.$xfItemsContainer.animate( { paddingTop : ( 97 + $(window).scrollTop() ) +\"px\" } , this.consts.duration ) ;\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    根据滚动条位置决定广告是打开\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    swapAdsWithScrollTop() {\n        let st = $(window).scrollTop() ;\n        if( st <= 50 && ! this.consts.$adsContainer.is(\":visible\")) this.open() ;\n        else if(st > 50 && this.consts.$adsContainer.is(\":visible\")) this.close() ;\n    }\n\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    根据隐藏域routerConditionParams是否有值来决定广告的显示隐藏\n    1. 如果有值是肯定不显示\n    2. 如果没值就看滚动条位置并给window绑定scroll，还要给筛选区域绑定click\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    evaluateAdsStatus() {\n        let condition = $(\"#routerConditionParams\").val() ;\n        if(condition) return ;\n        $(window).on(\"scroll\" , () => {\n            this.swapAdsWithScrollTop() ;            \n        }) ;       \n        this.swapAdsWithScrollTop() ;       \n    }\n    \n}\n\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n   new XfAds ;\n}) ;\n"]}