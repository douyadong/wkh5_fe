{"version":3,"sources":["xf/ads.min.js"],"names":["XfAds","consts","$","require","pictAds","Swiper","autoplay","pagination","paginationClickable","textAds","direction","length","hide","evaluateAdsStatus","$adsContainer","css","$conningTower","$xfItemsContainer","slideUp","duration","animate","paddingTop","window","scrollTop","st","is","open","close","condition","val","on","swapAdsWithScrollTop","define"],"mappings":";;;;;;AAAA;;;;;IAKOA,K;AACH,qBAAc;AAAA;;AACV;;;AAGA,aAAKC,MAAL,GAAc;AACV,6BAAkBC,EAAE,SAAF,CADR;AAEV,iCAAsBA,EAAE,YAAF,CAFZ;AAGV,6BAAkBA,EAAE,gBAAF,CAHR;AAIV,wBAAa;AAJH,SAAd;AAMA;;;AAGAC,gBAAQ,CAAC,uCAAD,CAAR,EAAoD,YAAM;AACtD,gBAAIC,UAAU,IAAIC,MAAJ,CAAY,mBAAZ,EAAkC;AAC5CC,0BAAW,IADiC;AAE5CC,4BAAa,oBAF+B;AAG5CC,qCAAsB;AAHsB,aAAlC,CAAd;AAKA,gBAAIC,UAAU,IAAIJ,MAAJ,CAAY,0BAAZ,EAAyC;AACnDC,0BAAW,IADwC;AAEnDI,2BAAY;AAFuC,aAAzC,CAAd;AAIH,SAVD;AAWA;;;AAGA,YAAIR,EAAE,iDAAF,EAAqDS,MAArD,IAA+D,CAAnE,EAAuET,EAAE,sCAAF,EAA0CU,IAA1C;AACvE;;;AAGA,aAAKC,iBAAL;AACH;AACD;;;;;;;+BAGO;AACH;AACA;AACA;AACA,iBAAKZ,MAAL,CAAYa,aAAZ,CAA0BC,GAA1B,CAA8B,SAA9B,EAAwC,OAAxC;AACA,iBAAKd,MAAL,CAAYe,aAAZ,CAA0BD,GAA1B,CAA8B,EAAE,kBAAmB,MAArB,EAA9B;AACA,iBAAKd,MAAL,CAAYgB,iBAAZ,CAA8BF,GAA9B,CAAmC,EAAE,eAAgB,OAAlB,EAAnC;AACH;AACD;;;;;;gCAGQ;AACJ,iBAAKd,MAAL,CAAYa,aAAZ,CAA0BI,OAA1B,CAAkC,KAAKjB,MAAL,CAAYkB,QAA9C;AACA,iBAAKlB,MAAL,CAAYe,aAAZ,CAA0BD,GAA1B,CAA8B,EAAE,kBAAmB,CAArB,EAA9B;AACA,iBAAKd,MAAL,CAAYgB,iBAAZ,CAA8BG,OAA9B,CAAuC,EAAEC,YAAe,KAAKnB,EAAEoB,MAAF,EAAUC,SAAV,EAAP,GAAgC,IAA/C,EAAvC,EAA+F,KAAKtB,MAAL,CAAYkB,QAA3G;AACH;AACD;;;;;;+CAGuB;AACnB,gBAAIK,KAAKtB,EAAEoB,MAAF,EAAUC,SAAV,EAAT;AACA,gBAAIC,MAAM,EAAN,IAAY,CAAE,KAAKvB,MAAL,CAAYa,aAAZ,CAA0BW,EAA1B,CAA6B,UAA7B,CAAlB,EAA4D,KAAKC,IAAL,GAA5D,KACK,IAAGF,KAAK,EAAL,IAAW,KAAKvB,MAAL,CAAYa,aAAZ,CAA0BW,EAA1B,CAA6B,UAA7B,CAAd,EAAwD,KAAKE,KAAL;AAChE;;AAED;;;;;;;;4CAKoB;AAAA;;AAChB,gBAAIC,YAAY1B,EAAE,wBAAF,EAA4B2B,GAA5B,EAAhB;AACA,gBAAGD,SAAH,EAAc;AACd1B,cAAEoB,MAAF,EAAUQ,EAAV,CAAa,QAAb,EAAwB,YAAM;AAC1B,sBAAKC,oBAAL;AACH,aAFD;AAGA,iBAAKA,oBAAL;AACH;;;;;;AAILC,OAAO,EAAP,EAAY,YAAU;AACjB,WAAOhC,KAAP;AACH,CAFF","file":"ads.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：xf/ads(新房-广告)\r\n 3. 作者：zhaohuagang@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n class XfAds  {\r\n    constructor() {        \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        定义常量\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.consts = {\r\n            \"$adsContainer\" : $(\".xf-ads\") ,\r\n            \"$xfItemsContainer\" : $(\".container\") ,\r\n            \"$conningTower\" : $(\".conning-tower\") ,\r\n            \"duration\" : 100\r\n        } ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        实例化swiper\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        require([\"../components/swiper-3.4.2.jquery.min\"] , () => {            \r\n            let pictAds = new Swiper( \".xf-ads .pict-ads\" , {\r\n                autoplay : 4000 ,\r\n                pagination : \".swiper-pagination\" ,\r\n                paginationClickable : true\r\n            }) ;\r\n            let textAds = new Swiper( \".xf-ads .text-ads .items\" , {\r\n                autoplay : 3000 ,\r\n                direction : \"vertical\"\r\n            }) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        图片广告如果只有一个，就不显示圆点导航\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        if( $(\".xf-ads .pict-ads .swiper-wrapper .swiper-slide\").length <= 1 ) $(\".xf-ads .pict-ads .swiper-pagination\").hide() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        根据隐藏域routerConditionParams是否有值来决定广告的显示隐藏\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.evaluateAdsStatus() ;\r\n    }  \r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    展示广告\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    open() {\r\n        // this.consts.$adsContainer.slideDown(this.consts.duration) ;\r\n        // this.consts.$conningTower.css({ \"padding-bottom\" : \"10px\" }) ;\r\n        // this.consts.$xfItemsContainer.animate( { paddingTop : \"313px\" } , this.consts.duration ) ;\r\n        this.consts.$adsContainer.css('display','block');\r\n        this.consts.$conningTower.css({ \"padding-bottom\" : \"10px\" }) ;\r\n        this.consts.$xfItemsContainer.css( { \"padding-top\" : \"313px\" }) ;\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    关闭广告\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    close() {\r\n        this.consts.$adsContainer.slideUp(this.consts.duration) ;\r\n        this.consts.$conningTower.css({ \"padding-bottom\" : 0 }) ;\r\n        this.consts.$xfItemsContainer.animate( { paddingTop : ( 97 + $(window).scrollTop() ) +\"px\" } , this.consts.duration ) ;\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    根据滚动条位置决定广告是打开\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    swapAdsWithScrollTop() {\r\n        let st = $(window).scrollTop() ;\r\n        if( st <= 50 && ! this.consts.$adsContainer.is(\":visible\")) this.open() ;\r\n        else if(st > 50 && this.consts.$adsContainer.is(\":visible\")) this.close() ;\r\n    }\r\n\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    根据隐藏域routerConditionParams是否有值来决定广告的显示隐藏\r\n    1. 如果有值是肯定不显示\r\n    2. 如果没值就看滚动条位置并给window绑定scroll，还要给筛选区域绑定click\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    evaluateAdsStatus() {\r\n        let condition = $(\"#routerConditionParams\").val() ;\r\n        if(condition) return ;\r\n        $(window).on(\"scroll\" , () => {\r\n            this.swapAdsWithScrollTop() ;            \r\n        }) ;       \r\n        this.swapAdsWithScrollTop() ;       \r\n    }\r\n    \r\n}\r\n\r\ndefine([] , function(){\r\n     return XfAds ;\r\n }) ;"]}