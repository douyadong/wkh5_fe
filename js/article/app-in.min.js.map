{"version":3,"sources":["article/app-in.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-in.min.js","sourcesContent":["// /*-----------------------------------------------------------------------------------------------------------\n// 1.项目名称：悟空找房H5\n// 2.页面名称：发现详情信息(discoveryDetails.php)\n// 3.作者名称：luwei@lifang.com\n// -----------------------------------------------------------------------------------------------------------*/\n// define([\n//     'jQuery',\n//     'lib/ui/class',\n//     'service/discovery/operation',\n//     'pullload',\n//     'wechatAudio'], function ($, Class, Operation) {\n//     var subclass = {\n//       setOptions: function (opts) {\n//         var defaults = {\n//           listUrl: '/article/queryArticleCommentList.rest',\n//           container: $('.comment-list')\n//         }\n//         $.extend(true, this.options = {}, defaults, opts)\n//       }\n//     }\n//     var parentclass = {\n//       init: function (opts) {\n//         // 设置参数\n//         this.setOptions(opts)\n//         this.setArticleFont()\n//         // 初始化操作\n//         this.Operation = Operation\n//         this.articleId = $.trim($('#articleId').val())\n//         // 初始化评论列表\n//         this.getList()\n//         this.convertVideo()\n  \n//         // 注册一个全局函数，解决android webview 中音频播放，app切换出去，音频仍在播放的问题\n//         window.pauseAudio = function () {\n//           $('audio').each(function (i, el) {\n//             el.pause()\n//           })\n//           $('.audio_area').removeClass('playing')\n//         }\n  \n//         if (location.href.indexOf('#') > 0) {\n//           if (location.href.slice(location.href.lastIndexOf('#')) == '#comment-box') {\n//             clearTimeout(st)\n//             var st = setTimeout(function () {\n//               $('html,body').scrollTop($('#comment-box').offset().top - 200)\n//             }, 300)\n//           }else{\n//           }\n//         }else{\n//         }\n//       },\n//       initPullload: function () {\n//         var classSelf = this\n  \n//         classSelf.options.container.pullload({\n//           apiUrl: classSelf.options.listUrl + '?articleId=' + classSelf.articleId + '&pageSize=10',\n//           threshold: 0,\n//           callback: function (resp) {\n//             if (resp.data && resp.data.length) {\n//               classSelf.createCommentList(resp)\n//             }\n//           },\n//           requestLoadedKey: 'pageIndex',\n//           isShowLoadingTips: false\n//         })\n//       },\n//       convertVideo: function () {\n//         var videos = $('.article-content').find('embed')\n//         if (!videos || !videos.length) return false\n//         $.each(videos, function (index, item) {\n//           var $item = $(item)\n//           var coverUrl = $.trim($('#coverUrl').val())\n//           var $video, audio\n//           var src = $item.attr('src')\n//           var split = src && src.split('.')\n//           var type = split[split.length - 1]\n//           if (type.toLowerCase() === 'mp3') {\n//             audio = '<p class=\"weixinAudio\">'\n//             audio += '<audio src=\"' + src + '\" id=\"media\" width=\"1\" height=\"1\" preload=\"auto\"></audio>'\n//             audio += '<span id=\"audio_area\" class=\"db audio_area\">'\n//             audio += '<span class=\"audio_arrow_back\"></span>'\n//             audio += '<span class=\"audio_arrow\"></span>'\n//             audio += '<span class=\"audio_wrp db\">'\n//             audio += '<span class=\"audio_play_area\">'\n//             audio += '<i class=\"icon_audio_default\"></i>'\n//             audio += '<i class=\"icon_audio_playing\"></i>'\n//             audio += '</span>'\n//             audio += '<span id=\"audio_progress\" class=\"progress_bar\"></span>'\n//             audio += '</span>'\n//             audio += '</span>'\n//             audio += '<span id=\"audio_length\" class=\"audio_length tips_global\"></span>'\n//             audio += '</p>'\n//             $item.after($(audio))\n//             $item.remove()\n//           } else {\n//             $video = $('<video src=\"' + $item.attr('src') + '\" controls=\"controls\">您的浏览器不支持 video 标签。</video>')\n//             $video.attr({poster: coverUrl, preload: 'auto'})\n//             $item.attr({'type': '', 'width': '100%', 'height': '100%'})\n//             $item.after($video)\n//             $item.remove()\n//           }\n//           $('.weixinAudio').wechatAudio({\n//             autoplay: false\n//           })\n//         })\n//       },\n//       getList: function () {\n//         var classSelf = this\n//         var requestData = {\n//           articleId: classSelf.articleId,\n//           pageSize: 10,\n//           pageIndex: 0\n//         }\n  \n//         $.ajax({\n//           type: 'get',\n//           url: '//' + window.location.host + classSelf.options.listUrl,\n//           dataType: 'json',\n//           data: requestData,\n//           success: function (resp) {\n//             if (resp != null) {\n//               if (resp.data && resp.data.length) {\n//                 classSelf.createCommentList(resp)\n//                 classSelf.initPullload()\n//               }\n//             } else {\n//               console.error('response data is null')\n//             }\n//           },\n//           error: function (xhr, type) {\n//             console.log('ajax error')\n//           }\n//         })\n//       },\n//       setArticleFont: function () {\n//         var isIPhone = window.navigator.appVersion.match(/iphone/gi)\n//         if (isIPhone) {\n//           var dpr = parseInt($('[data-dpr]').attr('data-dpr')) || 1\n//           $('.article-content').find('[style*=font-size]').each(function(index, ele) {\n//             $(ele).css('font-size',$(ele)[0].style.fontSize.replace('px','') * dpr + 'px');\n//             //$(ele).css('font-size', $(ele).css('font-size').replace('px', '') * dpr + 'px')\n//           })\n//         }\n//         $('.article-content').show()\n//       },\n//       createCommentList: function (result) {\n//         var html = []\n//         if (!result.data || !result.data.length) return false\n//         $.each(result.data, function (index, item) {\n//           html.push('<div class=\"item\">')\n//           html.push('<div class=\"commenter pb-10\">')\n//           html.push('<img src=\"' + item.guestPhoto + '\" alt=\"\">')\n//           html.push('<span class=\"name\">' + (item.guestNickname ? item.guestNickname.replace(':', '') : '') + '</span>')\n//           html.push('</div>')\n//           html.push('<div class=\"content pb-10\">' + item.commentContent + '</div>')\n//           html.push('<div class=\"datetime\">')\n//           html.push('<span class=\"date\">' + item.date + '</span>')\n//           html.push('<span class=\"time\">' + item.time + '</span>')\n//           html.push('</div>')\n//           html.push('</div>')\n//         })\n//         $('.comment-list').append(html.join(''))\n//       }\n//     }\n//     var details = Class.create(\n//       subclass,\n//       parentclass\n//     )\n//     return details\n//   })\n  "]}