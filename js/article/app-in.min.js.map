{"version":3,"sources":["article/app-in.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-in.min.js","sourcesContent":["// /*-----------------------------------------------------------------------------------------------------------\r\n// 1.项目名称：悟空找房H5\r\n// 2.页面名称：发现详情信息(discoveryDetails.php)\r\n// 3.作者名称：luwei@lifang.com\r\n// -----------------------------------------------------------------------------------------------------------*/\r\n// define([\r\n//     'jQuery',\r\n//     'lib/ui/class',\r\n//     'service/discovery/operation',\r\n//     'pullload',\r\n//     'wechatAudio'], function ($, Class, Operation) {\r\n//     var subclass = {\r\n//       setOptions: function (opts) {\r\n//         var defaults = {\r\n//           listUrl: '/article/queryArticleCommentList.rest',\r\n//           container: $('.comment-list')\r\n//         }\r\n//         $.extend(true, this.options = {}, defaults, opts)\r\n//       }\r\n//     }\r\n//     var parentclass = {\r\n//       init: function (opts) {\r\n//         // 设置参数\r\n//         this.setOptions(opts)\r\n//         this.setArticleFont()\r\n//         // 初始化操作\r\n//         this.Operation = Operation\r\n//         this.articleId = $.trim($('#articleId').val())\r\n//         // 初始化评论列表\r\n//         this.getList()\r\n//         this.convertVideo()\r\n  \r\n//         // 注册一个全局函数，解决android webview 中音频播放，app切换出去，音频仍在播放的问题\r\n//         window.pauseAudio = function () {\r\n//           $('audio').each(function (i, el) {\r\n//             el.pause()\r\n//           })\r\n//           $('.audio_area').removeClass('playing')\r\n//         }\r\n  \r\n//         if (location.href.indexOf('#') > 0) {\r\n//           if (location.href.slice(location.href.lastIndexOf('#')) == '#comment-box') {\r\n//             clearTimeout(st)\r\n//             var st = setTimeout(function () {\r\n//               $('html,body').scrollTop($('#comment-box').offset().top - 200)\r\n//             }, 300)\r\n//           }else{\r\n//           }\r\n//         }else{\r\n//         }\r\n//       },\r\n//       initPullload: function () {\r\n//         var classSelf = this\r\n  \r\n//         classSelf.options.container.pullload({\r\n//           apiUrl: classSelf.options.listUrl + '?articleId=' + classSelf.articleId + '&pageSize=10',\r\n//           threshold: 0,\r\n//           callback: function (resp) {\r\n//             if (resp.data && resp.data.length) {\r\n//               classSelf.createCommentList(resp)\r\n//             }\r\n//           },\r\n//           requestLoadedKey: 'pageIndex',\r\n//           isShowLoadingTips: false\r\n//         })\r\n//       },\r\n//       convertVideo: function () {\r\n//         var videos = $('.article-content').find('embed')\r\n//         if (!videos || !videos.length) return false\r\n//         $.each(videos, function (index, item) {\r\n//           var $item = $(item)\r\n//           var coverUrl = $.trim($('#coverUrl').val())\r\n//           var $video, audio\r\n//           var src = $item.attr('src')\r\n//           var split = src && src.split('.')\r\n//           var type = split[split.length - 1]\r\n//           if (type.toLowerCase() === 'mp3') {\r\n//             audio = '<p class=\"weixinAudio\">'\r\n//             audio += '<audio src=\"' + src + '\" id=\"media\" width=\"1\" height=\"1\" preload=\"auto\"></audio>'\r\n//             audio += '<span id=\"audio_area\" class=\"db audio_area\">'\r\n//             audio += '<span class=\"audio_arrow_back\"></span>'\r\n//             audio += '<span class=\"audio_arrow\"></span>'\r\n//             audio += '<span class=\"audio_wrp db\">'\r\n//             audio += '<span class=\"audio_play_area\">'\r\n//             audio += '<i class=\"icon_audio_default\"></i>'\r\n//             audio += '<i class=\"icon_audio_playing\"></i>'\r\n//             audio += '</span>'\r\n//             audio += '<span id=\"audio_progress\" class=\"progress_bar\"></span>'\r\n//             audio += '</span>'\r\n//             audio += '</span>'\r\n//             audio += '<span id=\"audio_length\" class=\"audio_length tips_global\"></span>'\r\n//             audio += '</p>'\r\n//             $item.after($(audio))\r\n//             $item.remove()\r\n//           } else {\r\n//             $video = $('<video src=\"' + $item.attr('src') + '\" controls=\"controls\">您的浏览器不支持 video 标签。</video>')\r\n//             $video.attr({poster: coverUrl, preload: 'auto'})\r\n//             $item.attr({'type': '', 'width': '100%', 'height': '100%'})\r\n//             $item.after($video)\r\n//             $item.remove()\r\n//           }\r\n//           $('.weixinAudio').wechatAudio({\r\n//             autoplay: false\r\n//           })\r\n//         })\r\n//       },\r\n//       getList: function () {\r\n//         var classSelf = this\r\n//         var requestData = {\r\n//           articleId: classSelf.articleId,\r\n//           pageSize: 10,\r\n//           pageIndex: 0\r\n//         }\r\n  \r\n//         $.ajax({\r\n//           type: 'get',\r\n//           url: '//' + window.location.host + classSelf.options.listUrl,\r\n//           dataType: 'json',\r\n//           data: requestData,\r\n//           success: function (resp) {\r\n//             if (resp != null) {\r\n//               if (resp.data && resp.data.length) {\r\n//                 classSelf.createCommentList(resp)\r\n//                 classSelf.initPullload()\r\n//               }\r\n//             } else {\r\n//               console.error('response data is null')\r\n//             }\r\n//           },\r\n//           error: function (xhr, type) {\r\n//             console.log('ajax error')\r\n//           }\r\n//         })\r\n//       },\r\n//       setArticleFont: function () {\r\n//         var isIPhone = window.navigator.appVersion.match(/iphone/gi)\r\n//         if (isIPhone) {\r\n//           var dpr = parseInt($('[data-dpr]').attr('data-dpr')) || 1\r\n//           $('.article-content').find('[style*=font-size]').each(function(index, ele) {\r\n//             $(ele).css('font-size',$(ele)[0].style.fontSize.replace('px','') * dpr + 'px');\r\n//             //$(ele).css('font-size', $(ele).css('font-size').replace('px', '') * dpr + 'px')\r\n//           })\r\n//         }\r\n//         $('.article-content').show()\r\n//       },\r\n//       createCommentList: function (result) {\r\n//         var html = []\r\n//         if (!result.data || !result.data.length) return false\r\n//         $.each(result.data, function (index, item) {\r\n//           html.push('<div class=\"item\">')\r\n//           html.push('<div class=\"commenter pb-10\">')\r\n//           html.push('<img src=\"' + item.guestPhoto + '\" alt=\"\">')\r\n//           html.push('<span class=\"name\">' + (item.guestNickname ? item.guestNickname.replace(':', '') : '') + '</span>')\r\n//           html.push('</div>')\r\n//           html.push('<div class=\"content pb-10\">' + item.commentContent + '</div>')\r\n//           html.push('<div class=\"datetime\">')\r\n//           html.push('<span class=\"date\">' + item.date + '</span>')\r\n//           html.push('<span class=\"time\">' + item.time + '</span>')\r\n//           html.push('</div>')\r\n//           html.push('</div>')\r\n//         })\r\n//         $('.comment-list').append(html.join(''))\r\n//       }\r\n//     }\r\n//     var details = Class.create(\r\n//       subclass,\r\n//       parentclass\r\n//     )\r\n//     return details\r\n//   })\r\n  "]}