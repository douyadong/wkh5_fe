{"version":3,"sources":["rent/detail.min.js"],"names":["DetailController","self","require","assistant","album","BigData","PreviewImage","init","bigData","pageName","pageParam","rent_house_id","$","val","type","click","css","$externalSellPoint","length","lineNum","parseInt","after","remove","Controller","document","ready"],"mappings":";;;;;;;;AAAA;;;;;IAKMA,gB;;;AACF,gCAAc;AAAA;;AAGV;;;AAHU;;AAMV,YAAIC,YAAJ;AACAC,gBAAQ,CAAC,6BAAD,EAA+B,yBAA/B,EAAyD,2BAAzD,EAAsF,iCAAtF,CAAR,EAAiI,UAASC,SAAT,EAAmBC,KAAnB,EAA0BC,OAA1B,EAAmCC,YAAnC,EAAgD;AAC7KD,oBAAQE,IAAR,CAAaN,IAAb;;AAEAI,oBAAQG,OAAR,CAAgB;AACZC,0BAAU,MADE;AAEZC,2BAAW;AACPC,mCAAeC,EAAE,UAAF,EAAcC,GAAd;AADR,iBAFC;AAKZC,sBAAM;AALM,aAAhB;;AAQA;AACAR,yBAAa,gBAAb;AACH,SAbD;AAcA;;;AAGAM,UAAE,4BAAF,EAAgCG,KAAhC,CAAsC,YAAU;AAC5CH,cAAE,kBAAF,EAAsBI,GAAtB,CAA0B,EAAE,kBAAmB,CAArB,EAA1B;AACH,SAFD;;AAIA;AACA,YAAIC,qBAAqBL,EAAE,qBAAF,CAAzB;AACA,YAAGK,mBAAmBC,MAAnB,GAA0B,CAA7B,EAA+B;AAC3B,gBAAIC,UAAUC,SAASH,mBAAmBD,GAAnB,CAAuB,QAAvB,CAAT,IAA6CI,SAASH,mBAAmBD,GAAnB,CAAuB,aAAvB,CAAT,CAA3D;AACA,gBAAGG,UAAU,CAAb,EAAe;AAAC;AACZF,mCAAmBD,GAAnB,CAAuB,YAAvB,EAAoCI,SAASH,mBAAmBD,GAAnB,CAAuB,aAAvB,CAAT,IAAgD,CAAhD,GAAoD,IAAxF;AACAC,mCAAmBI,KAAnB,CAAyBT,EAAE,8BAAF,EAAkCG,KAAlC,CAAwC,YAAU;AACvEE,uCAAmBD,GAAnB,CAAuB,YAAvB,EAAoC,MAApC;AACAJ,sBAAE,IAAF,EAAQU,MAAR;AACH,iBAHwB,CAAzB;AAIH;AACJ;AAvCS;AAwCb;;;EAzC0BC,U;;AA4C/B;;;;;AAGAX,EAAEY,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AAC1B,QAAIzB,gBAAJ;AACF,CAFD","file":"detail.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：rent/detail(租房-详情)\r\n 3. 作者：tangxuyang@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass DetailController extends Controller {\r\n    constructor() {\r\n        super(); \r\n        \r\n        /*\r\n            使用requirejs引入组件\r\n        */        \r\n        let self = this;\r\n        require(['../components/assistant.min','../components/album.min','../components/bigdata.min', '../components/preview-image.min'],function(assistant,album, BigData, PreviewImage){        \r\n            BigData.init(self);\r\n\r\n            BigData.bigData({\r\n                pageName: '1204',\r\n                pageParam: {\r\n                    rent_house_id: $('#houseId').val()\r\n                },\r\n                type: 1\r\n            });\r\n\r\n            //评论中图片添加预览功能\r\n            PreviewImage('.rent-comments');\r\n        }); \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        下载条的关闭按钮事件赋予\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(\".download-app .icon-remove\").click(function(){\r\n            $(\".content-wrapper\").css({ \"padding-bottom\" : 0 }) ;\r\n        }) ;\r\n\r\n        //外来房源基本信息\r\n        var $externalSellPoint = $('.external-sellpoint');\r\n        if($externalSellPoint.length>0){\r\n            let lineNum = parseInt($externalSellPoint.css('height')) / parseInt($externalSellPoint.css('line-height'));\r\n            if(lineNum > 5){//超过五行了\r\n                $externalSellPoint.css('max-height',parseInt($externalSellPoint.css('line-height'))*5 + 'px');\r\n                $externalSellPoint.after($('<div class=\"more\">查看更多</div>').click(function(){\r\n                    $externalSellPoint.css('max-height','100%');\r\n                    $(this).remove();\r\n                }));\r\n            }\r\n        }\r\n    };   \r\n}\r\n\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n   new DetailController;\r\n});\r\n"]}