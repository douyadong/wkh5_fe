{"version":3,"sources":["rent/detail.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","DetailController","_Controller","this","_this","getPrototypeOf","$","lazyload","placeholder","staticDomain","addListenerToDownloadApp","addListenerToAssistant","require","album","BigData","PreviewImage","init","bigData","pageName","pageParam","rent_house_id","val","type","click","css","padding-bottom","$externalSellPoint","length","lineNum","parseInt","after","remove","Controller","document","ready"],"mappings":"AAAA,YAEA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,4BAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,WAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAOje,GARMW,kBAQiB,SAAUC,GAP7B,QAAAD,KAAcrB,gBAAAuB,KAAAF,EAAA,IAAAG,GAAApB,2BAAAmB,MAAAF,EAAAD,WAAAR,OAAAa,eAAAJ,IAAAf,KAAAiB,MAKVG,GAAE,SAASC,UACPC,YAAgBJ,EAAKK,aAAe,uCAKxCL,EAAKM,2BAILN,EAAKO,wBAIL,IAAI1B,GAAAA,CACJ2B,UAAU,0BAA0B,4BAA6B,mCAAmC,SAASC,EAAOC,EAASC,GACzHD,EAAQE,KAAK/B,GAEb6B,EAAQG,SACJC,SAAU,OACVC,WACIC,cAAed,EAAE,YAAYe,OAEjCC,KAAM,IAIVP,EAAa,oBAKjBT,EAAE,8BAA8BiB,MAAM,WAClCjB,EAAE,oBAAoBkB,KAAMC,iBAAmB,KAInD,IAAIC,GAAqBpB,EAAE,sBAC3B,IAAGoB,EAAmBC,OAAO,EAAE,CAC3B,GAAIC,GAAUC,SAASH,EAAmBF,IAAI,WAAaK,SAASH,EAAmBF,IAAI,eACxFI,GAAU,IACTF,EAAmBF,IAAI,aAA6D,EAAhDK,SAASH,EAAmBF,IAAI,gBAAoB,MACxFE,EAAmBI,MAAMxB,EAAE,gCAAgCiB,MAAM,WAC7DG,EAAmBF,IAAI,aAAa,QACpClB,EAAEH,MAAM4B,aAjDV,MAAA3B,GAsEd,MA9DAhB,WAAUa,EAAkBC,GA8DrBD,GAvEoB+B,WA4D/B1B,GAAE2B,UAAUC,MAAM,WACf,GAAIjC","file":"detail.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：rent/detail(租房-详情)\n 3. 作者：tangxuyang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\nclass DetailController extends Controller {\n    constructor() {\n        super() ;        \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        图片懒加载实例化\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/        \n        $(\".lazy\").lazyload({ \n            \"placeholder\" : this.staticDomain + \"/wkh5_fe/images/common/loading.jpg\"\n        }) ;  \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        downloadApp条事件绑定\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.addListenerToDownloadApp() ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        底部经纪人助手条处理\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.addListenerToAssistant() ;     \n        /*\n            使用requirejs引入组件\n        */        \n        let self = this;\n        require([ '../components/album.min','../components/bigdata.min', '../components/preview-image.min'],function(album, BigData, PreviewImage){        \n            BigData.init(self);\n\n            BigData.bigData({\n                pageName: '1204',\n                pageParam: {\n                    rent_house_id: $('#houseId').val()\n                },\n                type: 1\n            });\n\n            //评论中图片添加预览功能\n            PreviewImage('.rent-comments');\n        }); \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        下载条的关闭按钮事件赋予\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $(\".download-app .icon-remove\").click(function(){\n            $(\".content-wrapper\").css({ \"padding-bottom\" : 0 }) ;\n        }) ;\n\n        //外来房源基本信息\n        var $externalSellPoint = $('.external-sellpoint');\n        if($externalSellPoint.length>0){\n            let lineNum = parseInt($externalSellPoint.css('height')) / parseInt($externalSellPoint.css('line-height'));\n            if(lineNum > 5){//超过五行了\n                $externalSellPoint.css('max-height',parseInt($externalSellPoint.css('line-height'))*5 + 'px');\n                $externalSellPoint.after($('<div class=\"more\">查看更多</div>').click(function(){\n                    $externalSellPoint.css('max-height','100%');\n                    $(this).remove();\n                }));\n            }\n        }\n    };   \n}\n\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n   new DetailController;\n});\n"]}