{"version":3,"sources":["rent/list.min.js"],"names":["ListController","$","lazyload","staticDomain","cookie","html","Location","businessType","cityApiUrl","apiUrl","common","getCityByLatLon","identical","position","investmentFlag","Flag","investment","show","hide","readyFun","that","cityid","localStorage","cookieId","url","location","href","slice","lastIndexOf","conditionQuery","length","conditionPath","pathname","condition","queryString","areasLineSting","conditionstr","indexOf","queryObj","GetRequest","param","channelFlag","conditionObject","parseCondition","choseFun","request","rent","list","cityAreas","houseType","cityId","successCallback","data","status","dataRes","dataDic","dicAreas","townList","dataAreasName","dataAreasDi","forEach","item","id","name","find","addClass","append","click","dataAreasId","attr","siblings","removeClass","children","slideToggle","conditionString","objectToString","window","locationData","locationList","index","empty","on","dataTownId","dataTownTo","dataTownName","dataAreasDiObj","extend","console","log","endMetres","areasTownObj","areasTownString","citySubway","subwayLine","metroLine","metroStation","dataLineName","dataLineLi","subList","itemSubList","dataLineId","dataStationId","dataStationSt","dataStationName","dataLineLiObj","lineStationString","lineStationObj","firstGivePage","replace","dataPrice","dataPriceObj","event","preventDefault","lowPr","val","topPr","parseInt","setTimeout","cp","tag","area","decoration","houseList","rentWay","tagString","areaString","decorationString","decorationArray","rentWayString","rentWayObj","tagObj","areaObj","decorationObj","areaArray","houseListString","houseListArray","noHouseListArray","houseListObj","each","classList","push","sortChose","soSting","css","soString","soObj","pullData","require","listSearch","init","searchInputClick","animate","right","BigData","bigData","stopPropagation","scroll","height","self","scrollTop","toggleClass","listI","hasClass","indexP","stop","slideUp","slideDown","conditionPr","laString","numberD","itemN","indexN","splice","cityArray","split","taString","itemD","indexD","separator","result","partArray","part","hasOwnProperty","constructor","Array","obj","conditionKeyArray","conditionValueArray","key","itemUp","channel","houseTag","houseTagList","commision","isSubwayHouse","isPriceDown","isNewHouse","isShortRent","isHardcover","isSouth","isZeroCommission","hasVideo","distanceSubway","bigdata","encodeURIComponent","JSON","stringify","eventName","eventParam","rent_house_id","houseId","type","domeRent","firstImageUrl","estateName","houseTitle","houseTypeStr","spaceArea","districtAndTownName","rentPriceStr","pinyin","pullload","rentHouseList","requestType","queryStringObject","traditional","pageSize","threshold","callback","encryptHouseId","creatRent","conditionData","conditionObj","spaceAreaStart","cpArray","search","theRequest","str","substr","strs","i","Controller","document","ready"],"mappings":"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","file":"list.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：rent/list(租房-列表)\n 3. 作者：liyang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n\n\nclass ListController extends Controller {\n    constructor() {\n        super();\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        图片懒加载实例化\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/        \n        $(\".lazy\").lazyload({ \n            \"placeholder\" : this.staticDomain + \"/wkh5_fe/images/common/loading.jpg\"\n        }) ;\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        根据定位 展示定位附近\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if($.cookie('location_latitude') && $.cookie('location_longitude')) {\n            $('.location-name').html(\"附近\");\n        }else{\n            $('.location-name').html(\"定位失败\");\n        }\n        if ($.cookie('location_deniedName')){\n            $('.location').html( $.cookie('location_deniedName'));\n        }\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        定位的一个实例\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        new Location({\n            businessType : \"rent\" ,\n            cityApiUrl : this.apiUrl.common.getCityByLatLon ,\n            identical : (position)=> {\n\n            },\n            investmentFlag:(Flag)=>{\n              if (Flag.investment){\n                 $('notopen-investment').show();\n              }else {\n                  $('notopen-investment').hide();\n              }\n            }\n        });\n        this.readyFun();\n        let that = this;\n        let cityid = 43;\n        localStorage.cookieId = $.cookie('cookieId');\n        cityid = ($.cookie('cityId') ?  $.cookie('cityId') : 43);  // 取cityId 默认为上海\n        let url =  location.href.slice(0,location.href.lastIndexOf('/')+1);\n        let conditionQuery = location.href.slice(location.href.lastIndexOf('/')+1,location.href.length);\n        let conditionPath = location.pathname.slice(location.pathname.lastIndexOf('/')+1,location.pathname.length);\n        let condition ='';  // condition字符串\n\n        let queryString = '';// ?后面的参数\n        let areasLineSting ='';  // ?后面参数 区域用到互斥\n        let  conditionstr = \"la-0\"; // 默认的 condition 参数\n        if (conditionPath == \"\") { // 判断路由后面的参数值  /rent , /rent/\n            url = url\n        } else if (conditionPath == \"rent\"){\n            url = url+\"rent/\";\n            conditionQuery = conditionQuery.slice(conditionQuery.indexOf('?'));\n        }\n        if (conditionQuery.indexOf('?') < 0) {  // ?后面没有参数的赋值\n            condition = conditionQuery;\n        }else {   // ?后面有参数的赋值\n            condition = conditionQuery.slice(0,conditionQuery.indexOf('?'));\n            queryString = conditionQuery.slice(conditionQuery.indexOf('?'));\n            let queryObj = this.GetRequest();\n            if (queryObj['districtId']){  // 查询？后面参数产出  后面区域板块用到（需要互斥）\n                delete (queryObj['districtId'])\n            }else if (queryObj['townId']){\n                delete (queryObj['townId'])\n            }else if (queryObj['subwayLine']){\n                delete (queryObj['subwayLine'])\n            }else if (queryObj['subwayStation']){\n                delete (queryObj['subwayStation'])\n            }else if (queryObj['subEstateId']){\n                delete (queryObj['subEstateId'])\n            }\n            if(queryObj){\n                areasLineSting =\"?\"+$.param(queryObj);\n            }\n        }\n        let channelFlag = this.GetRequest()['channel'] || \"\";\n        let conditionObject = this.parseCondition({condition:condition});  // 转成对象\n        this.choseFun(conditionObject);\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        请求接口 获取城市区域\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.request(this.apiUrl.rent.list.cityAreas,{houseType:3,cityId:cityid},{successCallback(data){\n                if (data.status == 1){\n                    let dataRes = data;\n                    let dataDic = dataRes.data;\n                    let dicAreas =''; // 区域标签拼接\n                    let townList = '';// town标签拼接\n                    let dataAreasName=''; // 中文区域名称\n                    let dataAreasDi = '';\n                    if (conditionObject[\"di\"]){  // 有区域的渲染\n                        $('.dic-content').show();\n                         dicAreas = \"<li>不限</li>\";\n                         dataDic.forEach(function (item) {   // 循环渲染城市\n                            if (item.id == conditionObject[\"di\"]){\n                                dicAreas += `<li class=\"areas-subway\" data-id =\"${item.id}\" data-di=\"di-${item.id}\">${item.name}</li>`;\n                                if (conditionObject[\"to\"]){    // 是选择了town\n                                    townList = \"<li>不限</li>\" ;\n                                    item.townList.forEach(function (item) {\n                                        if (item.id == conditionObject[\"to\"]) {\n                                            townList +=`<li class=\"chosed\" data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`;\n                                            $('#dic>p').html(item.name) ;\n\n                                        }else {\n                                            townList +=`<li  data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                        }\n                                    });\n                                }else {  // 否选择了town\n                                    townList = \"<li class='chosed'>不限</li>\";\n                                    item.townList.forEach(function (item) {\n                                            townList +=`<li  data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                    });\n                                    dataAreasName = item.name;\n                                    $('#dic>p').html(item.name);\n                                }\n                                dataAreasDi = \"di-\"+item.id\n                            }else {\n                                dicAreas += `<li data-id =\"${item.id}\" data-di=\"di-${item.id}\">${item.name}</li>`\n                            }\n                        });\n                        $('#dic').find('i').addClass('bacchosed');\n                        $('#dic').addClass('chosed')\n                    }else if (conditionObject[\"ne\"]){\n                        $('.location-name').addClass('areas-subway')\n                    }else {\n                         dicAreas = \"<li class='areas-subway'>不限</li>\";\n                         dataDic.forEach(function (item) {   // 循环渲染城市\n                                dicAreas += `<li data-id =\"${item.id}\" data-di=\"di-${item.id}\">${item.name}</li>`\n                        });\n                    }\n                    $('#dicAreas').append(dicAreas);\n                    $('#town').append(townList);\n\n                    $('#dicAreas>li').click(function () {           // 点击areas更换相应的town\n                        let dataAreasId = $(this).attr(\"data-id\");  // areas的id 后面循环对比需要\n                            dataAreasDi = $(this).attr(\"data-di\");  // 需要传给后台pinURL的参数  areas\n                            dataAreasName = $(this).html();        // 获取中文区域名称\n                        $(this).siblings().removeClass('areas-subway');\n                        $(this).addClass('areas-subway');\n                        if(dataAreasName == \"不限\") {\n                            $('#dic>p').html(\"区域\");\n                            $('.bac').hide();\n                            $('#dic').children('span').removeClass('direction');\n                            $('#dic').find('i').removeClass('bacchosed');\n                            $('#dic').removeClass('active-color-top');\n                            $('#dic').removeClass('chosed');\n                            $('.dic').slideToggle();\n                            delete(conditionObject['di']);  // 删除areas的对象\n                            delete(conditionObject['to']);  // 删除town的对象\n                            delete(conditionObject['li']);  // 删除地铁线路的对象\n                            delete(conditionObject['st']);  // 删除地铁线路的对象\n                            let conditionString = that.objectToString(conditionObject);\n                            window.location.href = url + conditionString + areasLineSting;\n                        }else if ($(this).attr(\"data-location\") == \"location\"){\n                            let locationData=[\"不限（智能范围)\",\"500\",\"1000\",\"2000\",\"5000\"];\n                            let locationList='';\n                            locationData.forEach(function(item,index){\n                                if(index == 0){\n                                    locationList = `<li data-ne='ne-5000'>${item}</li>`\n                                }else{\n                                    locationList+=`<li data-ne=\"ne-${item}\">${item}米</li>`\n                                }\n                            });\n                             if ($(this).html() == \"附近\"){\n                                 $('#town').empty().append(locationList);\n                             }\n                        } else {\n                            dataDic.forEach(function (item) {    //\n                                if (conditionObject[\"di\"]){\n                                  if (conditionObject[\"di\"] == item.id && dataAreasId == item.id){\n                                      if (conditionObject[\"to\"]){\n                                          townList =\"<li>不限</li>\" ;\n                                          item.townList.forEach(function (item) {  // 循环渲染town\n                                              if (conditionObject[\"to\"] == item.id){\n                                                  townList += `<li class=\"chosed\" data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                              }else {\n                                                  townList += `<li data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                              }\n                                          });\n                                      }else {\n                                          townList =\"<li class='chosed'>不限</li>\" ;\n                                          item.townList.forEach(function (item) {  // 循环渲染town\n                                              townList += `<li data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                          });\n                                      }\n                                  }else {\n                                      if(dataAreasId == item.id && item.townList){\n                                          townList =\"<li>不限</li>\" ;\n                                          item.townList.forEach(function (item) {  // 循环渲染town\n                                              townList += `<li data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                          });\n                                      }\n                                  }\n                                    $('#town').empty().append(townList);\n                                }else {\n                                    if(dataAreasId == item.id && item.townList){\n                                        townList =\"<li>不限</li>\" ;\n                                        item.townList.forEach(function (item) {  // 循环渲染town\n                                            townList += `<li data-id =\"${item.id}\" data-to=\"to-${item.id}\">${item.name}</li>`\n                                        });\n                                        $('#town').empty().append(townList);\n                                    }\n                                }\n                            });\n                        }\n                    });\n                      // town的点击获取\n                    $('#town').on(\"click\",\"li\",function () {\n                        $(this).siblings().removeClass('chosed');\n                        $(this).addClass('chosed');\n                        let dataTownId = $(this).attr(\"data-id\");      // 站点的id\n                        let dataTownTo =  $(this).attr(\"data-to\");   // 需要传给后台pinURL的参数  town\n                        let dataTownName = $(this).html();   // 获取中文town名称\n                        delete(conditionObject['li']);  // 删除地铁线的对象\n                        delete(conditionObject['st']);  // 删除地铁站点的对象、、、\n                        if (dataTownName == \"不限\") {\n                            $('#dic > p').html(dataAreasName);\n                            let dataAreasDiObj =  that.parseCondition({condition:dataAreasDi});  // 转换成对象\n                            $.extend(conditionObject,dataAreasDiObj); // 合并对象\n                            delete(conditionObject['ne']);  // 删除附近\n                            delete(conditionObject['to']);  // 删除town的对象\n                            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                            console.log(conditionString);\n                            window.location.href = url + conditionString+areasLineSting;  // 跳转的URL\n                        }else if($(this).attr(\"data-ne\")){\n                            let endMetres = $(this).attr(\"data-ne\");\n                            if($.cookie('location_latitude') && $.cookie('location_longitude')) {\n                                delete(conditionObject['di']);\n                                delete(conditionObject['to']);\n                                let areasTownObj = that.parseCondition({condition: endMetres}); // 转换成对象\n                                $.extend(conditionObject, areasTownObj);   // 合并对象\n                                let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                                window.location.href = url + conditionString + areasLineSting;  // 跳转的URL\n                            }else{\n                                $('.location-name').html(\"定位失败\")\n                            }\n                        } else {\n                            $('#dic > p').html(dataTownName);\n                            let areasTownString = dataAreasDi + '-' + dataTownTo;  // 字符串链接\n                            delete(conditionObject['ne']);  // 删除附近\n                            let areasTownObj = that.parseCondition({condition: areasTownString}); // 转换成对象\n                            $.extend(conditionObject, areasTownObj);   // 合并对象\n                            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                            console.log(conditionString);\n                            /*console.log(url + conditionString + areasLineSting)*/\n                            window.location.href = url + conditionString + areasLineSting;  // 跳转的URL\n                        }\n                        $('.bac').hide();\n                        $('#dic').children('span').removeClass('direction');\n                        $('#dic').find('i').addClass('bacchosed');\n                        $('#dic').addClass('chosed');\n                        $('.dic').slideToggle();\n                    })\n                }\n            }});\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        请求接口 获取地铁\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.request(this.apiUrl.rent.list.citySubway,{cityId:cityid},{successCallback(data){\n\n                if (data.status == 1 &&  data.data.length) {\n                    let dataRes = data;\n                    let subwayLine = dataRes.data;\n                    let metroLine = '';   // 定义地铁线路的标签拼接\n                    let metroStation = ''; // 定义地铁站点的标签拼接\n                    let dataLineName = '';  // 中文地铁线路名称\n                    let dataLineLi = ''; // 地铁线路的字符串 li-id\n                    subwayLine.forEach(function (item) {   // 循环渲染地铁线路\n                        if (conditionObject['li'] && conditionObject['li'] == item.id) {\n                            $('.dic-content').hide();\n                            $('.metro-content').show();\n                            $('.tabs > ul > li:eq(0)').removeClass('active-color-dic');\n                            $('.tabs > ul > li:eq(1)').addClass('active-color-dic');\n                            metroLine += `<li class=\"areas-subway\" data-id =\"${item.id}\" data-li=\"li-${item.id}\">${item.name}</li>`;\n                            if (conditionObject['st']){\n                                metroStation = \"<li>不限</li>\";\n                                item.subList.forEach(function (itemSubList){\n                                    if (conditionObject['st'] == itemSubList.id){\n                                        metroStation += `<li  class='chosed' data-id =\"${itemSubList.id}\" data-st=\"st-${itemSubList.id}\">${itemSubList.name}</li>`;\n                                        $('#dic > p').html(itemSubList.name);\n                                    }else {\n                                        metroStation += `<li data-id =\"${itemSubList.id}\" data-st=\"st-${itemSubList.id}\">${itemSubList.name}</li>`\n                                    }\n                                });\n                            }else {\n                                metroStation = \"<li class='chosed'>不限</li>\";\n                                item.subList.forEach(function (itemSubList){\n                                    metroStation += `<li data-id =\"${itemSubList.id}\" data-st=\"st-${itemSubList.id}\">${itemSubList.name}</li>`;\n                                });\n                                dataLineName = item.name;\n                                $('#dic > p').html(dataLineName);\n                            }\n                            dataLineLi = 'li-'+item.id;\n                            $('#dic').find('i').addClass('bacchosed');\n                            $('#dic').addClass('chosed')\n                        }else {\n                            metroLine += `<li data-id =\"${item.id}\" data-li=\"li-${item.id}\">${item.name}</li>`\n                        }\n                    });\n                    $('#metroStation').append(metroStation);\n                    $('#metroLine').append(metroLine);\n                    $('#metroLine > li').click(function () {   // 点击地铁线路更换相应的站点\n                        let dataLineId = $(this).attr(\"data-id\");  // 地铁线路的id 后面循环对比需要\n                           dataLineLi = $(this).attr(\"data-li\"); // 需要传给后台pinURL的参数  地铁线路\n                           dataLineName = $(this).html();     // 获取中文地铁线路名称\n                        $(this).siblings().removeClass('areas-subway');\n                        $(this).addClass('areas-subway');\n                        subwayLine.forEach(function (item) {\n                                if (dataLineId == item.id && item.subList) {\n                                    if(conditionObject['li'] == item.id && conditionObject['st']){\n                                        metroStation = \"<li>不限</li>\";\n                                        item.subList.forEach(function (item) { // 循环渲染地铁站点\n                                            if (conditionObject['st'] == item.id){\n                                                metroStation += `<li class=\"chosed\"  data-id =\"${item.id}\" data-st=\"st-${item.id}\">${item.name}</li>`\n                                            }else {\n                                                metroStation += `<li data-id =\"${item.id}\" data-st=\"st-${item.id}\">${item.name}</li>`\n                                            }\n                                        });\n                                    }else if(conditionObject['li'] == item.id && !conditionObject['st']){\n                                        metroStation = \"<li class='chosed'>不限</li>\";\n                                        item.subList.forEach(function (item) { // 循环渲染地铁站点\n                                            metroStation += `<li data-id =\"${item.id}\" data-st=\"st-${item.id}\">${item.name}</li>`\n                                        });\n                                    }else if ( conditionObject['li'] != item.id ){\n                                        metroStation = \"<li>不限</li>\";\n                                        item.subList.forEach(function (item) { // 循环渲染地铁站点\n                                            metroStation += `<li data-id =\"${item.id}\" data-st=\"st-${item.id}\">${item.name}</li>`\n                                        });\n                                    }\n\n                                    $('#metroStation').empty().append(metroStation);\n                                }\n                        });\n                    });\n                    $('#metroStation ').on(\"click\",\"li\",function () {   // 站点的点击\n                        $(this).siblings().removeClass('chosed');\n                        $(this).addClass('chosed');\n                        let dataStationId = $(this).attr(\"data-id\");     //线路的id  dataStationId\n                        let dataStationSt = $(this).attr(\"data-st\");   // 需要传给后台pinURL的参数  站点\n                        let dataStationName = $(this).html();  // 获取中文地铁站点名称\n                        delete(conditionObject['di']);  // 删除areas的对象\n                        delete(conditionObject['to']);  // 删除town的对象\n                        delete(conditionObject['ne']);  // 删除附近\n                        if ($(this).html() == \"不限\") {\n                            $('#dic > p').html(dataLineName);  // 判断赋值给检索title\n                            let dataLineLiObj = that.parseCondition({condition: dataLineLi}); // 转换成对象\n                            $.extend(conditionObject, dataLineLiObj); // 合并对象\n                            delete(conditionObject['st']);  // 删除站点的对象\n                            let conditionString = that.objectToString(conditionObject);   // 转换成字符串\n                            console.log(conditionString);\n                            window.location.href = url + conditionString+areasLineSting;  // 跳转的URL\n                        } else {\n                            $('#dic > p').html(dataStationName); // 判断赋值给检索title\n                            let lineStationString =  dataLineLi+ '-' + dataStationSt; // 合并字符串\n                            let lineStationObj = that.parseCondition({condition: lineStationString}); // 转换成对象\n                            $.extend(conditionObject, lineStationObj); // 合并对象\n                            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                            window.location.href = url + conditionString+areasLineSting; // 跳转的URL\n                        }\n                        $('.bac').hide();\n                        $('#dic').children('span').removeClass('direction');\n                        $('#dic').find('i').addClass('bacchosed');\n                        $('#dic').addClass('chosed');\n                        $('.dic').slideToggle();\n                    })\n                }else {\n                    $('.subway').hide();\n                }\n            }});\n\n        this.firstGivePage(conditionObject);\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        租房价格点击选择函数\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('.price-list > ul >li').click(function () {\n            $(this).siblings().removeClass('chosed');\n            $(this).addClass('chosed');\n            $('.bac').hide();\n            $('#price').children('span').removeClass('direction');\n            delete(conditionObject['cp']);  // 删除价格参数的对象\n            if ($(this).html() == '不限'){\n                $('#price>p').html(\"租金\");\n                $('#price').find('i').removeClass('bacchosed');\n                $('#price').removeClass('active-color-top');\n                $('#price').removeClass('chosed');\n                delete(conditionObject['pr']);  // 删除价格参数的对象\n                let conditionString = that.objectToString(conditionObject); // 对象转换成字符串\n                console.log(conditionString);\n                window.location.href = url + conditionString+queryString; // 跳转的URL\n            }else {\n                $('#price>p').html($(this).html().replace(/\\s|\\xA0/g,\"\"));\n                $('#price').find('i').addClass('bacchosed');\n                $('#price').addClass('active-color-top');\n                let dataPrice = $(this).attr(\"data-pr\");\n                let dataPriceObj = that.parseCondition({condition: dataPrice}); // 转换成对象\n                $.extend(conditionObject, dataPriceObj); // 合并对象\n                let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                window.location.href = url + conditionString+ queryString; // 跳转的URL\n            }\n            $('.price-total').slideToggle();\n        });\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        租房价格自定义函数\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('#selfPrConf').click(function (event) {\n            event.preventDefault();\n            let lowPr = $('#lowPr').val();\n            let topPr=  $('#topPr').val();\n                $('.wrong').hide();\n                if(lowPr && topPr){\n                    if (parseInt(lowPr) > parseInt(topPr)) {\n                        $('.wrong').show();\n                        setTimeout(function () {\n                            $('.wrong').hide();\n                        },2000)}else {\n                        $('#price>p').html(lowPr+'-'+topPr);\n                        $('#price').find('i').addClass('bacchosed');\n                        $('#price').addClass('active-color-top');\n                        delete(conditionObject['pr']);  // 删除价格选择的参数的对象\n                        let cp = {\"cp\":lowPr+\"to\"+topPr};\n                        $.extend(conditionObject, cp); // 合并对象\n                        let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                        console.log(conditionString);\n                        window.location.href = url + conditionString+ queryString; // 跳转的URL\n                        $('.bac').hide();\n                        $('#price').children('span').removeClass('direction');\n                        $('.price-total').slideToggle();\n                    }\n                } else{\n                    if (lowPr == '' && topPr){\n                        $('#price>p').html(topPr+'以下');\n                        $('#price').find('i').addClass('bacchosed');\n                        $('#price').addClass('active-color-top');\n                        delete(conditionObject['pr']);  // 删除价格选择的参数的对象\n                        let cp = {\"cp\":\"0\"+\"to\"+topPr};\n                        $.extend(conditionObject, cp); // 合并对象\n                        let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                        console.log(conditionString);\n                        window.location = url + conditionString+ queryString; // 跳转的URL\n                    } else if(topPr == '' && lowPr){\n                        $('#price>p').html(lowPr+'以上');\n                        $('#price').find('i').addClass('bacchosed');\n                        $('#price').addClass('active-color-top');\n                        delete(conditionObject['pr']);  // 删除价格选择的参数的对象\n                        let cp = {\"cp\":lowPr+\"to\"+\"0\"};\n                        $.extend(conditionObject, cp); // 合并对象\n                        let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                        console.log(conditionString);\n                        window.location.href = url + conditionString + queryString; // 跳转的URL\n                    }else {\n                        $('#price>p').html(\"租金\");\n                        $('#price').find('i').removeClass('bacchosed');\n                        $('#price').removeClass('active-color-top');\n                        $('#price').removeClass('chosed');\n                        delete(conditionObject['pr']);  // 删除价格选择的参数的对象\n                        delete(conditionObject['cp']);  // 删除价格自定义参数的对象\n                        let conditionString = that.objectToString(conditionObject); // 转换成字符串\n                        console.log(conditionString);\n                        window.location.href = url + conditionString + queryString; // 跳转的URL\n                    }\n                    $('.bac').hide();\n                    $('#price').children('span').removeClass('direction');\n                    $('.price-total').slideToggle();\n                }\n        });\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        房型传参\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('#moreComf').click(function () {\n            let tag = $('.more-spec > ul >li');  // 四个tag标签的选择\n            let area = $('.area > ul >li');    // 面价的标签的选择\n            let decoration = $('.decoration > ul >li'); // 装修的标签的选择\n            let houseList = $('.house-list  > ul > li ');  // 获取房型标签\n            let rentWay = $('.rent-way  > ul > li ');  // 租赁方式\n            let tagString = ''; //四个tag 字符串的组装\n            let areaString = '';  // 面积的选择的字符串的组装\n            let decorationString = ''; // 装修的状况的字符串的组装\n            let decorationArray = [];  // 装修 临时使用数组\n            let rentWayString = ''; // 租赁方式 字符串\n            let rentWayObj={}; // 租赁方式 对象\n            let tagObj = {};  // 标签对象\n            let areaObj = {}; // 面积 对象\n            let decorationObj = {}; //\n            let areaArray = [];\n            let houseListString = '';\n            let houseListArray = [];\n            let noHouseListArray = [];\n            let houseListObj = {};\n            // 对选中房型的处理\n            houseList.each(function (index, item) {   // 判断是否房型被选中\n                if (item.classList.length == 1) {\n                    houseListArray.push(index)\n                } else {\n                    noHouseListArray.push(index)\n                }\n            });\n            if (houseListArray.length > 0) {\n                houseListArray.forEach(function (item, index) {\n                    if (index == 0) {\n                        houseListString = $(`.house-list  > ul > li:eq(${item})`).attr('data-la');\n                    } else {\n                        houseListString = houseListString + '-' + $(`.house-list  > ul > li:eq(${item})`).attr('data-la');\n                    }\n                });\n                houseListObj = that.parseCondition({condition: houseListString}); // 转换成对象\n            }\n            // 选中标签的处理\n            tag.each(function (index, item) {\n                if (item.classList.length == 1) { // 根据标签样式判断是否有选择\n                    if (index == 0) {\n                        tagString = \"ta-1\"\n                    } else {\n                        tagString = tagString + '-' + \"ta-1\"\n                    }\n                } else {\n                    if (index == 0) {\n                        tagString = \"ta-0\"\n                    } else {\n                        tagString = tagString + '-' + \"ta-0\"\n                    }\n                }\n            });\n            // 选中面积的处理\n            area.each(function (index, item) {\n                if (item.classList.length == 1) {\n                    areaArray.push(index)\n                }\n            });\n            if (areaArray.length > 0) {\n                areaArray.forEach(function (item, index) {\n                    if (index == 0) {\n                        areaString = $(`.area > ul >li:eq(${item})`).attr('data-ar')\n                    } else {\n                        areaString = areaString + \"-\" + $(`.area > ul >li:eq(${item})`).attr('data-ar')\n                    }\n                })\n            }\n            // 选中装修的处理\n            decoration.each(function (index, item) {\n                if (item.classList.length == 1) {    // 判断哪些有样式 建立数组\n                    decorationArray.push(index);\n                }\n            });\n            if (decorationArray.length > 0) {\n                decorationArray.forEach(function (item, index) {\n                    if (index == 0) {\n                        decorationString = $(`.decoration > ul >li:eq(${item})`).attr('data-dt')\n                    } else {\n                        decorationString = decorationString + '-' + $(`.decoration > ul >li:eq(${item})`).attr('data-dt')\n                    }\n                });\n            }\n            // 选中租赁方式的处理\n            rentWay.each(function(index,item){\n                if (item.classList.length == 1) {    // 判断哪些有样式\n                    rentWayString = $(`.rent-way  > ul > li:eq(${index})`).attr('data-rw');\n                }\n            });\n\n            if(rentWayString){\n                delete(conditionObject['er']);\n                delete(conditionObject['fs']);\n                rentWayObj = that.parseCondition({condition: rentWayString});\n            }else{\n                delete(conditionObject['er']);\n                delete(conditionObject['fs'])\n            }\n            if (tagString) {\n                tagObj = that.parseCondition({condition: tagString});\n            } else {\n                delete(conditionObject['ta'])\n            }\n            if (areaString) {\n                areaObj = that.parseCondition({condition: areaString});\n            } else {\n                delete(conditionObject['ar'])\n            }\n            if (decorationString) {\n                decorationObj = that.parseCondition({condition: decorationString});\n            } else {\n                delete(conditionObject['dt'])\n            }\n            if (areaObj['ar'] || decorationObj['dt'] || tagObj['ta'] || !(noHouseListArray.length == 5 && houseListArray[0]== 0) || rentWayString) {\n                $('#type').find('i').addClass('bacchosed');\n                $(\"#type\").removeClass('active-color-top');\n                $(\"#type\").addClass('chosed')\n            } else {\n                $('#type').find('i').removeClass('bacchosed');\n                $(\"#type\").removeClass('active-color-top');\n                $(\"#type\").removeClass('chosed')\n            }\n            $('.bac').hide();\n            $('#type').children('span').removeClass('direction');\n            $('.type').slideToggle();\n            $.extend(conditionObject, houseListObj, tagObj, areaObj, decorationObj , rentWayObj); // 合并对象\n            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n            window.location.href = url + conditionString + queryString; // 跳转的URL\n        });\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        排序\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        if (conditionObject['so']){\n            let sortChose = $('.sort-chose>ul>li');\n            let soSting =  that.objectToString({'so':conditionObject['so']}); // 转换成字符串\n            sortChose.each(function (index,item) {\n                if (soSting == $(`.sort-chose>ul>li:eq(${index})`).attr('data-so')){\n                    $(`.sort-chose>ul>li:eq(${index})`).siblings().removeClass('chosed');\n                    $(`.sort-chose>ul>li:eq(${index})`).addClass('chosed')\n                }\n            });\n            if (soSting != 'so-0') {\n                $('#sortTop').find('i').addClass('bacchosed');\n                $('#sortTop').addClass('chosed');\n            }else {\n                $('#sortTop').find('i').removeClass('bacchosed');\n                $('#sortTop').removeClass('chosed');\n            }\n        }\n        $('.sort-chose>ul>li').click(function () {\n            $('.bac').css({'z-index': '10', 'top': '4.5rem'});\n            $('.bac').hide();\n            $(this).siblings().removeClass('chosed');\n            $(this).addClass('chosed');\n            $('.sort-chose').slideToggle();\n            let soString =  $(this).attr('data-so');\n            if(soString != 'so-0'){\n                $('#sortTop').find('i').addClass('bacchosed');\n                $(\"#sortTop\").removeClass('active-color-top');\n                $(\"#sortTop\").addClass('chosed')\n            }else{\n                $('#sortTop').find('i').removeClass('bacchosed');\n                $(\"#sortTop\").removeClass('active-color-top');\n                $(\"#sortTop\").removeClass('chosed')\n            }\n            let soObj = that.parseCondition({condition:soString});\n            $.extend(conditionObject, soObj); // 合并对象\n            let conditionString = that.objectToString(conditionObject); // 转换成字符串\n            console.log(conditionString);\n            window.location.href = url + conditionString+ queryString; // 跳转的URL\n        });\n\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        清除搜索条件   无房源列表的情况\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n\n        $('.clearOption').click(function () {\n            window.location.href = url+areasLineSting ;\n        });\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        上拉加载 注册\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        this.pullData(condition,cityid);\n\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        搜索框的点击：\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        require(['../components/list-search.min'],function(listSearch){\n            listSearch.init(that);\n            listSearch.searchInputClick(channelFlag,conditionObject,url,areasLineSting,cityid);\n        });\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        右侧滑出选项：\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        $('.icon-hanbao').click(function () {\n            $('.bac').css({'z-index': '16', 'top': '0'});\n            $('.bac').show();\n            $('.slide-right').show();\n            $('.slide-right').animate({right:'0'});\n\n        });\n\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        页面埋点\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        require(['../components/bigdata.min'],function(BigData){\n            BigData.init(that);\n            BigData.bigData({\n                \"pageName\": \"1202\",\n                \"channel\":channelFlag ,\n                \"type\": 1\n            });\n        });\n\n           /*阻止事件冒泡*/\n        $('.writ-price').click(function (event) {\n            event.stopPropagation()\n        });\n        $('.price-list > ul').scroll(function (event) {\n            event.stopPropagation()\n        })\n    }\n\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    条件选择的初始化函数\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    readyFun() {\n        setTimeout(function () {\n            $('.total-num').hide();\n            $('.all-control').css(\"margin-top\",\"8.5rem\");\n        },1500);\n        $('.content-hight').height($(window).height()*0.7 - $('.tabs').height());\n    }\n\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    条件选择的区域选择的点击效果函数\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    choseFun(conditionObject) {\n        let self = this;\n        let scrollTop = $(window).scrollTop();\n        /* 检索选择点击事件*/\n        $('.rent-list > ul > li').click(function () {\n            $(this).siblings().removeClass('active-color-top');\n            $(this).toggleClass('active-color-top');\n            let listI =  $('.rent-list > ul > li > span >i');  // 获取检索箭头的  i标签\n            listI.each(function (index, item) {     // 循环i标签（下箭头）是否有样式为蓝色，是代表用户选取了数据，否代表没有选取\n                if (item.classList.length == 1){\n                    $(`.rent-list > ul > li:eq(${index})`).addClass('chosed');\n                }else {\n                    $(`.rent-list > ul > li:eq(${index})`).removeClass('chosed');\n                }\n            });\n            $(this).siblings().children('span').removeClass('direction');\n            /*点击li标签事件改变子标签span箭头的样式（后面会选中条件查询之后恢复指向）*/\n            $(this).children('span').toggleClass('direction');\n            /*let list = $('.rent-list > ul > li > span');  // 获取检索当中的span标签   后面判断指向 （根据class判断指向）*/\n            if ($(window).scrollTop()){\n                scrollTop = $(window).scrollTop();\n            }\n             if ($(this).children('span').hasClass('direction')){\n                 $('.bac').show();\n                 $('body').addClass('noscroll');\n             }else {\n                 $('.bac').hide();\n                 $('body').removeClass('noscroll');\n                 if (scrollTop){\n                     $(window).scrollTop(scrollTop);\n                 }\n             }\n    /*        $('.bac').hide();\n             $('body').removeClass('noscroll');\n            $(window).scrollTop(scrollTop);\n            list.each(function (index, item) {   //根据span标签的样式指向判断底部罩层是否显示\n                if (item.classList.length == 1) {\n                    scrollTop = $(window).scrollTop();\n                    $('.bac').show();\n                    $('body').addClass('noscroll');\n                    console.log('dasjh'+scrollTop);\n                  /!*  $(window).scrollTop(scrollTop)*!/\n                }\n            });*/\n            let indexP = $(this).index();\n            /*根据点击li标签的位置判断相应的模块响应出现*/\n            if (indexP == 0) {     /*判断区域模块的显示*/\n                $('.dic').stop();\n                $('.price-total').hide();\n                $('.house-type').hide();\n                $('.sort-chose').hide();\n                $('.dic').slideToggle(\"fast\");\n            } else if (indexP == 1) {      /*判断价格模块的显示*/\n                $('.bac').stop();\n                $('.dic').hide();\n                $('.house-type').hide();\n                $('.sort-chose').hide();\n                $('.price-total').slideToggle(\"fast\");\n            } else if (indexP == 2) {    /* 判断户型模块显示*/\n                $('.bac').stop();\n                $('.dic').hide();\n                $('.price-total').hide();\n                $('.sort-chose').hide();\n                $('.house-type').slideToggle(\"fast\");\n            } else if (indexP == 3) {    /* 判断更多模块显示*/\n                $('.bac').stop();\n                $('.dic').hide();\n                $('.price-total').hide();\n                $('.house-type').slideUp();\n                $('.sort-chose').slideToggle(\"fast\");\n            }\n            $('.bac').css({'z-index': '10', 'top': '4.5rem'});\n            self.firstGivePage(conditionObject);\n        });\n        /*区域与地铁选择点击事件*/\n        $('.tabs > ul > li').click(function () {\n            $(this).siblings().removeClass('active-color-dic');\n            $(this).addClass('active-color-dic');\n            let indexP = $(this).index();\n            if (indexP == 0) {      /*判断区域模块显示或隐藏*/\n                $('.metro-content').hide();\n                $('.dic-content').slideDown();\n            } else if (indexP == 1) {   /*判断地铁模块显示或隐藏*/\n                $('.dic-content').hide();\n                $('.metro-content').slideDown();\n            }\n        });\n        /*更多 标签的点击*/\n        $('.more-spec > ul >li').click(function () {\n            $(this).toggleClass('active-house');\n        });\n        /*更多 面积的点击*/\n        $('.area > ul >li').click(function () {\n            $(this).toggleClass('active-house');\n        });\n        /*更多 装修的点击*/\n        $('.decoration > ul >li').click(function () {\n            $(this).toggleClass('active-house');\n        });\n        /* 房型选择点击事件*/\n        $('.house-list > ul > li').click(function () {\n            let indexP = $(this).index();\n            if (indexP == 0) {\n                $(this).siblings().removeClass('active-house');\n                $(this).addClass('active-house');\n            } else {\n                $(this).toggleClass('active-house');\n                let houseList  = $('.house-list > ul > li');\n                let houseListArray  =[];\n                houseList.each(function (index, item ) {\n                    if (item.classList.length == 1){\n                       if (index == 0){\n                           $('.house-list > ul > li:eq(0)').removeClass('active-house');\n                       }\n                    }else {\n                        houseListArray.push(index)\n                    }\n                });\n                if (houseListArray.length > 5){\n                    $('.house-list > ul > li:eq(0)').addClass('active-house');\n                }\n            }\n        });\n        /*底部罩层点击之后还原*/\n        $('.bac').click(function () {\n            $('.dic').slideUp();\n            $('.price-total').slideUp();\n            $('.house-type').slideUp();\n            $('.more').slideUp();\n            $('.rent-list > ul > li').children('span').removeClass('direction');\n            $('.rent-list > ul > li').removeClass('active-color-top');\n            $('.bac').hide().css({'z-index': '10', 'top': '4.5rem'});\n            $('.slide-right').animate({right:'-50%'}).hide();\n            $('.sort-chose').hide();\n            $('body').removeClass('noscroll');\n            $(window).scrollTop(scrollTop)\n        });\n        /*更多模块的重置搜索*/\n        $('#cancelMore').click(function () {\n            $('.more-spec > ul >li').removeClass('active-house');\n            $('.area > ul >li').removeClass('active-house');\n            $('.decoration > ul >li').removeClass('active-house');\n            $('.rent-way > ul >li').removeClass('active-house');\n            $(`.house-list>ul>li:eq(0)`).addClass('active-house');\n            $(`.house-list>ul>li:eq(0)`).siblings().removeClass('active-house')\n        });\n        /*租赁方式的点击样式*/\n        $('.rent-way > ul > li').click(function(){\n            $(this).addClass('active-house');\n            $(this).siblings().removeClass('active-house')\n        })\n    }\n\n    /*++-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    首次渲染 所选择的条件\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------++*/\n    firstGivePage(conditionObject) {\n        let self = this;\n        // 租房房型初次选中渲染\n        if (conditionObject['la']) {\n            let conditionPr = $('.house-list>ul>li');\n            let laString = '';\n            let numberD = [0,1,2,3,4,5];\n            if (conditionObject['la'].length > 1) {\n                conditionObject['la'].forEach(function (item) {\n                    $(`.house-list>ul>li:eq(${item})`).addClass('active-house');\n                    numberD.forEach(function (itemN,indexN) {\n                        if (item == itemN){\n                            numberD.splice(indexN,1);\n                        }\n                    })\n                });\n                numberD.forEach(function (item) {\n                    $(`.house-list>ul>li:eq(${item})`).removeClass('active-house');\n                });\n               /* $('#type >p').html('多选');*/\n                $('#type').find('i').addClass('bacchosed');\n                $('#type').addClass('chosed');\n            } else {\n             /*   if (conditionObject['la'] == 0){\n                    $('#type >p').html('户型');\n                    $('#type').find('i').removeClass('bacchosed');\n                    $('#type').removeClass('chosed');\n                }else {\n                    $('#type >p').html($(`.house-list>ul>li:eq(${conditionObject['la']})`).html());\n                    $('#type').find('i').addClass('bacchosed');\n                    $('#type').addClass('chosed');\n                }*/\n                $(`.house-list>ul>li:eq(${conditionObject['la']})`).addClass('active-house');\n                $(`.house-list>ul>li:eq(${conditionObject['la']})`).siblings().removeClass('active-house');\n            }\n        }else {\n            $(`.house-list>ul>li:eq(0)`).addClass('active-house');\n            $(`.house-list>ul>li:eq(0)`).siblings().removeClass('active-house')\n        }\n\n        // 租房价格初次选中渲染\n        if (conditionObject['pr']) {\n            let conditionPr = $('.price-list>ul>li');\n            let conditionString = self.objectToString({\"pr\": conditionObject['pr']}); // 对象转换成字符串\n            conditionPr.each(function (index, item) {\n                if (conditionString == $(`.price-list>ul>li:eq(${index})`).attr('data-pr')) {\n                    $(`.price-list>ul>li:eq(${index})`).addClass('chosed');\n                    $('#price>p').html($(`.price-list>ul>li:eq(${index})`).html().replace(' - ', '-'));\n                    $('#price').find('i').addClass('bacchosed');\n                    $('#price').addClass('chosed');\n                }\n            });\n        } else if (conditionObject['cp']) {\n            let cityArray = conditionObject['cp'].split('to');\n            if (cityArray[0] != 0 && cityArray[1] != 0) {\n                $('#lowPr').val(cityArray[0]);\n                $('#topPr').val(cityArray[1]);\n                $('#price>p').html(cityArray[0] + '-' + cityArray[1]);\n            } else if (cityArray[0] == 0 && cityArray[1] != 0) {\n                $('#topPr').val(cityArray[1]);\n                $('#price>p').html(cityArray[1] + '以下');\n            } else if (cityArray[0] != 0 && cityArray[1] == 0) {\n                $('#lowPr').val(cityArray[0]);\n                $('#price>p').html(cityArray[0] + '以上');\n            }\n            $('#price').find('i').addClass('bacchosed');\n            $('#price').addClass('chosed');\n        } else {\n            $(`.price-list>ul>li:eq(0)`).addClass('chosed');\n        }\n\n\n        let taString =  \"ta-0-ta-0-ta-0-ta-0-ta-0-ta-0\" ;\n        if (conditionObject['ta']){\n           taString = self.objectToString({'ta':conditionObject['ta']}); // 对象转换成字符串\n        }\n        if (taString != \"ta-0-ta-0-ta-0-ta-0-ta-0-ta-0\" || conditionObject['ar'] || conditionObject['dt'] || (conditionObject['la'] && conditionObject['la']!= \"0\") || conditionObject['er'] || conditionObject['fs']){\n            $('#type').find('i').addClass('bacchosed');\n            $('#type').addClass('chosed');\n        }else {\n            $('#type').find('i').removeClass('bacchosed');\n            $('#type').removeClass('chosed');\n        }\n        // 租房更多的tag 初次选中渲染\n        if (conditionObject['ta']) {\n            conditionObject['ta'].forEach(function (item, index) {\n                if (item == 1) {\n                    $(`.more-spec > ul >li:eq(${index})`).addClass('active-house')\n                }else {\n                    $(`.more-spec > ul >li:eq(${index})`).removeClass('active-house')\n                }\n            })\n        }else {\n            $('.more-spec > ul >li').removeClass('active-house')\n        }\n        //面积 初次选中渲染\n        if (conditionObject['ar']) {\n            let numberD = [0,1,2,3,4,5,6];\n            if (conditionObject['ar'].length > 1){\n                conditionObject['ar'].forEach(function (item,index) {\n                    $(`.area>ul>li:eq(${item})`).addClass('active-house');\n                    numberD.forEach(function (itemD,indexD) {\n                        if (item  == itemD){\n                            numberD.splice(indexD,1);\n                        }\n                    })\n                })\n            }else {\n                $(`.area>ul>li:eq(${conditionObject['ar']})`).addClass('active-house');\n                numberD.forEach(function (itemD,indexD) {\n                    if (conditionObject['ar']  == itemD){\n                        numberD.splice(indexD,1);\n                    }\n                })\n            }\n            numberD.forEach(function (item) {\n                $(`.area>ul>li:eq(${item})`).removeClass('active-house')\n            })\n        }else {\n            $('.area>ul>li').removeClass('active-house')\n        }\n        //装修 初次选中渲染\n        if (conditionObject['dt']) {\n            let numberD = [1,2,3,4,5];\n            if (conditionObject['dt'].length>1){\n                conditionObject['dt'].forEach(function (item, index) {\n                    $(`.decoration> ul >li:eq(${item -1})`).addClass('active-house');\n                    numberD.forEach(function (itemD,indexD) {\n                        if (item  == itemD){\n                            numberD.splice(indexD,1);\n                        }\n                    })\n                });\n            }else {\n                $(`.decoration> ul >li:eq(${conditionObject['dt'] -1})`).addClass('active-house');\n                numberD.forEach(function (itemD,indexD) {\n                    if (conditionObject['dt']  == itemD){\n                        numberD.splice(indexD,1);\n                    }\n                })\n            }\n            numberD.forEach(function (item) {\n                $(`.decoration> ul >li:eq(${item -1})`).removeClass('active-house');\n            })\n        }else {\n            $('.decoration> ul >li').removeClass('active-house');\n        }\n        /*租房方式的首次渲染*/\n        if (conditionObject['fs']){\n            $('.rent-way > ul >li:eq(1)').addClass('active-house')\n        }\n        if (conditionObject['er']){\n            $('.rent-way > ul >li:eq(0)').addClass('active-house')\n        }\n    }\n    /*++-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    获取并解析路由中(:condition)部分成一个Object\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------++*/\n\n    parseCondition({ condition , separator = \"-\" }) {\n        let result = {} ;\n        if( ! condition) return result ;\n        let partArray = condition.split(separator) ;\n        if( partArray.length === 1 ) return partArray[0] ;\n        partArray.forEach(( part , index )=>{\n            let val = (partArray.length < index + 2) ? \"\" : partArray[index+1] ;\n            if( index % 2 == 0 ) {\n                if( ! result.hasOwnProperty(part)) result[part] = val ;\n                else {\n                    if( result[part].constructor != Array) result[part] = [result[part]] ;\n                    result[part].push(val) ;\n                }\n            }\n        }) ;\n        return result ;\n    }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     把对象处理成字符串\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    objectToString(obj) {\n        let conditionKeyArray = [];\n        let conditionValueArray =[];\n            for(let key in obj) {\n                conditionKeyArray.push(key);\n                conditionValueArray.push(obj[key]);\n            }\n        let conditionString = '';\n        conditionKeyArray.forEach((itemUp, index) => {\n            if (index == 0) {\n                if (conditionValueArray[index].constructor == Array){\n                    conditionValueArray[index].forEach(function (item,index) {\n                        if (index == 0){\n                            conditionString = itemUp + '-'+ item\n                        }else {\n                            conditionString = conditionString + '-'+ itemUp + '-'+ item\n                        }\n\n                    })\n                }else {\n                    conditionString = itemUp + '-' + conditionValueArray[index]\n                }\n\n            } else {\n                if (conditionValueArray[index].constructor == Array){\n                    conditionValueArray[index].forEach(function (item,index) {\n                            conditionString = conditionString + '-'+ itemUp + '-'+ item\n                    })\n                }else {\n                    conditionString = conditionString + '-' + itemUp + '-' + conditionValueArray[index]\n                }\n            }\n        });\n        return conditionString\n    };\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     创建dome\n   -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n\n    creatRent(conditionObject,channel,item){\n        let houseTag=[];\n        let houseTagList = '';\n        let commision ='';\n        if (item.houseTag.isSubwayHouse) {\n           /* houseTag.push(\"近地铁\");*/\n            houseTagList += '<span class=\"tag nears\">近地铁</span>'\n        }  if (item.houseTag.isPriceDown) {\n          /*  houseTag.push(\"降价\")*/\n            houseTagList += '<span class=\"tag priced\">降价</span>'\n        }  if (item.houseTag.isNewHouse) {\n           /* houseTag.push(\"新上\")*/\n            houseTagList += '<span class=\"tag newup\">新上</span>'\n        }   if (item.houseTag.isShortRent) {\n            /*houseTag.push(\"可短租\")*/\n            houseTagList += '<span class=\"tag anthert\">可短租</span>'\n        }   if(item.houseTag.isHardcover == 1){\n            /*houseTag.push(\"精装\")*/\n            houseTagList += '<span class=\"tag anthert\">精装</span>'\n        } if(item.houseTag.isHardcover == 2){\n            /*houseTag.push(\"豪装\")*/\n            houseTagList += '<span class=\"tag anthert\">豪装</span>'\n        } if(item.houseTag.isSouth){\n            /*houseTag.push(\"朝南\")*/\n            houseTagList += '<span class=\"tag anthert\">朝南</span>'\n        } if(item.houseTag.isZeroCommission){\n            /*houseTag.push(\"0佣金\")*/\n            commision= ' <span class=\"commission\">0 佣金</span>'\n        }\n        let hasVideo='';\n        if(item.houseTag.hasVideo == 1){\n            hasVideo= `<span class=\"play\"><i></i></span>`;\n        }\n        let distanceSubway = '';\n        if (item.distanceSubway != null){\n            distanceSubway = `<p class=\"base-info\">${item.distanceSubway}</p>`\n        }\n        let bigdata = encodeURIComponent(JSON.stringify({ eventName:'1202039',eventParam:{rent_house_id:item.houseId }, channel:channel || \"\", type: 2}));\n        let domeRent=  `<a  class=\"rent-item box\" href=\" ${item.url}\" data-bigdata=\"${bigdata}\">\n            <div class=\"left\">\n                <img src=\"${item.firstImageUrl}?x-oss-process=image/resize,w_120\" alt=\"${ item.estateName} \" class=\"lazy\">\n                ${hasVideo}\n                ${commision}\n            </div>\n            <div class=\"right\">\n                <h4> ${item.houseTitle}</h4>\n                <p class=\"base-info\">                    \n                   ${item.houseTypeStr} ${item.spaceArea}㎡ | ${item.districtAndTownName}\n                </p>\n                ${distanceSubway}\n                <p class=\"tags\">${houseTagList}</p>\n                <p class=\"unit-price\"> ${item.rentPriceStr} 元/月</p>\n            </div>\n        </a>`;\n        return domeRent\n    }\n\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     上拉加载实例化\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    pullload(conditionObject,channel) {\n        let self = this ;\n        let pinyin = $.cookie('pinyin') || \"shanghai\";\n        //租房列表\n        $(\".rent-items\").pullload({\n            apiUrl : this.apiUrl.rent.list.rentHouseList ,\n            requestType: \"post\",\n            queryStringObject : conditionObject ,\n            traditional: true,\n            pageSize: 10,\n            threshold : 50 ,\n            callback : function(data) {\n                if( ! data.data) return ;\n                $.each(data.data , (index , rent)=> {\n                    rent.url = \"/\"+pinyin+\"/rent/\" + rent.encryptHouseId + \".html\" ;\n                    $(\".rent-items\").append(self.creatRent(conditionObject,channel,rent)) ;\n                }) ;\n            }\n        }) ;\n\n    } ;\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     上拉加载参数组装\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    pullData(condition,cityid) {\n        let conditionData={};\n        if (condition) {\n            let conditionObj =  this.parseCondition({condition:condition});\n            let spaceAreaStart =[\"0-50\",\"50-70\",\"70-90\",\"90-110\",\"110-130\",\"130-150\",\"150-200\",\"200-300\",\"300-0\"];\n            conditionData = {\n                \"cityId\":cityid,\n                \"bedRoomSumLists\":[ ],\n                \"renovations\":[],\n                \"spaceAreas\":[]\n            };\n            if (conditionObj['di']){ // 区域选择\n                conditionData[\"districtId\"] =conditionObj['di']\n            }\n            if(conditionObj['to']){   //town的获取赋值给接口需要的参数\n                conditionData['townId'] = conditionObj['to'];\n            }\n            if (conditionObj['li']){  //地铁线路\n                conditionData['subwayLine'] = conditionObj['li'];\n            }\n            if (conditionObj['st']){  // 地铁站点\n                conditionData['subwayStation'] = conditionObj['st'];\n            }\n            if (conditionObj['la']){   // 房型检索条件\n                if (  conditionObj['la'].constructor == Array) {\n                    conditionData['bedRoomSumLists'] = conditionObj['la'];\n                } else {\n                    conditionObj['la'] == 0 ? conditionData['bedRoomSumLists'] = [] : conditionData['bedRoomSumLists'].push(conditionObj['la']);\n                }\n            }\n            if (conditionObj['pr'] ){   // 价格选择\n                if( conditionObj['pr'].constructor == Array) {\n                    conditionData[\"rentPriceStart\"]= conditionObj['pr'][0];\n                    conditionData[\"rentPriceEnd\"]= conditionObj['pr'][1]\n                }else {\n                    conditionData[\"rentPriceStart\"]= conditionObj['pr']\n                }\n            }\n            if (conditionObj['cp']){  // 价格自定义\n                let cpArray = conditionObj['cp'].split(\"to\");\n                conditionData[\"rentPriceStart\"]= cpArray[0];\n                conditionData[\"rentPriceEnd\"]= cpArray[1]\n            }\n            if (conditionObj['ta']){\n                conditionData[\"isZeroCommission\"] = conditionObj['ta'][0];  // 0佣金 0 否  1 是\n                conditionData[\"isSubWay\"] = conditionObj['ta'][1];  // 近地铁 0 任意  1 是\n                conditionData[\"priceDown\"] = conditionObj['ta'][2]; // 降价  0 否  1 是\n                conditionData[\"isNewOnStore\"] = conditionObj['ta'][3]; // 新上 0：否 1：是，\n                conditionData[\"isShortRent\"] = conditionObj['ta'][4]; // 新上 0：否 1：是，\n                conditionData[\"orientation\"] = conditionObj['ta'][5]; // 房屋朝向 1南北通透 0任意\n            }\n            if (conditionObj['ar']) {   // 面积选择\n                if(conditionObj['ar'].constructor == Array) {\n                    conditionObj['ar'].forEach(function (item) {\n                        conditionData['spaceAreas'].push(spaceAreaStart[item])\n                    });\n                }else {\n                    conditionData['spaceAreas'].push(spaceAreaStart[conditionObj['ar']])\n                }\n            }\n            if (conditionObj['dt']) {   // 装修状况\n                if (conditionObj['dt'].constructor == Array){\n                    conditionData[\"renovations\"] = conditionObj['dt'];\n                }else {\n                    conditionData[\"renovations\"].push(conditionObj['dt']);\n                }\n            }\n            if (conditionObj['so']) {  // 排序\n                conditionData[\"orderType\"] = conditionObj['so'];\n            }\n            if (conditionObj['ne']) { // 附近\n                conditionData[\"endMetres\"] = conditionObj['ne'];\n                conditionData[\"localLon\"] = $.cookie('location_longitude');\n                conditionData[\"localLat\"] = $.cookie('location_latitude');\n            }\n            if (conditionObj['er']) { // 租赁方式 整租\n                conditionData[\"isEntire\"] = conditionObj['er'];\n            }\n            if (conditionObj['fs']) { // 租赁方式 合租\n                conditionData[\"isShared\"] = conditionObj['fs'];\n            }\n        }else {\n            conditionData = {\n                \"cityId\":cityid,\n            };\n        }\n        let channel=\"\";\n        if (this.GetRequest()['districtId']) {  // 查询？后面参数异步请求\n            conditionData['districtId'] = this.GetRequest()['districtId'];\n        } if (this.GetRequest()['townId']){\n            conditionData['townId'] = this.GetRequest()['townId'];\n        } if (this.GetRequest()['subwayLine']){\n            conditionData['subwayLine'] = this.GetRequest()['subwayLine'];\n        } if (this.GetRequest()['subwayStation']){\n            conditionData['subwayStation'] = this.GetRequest()['subwayStation'];\n        } if (this.GetRequest()['subEstateId']){\n            conditionData['subEstateId'] = this.GetRequest()['subEstateId'];\n        } if (this.GetRequest()['channel']){\n             channel = this.GetRequest()['channel'];\n        }\n        this.pullload(conditionData,channel);  // 上拉加载的 函数注册\n    };\n\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n     截取？后面的参数\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    GetRequest() {\n        let url = location.search;\n        let theRequest = {};\n        if (url.indexOf(\"?\") !== -1) {\n            let str = url.substr(1);\n            let strs = str.split(\"&\");\n            for(var i = 0; i < strs.length; i ++) {\n                theRequest[strs[i].split(\"=\")[0]]=strs[i].split(\"=\")[1];\n            }\n        }\n        // console.log(theRequest);\n        return theRequest;\n    }\n\n\n}\n\n\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n    new ListController;\n});"]}