"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),DetailController=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));$(".icon-back").on("click",function(){window.history.go(-1)}),require(["../components/album.min","../components/preview-image.min"],function(t,e){e(".subestate-comments")});var o=t,n=$("#estateName").attr("data-encryptsubestateid");return t.request(t.apiUrl.community.chart,{subEstateId:n},{successCallback:function(t){if(1==t.status){var e=t,n=o.recombineM(e.data);o.echartFun(n)}}}),t}return _inherits(e,t),_createClass(e,[{key:"echartFun",value:function(t){var e=t.seriesData.sort(function(t,e){return parseFloat(t)-parseFloat(e)}),o=1e4*Math.ceil(e[e.length-1]/1e4+1),n=echarts.init(document.getElementById("main"),{width:"88%"}),r=this,i=$("#estateName").attr("data-houseid"),a=$("#estateName").attr("data-subestateid"),s={eventName:"1067014",eventParam:{house_id:i,estate_id:a},type:2},l={tooltip:{trigger:"item",triggerOn:"click",position:"top",backgroundColor:"#92A7C3",padding:4,textStyle:{color:"#fff",fontSize:"12"},formatter:function(t,e,o){var n=t.value+"元";return r.request(r.apiUrl.common.bigData,s,function(){}),n}},grid:{bottom:20,left:"3%",right:"10%",containLabel:!0},xAxis:{data:t.monthList,splitLine:{show:!1},axisTick:{show:!1},position:"bottom",type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#979797"}},axisLabel:{interval:0,rotate:0,textStyle:{color:"#999",fontSize:12,fontFamily:"微软雅黑"}}},yAxis:{axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:["#979797"]}},axisTick:{show:!1},axisLabel:{inside:!1,textStyle:{color:"#999"},formatter:function(t,e){return 0==t?"":t/1e4+"万"}},min:0,max:o,splitNumber:6,interval:o/4},series:[{name:"销量",type:"line",lineStyle:{normal:{color:"#92A7C3"}},itemStyle:{normal:{color:"#92A7C3"},emphasis:{borderColor:"#92A7C3",borderWidth:2,color:"#92A7C3"}},connectNulls:!0,data:t.seriesData}]};n.setOption(l)}},{key:"recombineM",value:function(t){var e={monthList:[],seriesData:[]};return t&&t.forEach(function(t){var o=t.date.split("-")[1];0==o.indexOf("0")?e.monthList.push(o.charAt(1)+"月"):e.monthList.push(o+"月"),e.seriesData.push(t.unitPrice)}),e}}]),e}(Controller);$(document).ready(function(){new DetailController});
//# sourceMappingURL=detail.min.js.map
